<!DOCTYPE html><html lang="en"><head><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin /><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta name="description" content="Vert.x | Reactive applications on the JVM"/><meta name="robots" content="index,follow"/><link rel="shortcut icon" href="/favicons/favicon.ico"/><link rel="icon" type="image/png" sizes="16x16" href="/favicons/favicon-16x16.png"/><link rel="icon" type="image/png" sizes="32x32" href="/favicons/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="48x48" href="/favicons/favicon-48x48.png"/><link rel="alternate" type="application/rss+xml" href="/feed/rss.xml"/><link rel="alternate" type="application/atom+xml" href="/feed/atom.xml"/><link rel="alternate" type="application/json" href="/feed/feed.json"/><title>Using the asynchronous SQL client | Blog | Eclipse Vert.x</title><meta name="next-head-count" content="13"/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="/_next/static/chunks/webpack-378e68e29c265886.js" defer=""></script><script src="/_next/static/chunks/framework-91d7f78b5b4003c8.js" defer=""></script><script src="/_next/static/chunks/main-950829b7c220163d.js" defer=""></script><script src="/_next/static/chunks/pages/_app-7b206233943f98f9.js" defer=""></script><script src="/_next/static/chunks/805-de8fc98706753652.js" defer=""></script><script src="/_next/static/chunks/592-e6341c27ab5a8f7e.js" defer=""></script><script src="/_next/static/chunks/4-a60813ed3cb3e084.js" defer=""></script><script src="/_next/static/chunks/pages/blog/%5B%5B...slug%5D%5D-905f2b1b8485fde6.js" defer=""></script><script src="/_next/static/b2b7Deogm7TI7mFQOalkh/_buildManifest.js" defer=""></script><script src="/_next/static/b2b7Deogm7TI7mFQOalkh/_ssgManifest.js" defer=""></script><script src="/_next/static/b2b7Deogm7TI7mFQOalkh/_middlewareManifest.js" defer=""></script><style id="__jsx-400ec7965926e858">.dropdown-item.jsx-400ec7965926e858 {white-space:nowrap;
line-height:2;
width:100%;
padding:0 1.5rem;
cursor:pointer}
.dropdown-item.jsx-400ec7965926e858:hover {background-color:#e9ecef}
.dropdown-item.active.jsx-400ec7965926e858 {font-weight:400;
padding-left:.75rem}
.dropdown-item.has-active-siblings.jsx-400ec7965926e858:not(.active) {padding-left:calc(0.75rem + 16px + 0.5em)}
.dropdown-item.jsx-400ec7965926e858 .dropdown-check-icon.jsx-400ec7965926e858 {width:16px;
margin-right:.5em;
margin-top:1px}</style><style id="__jsx-6650573c8f14945d">.dropdown.jsx-6650573c8f14945d {position:relative;
display:inline-block}
.dropdown.jsx-6650573c8f14945d .dropdown-title.jsx-6650573c8f14945d {margin-right:0;
cursor:pointer;
-webkit-user-select:none;
-moz-user-select:none;
-ms-user-select:none;
user-select:none}
.dropdown.jsx-6650573c8f14945d .dropdown-menu.jsx-6650573c8f14945d {position:absolute;
background-color:#f8f9fa;
box-shadow:0 2px 5px 0 rgba(0, 0, 0, .1);
border-radius:.8rem;
list-style-type:none;
padding:.6666666667rem 0;
margin:.25rem 0 0 0;
z-index:100;
display:none;
-webkit-user-select:none;
-moz-user-select:none;
-ms-user-select:none;
user-select:none}
.dropdown.jsx-6650573c8f14945d .dropdown-menu.jsx-6650573c8f14945d a {color:#4d4d4d;
-webkit-text-decoration:none;
text-decoration:none;
font-weight:300}
.dropdown.jsx-6650573c8f14945d .dropdown-menu.align-right.jsx-6650573c8f14945d {right:0}
.dropdown.jsx-6650573c8f14945d .dropdown-menu.visible.jsx-6650573c8f14945d {display:block}
.dropdown.jsx-6650573c8f14945d .dropdown-menu.jsx-6650573c8f14945d a.jsx-6650573c8f14945d:hover {color:inherit}
.dropdown.jsx-6650573c8f14945d svg {margin-bottom:2px}</style><style id="__jsx-f705e145f931f504">.navbar {position:absolute;
top:2.75rem;
width:100%}
.navbar a {color:#3c3c3b}
.navbar a.navbar-menu-item, .navbar .dropdown-title {text-transform:uppercase}
.navbar a.navbar-menu-item:hover, .navbar .dropdown-title:hover {-webkit-text-decoration:none;
text-decoration:none;
color:#898987;
-webkit-transition:color .15s ease-in-out;
transition:color .15s ease-in-out}
.navbar .navbar-content {display:-webkit-box;
display:-webkit-flex;
display:-ms-flexbox;
display:flex;
-webkit-flex-direction:row;
-ms-flex-direction:row;
flex-direction:row;
-webkit-align-items:center;
-webkit-box-align:center;
-ms-flex-align:center;
align-items:center;
position:relative}
.navbar .navbar-content .navbar-logo {-webkit-flex:1;
-ms-flex:1;
flex:1}
.navbar .navbar-content .navbar-logo img {width:8.3rem}
.navbar .navbar-content .navbar-collapse-button {display:none;
cursor:pointer}
@media (max-width:1000px) {.navbar .navbar-content .navbar-collapse-button {display:inline-block}}
.navbar .navbar-content .navbar-collapse-button span {display:block;
width:33px;
height:4px;
margin-bottom:5px;
position:relative;
background:#3c3c3b;
border-radius:3px;
z-index:1;
transform-origin:4px 0;
-webkit-transition:-webkit-transform .5s cubic-bezier(0.77, 0.2, 0.05, 1), background .5s cubic-bezier(0.77, 0.2, 0.05, 1), opacity .55s ease;
transition:transform .5s cubic-bezier(0.77, 0.2, 0.05, 1), background .5s cubic-bezier(0.77, 0.2, 0.05, 1), opacity .55s ease}
.navbar .navbar-content .navbar-collapse-button span:first-child {transform-origin:0% 0%}
.navbar .navbar-content .navbar-collapse-button span:nth-last-child(2) {transform-origin:0% 100%}
.navbar .navbar-content .navbar-right {display:-webkit-box;
display:-webkit-flex;
display:-ms-flexbox;
display:flex;
-webkit-flex-direction:row;
-ms-flex-direction:row;
flex-direction:row;
-webkit-align-items:baseline;
-webkit-box-align:baseline;
-ms-flex-align:baseline;
align-items:baseline;
margin-bottom:10px}
@media (max-width:1000px) {.navbar .navbar-content .navbar-right {max-height:0;
-webkit-transition:max-height 200ms ease-in-out;
transition:max-height 200ms ease-in-out;
box-shadow:0 2px 5px 0 rgba(0, 0, 0, .1);
-webkit-flex-direction:column;
-ms-flex-direction:column;
flex-direction:column;
position:absolute;
top:2.75rem;
left:.8rem;
right:.8rem;
background-color:#f8f9fa;
overflow-x:auto;
overflow-y:hidden}}
.navbar .navbar-content .navbar-menu .navbar-menu-item {font-weight:400;
margin-right:2.5rem}
.navbar .navbar-content .navbar-menu .navbar-menu-item.with-drop-down {margin-right:1.8rem}
@media (max-width:1250px) {.navbar .navbar-content .navbar-menu .navbar-menu-item {margin-right:1.5rem}}
@media (max-width:1000px) {.navbar .navbar-content .navbar-menu .navbar-menu-item {display:block;
margin-bottom:1rem;
font-size:1.2rem}}
.navbar .navbar-content .navbar-menu .navbar-menu-item .external-link-icon {margin-left:.25em}
@media (max-width:1000px) {.navbar .navbar-content .navbar-menu {-webkit-flex-direction:column;
-ms-flex-direction:column;
flex-direction:column;
padding:1rem}}
.navbar .navbar-content .navbar-social {margin-left:1.6rem;
font-size:.875rem}
.navbar .navbar-content .navbar-social svg {height:16px;
margin-bottom:2px}
@media (max-width:1000px) {.navbar .navbar-content .navbar-social svg {height:1rem}}
@media (max-width:1250px) {.navbar .navbar-content .navbar-social {margin-left:1rem}}
@media (max-width:1000px) {.navbar .navbar-content .navbar-social {margin-left:auto;
padding:0 1rem 1rem 0;
font-size:1rem}}
@media (max-width:768px) {.navbar {top:1rem}}
.page .navbar {top:0;
padding-top:1.5rem;
padding-bottom:1rem;
position:fixed;
background-color:#fff;
z-index:2}</style><style id="__jsx-2ac0bd13852cf810">.blog-navbar {display:-webkit-box;
display:-webkit-flex;
display:-ms-flexbox;
display:flex;
-webkit-align-items:center;
-webkit-box-align:center;
-ms-flex-align:center;
align-items:center;
margin-bottom:2rem}
.blog-navbar h2 {display:inline;
margin:0;
-webkit-flex:1;
-ms-flex:1;
flex:1}
.blog-navbar ul {padding:0;
list-style-type:none;
margin:0;
display:-webkit-inline-box;
display:-webkit-inline-flex;
display:-ms-inline-flexbox;
display:inline-flex;
-webkit-align-items:center;
-webkit-box-align:center;
-ms-flex-align:center;
align-items:center;
text-transform:uppercase;
-webkit-box-pack:end;
-ms-flex-pack:end;
-webkit-justify-content:flex-end;
justify-content:flex-end}
.blog-navbar ul li {font-size:.875rem;
font-weight:400}
.blog-navbar ul li:not(:first-child) {margin-left:2rem}
@media (max-width:640px) {.blog-navbar {-webkit-flex-direction:column;
-ms-flex-direction:column;
flex-direction:column}
.blog-navbar ul {margin-top:1rem}}
.blog-navbar .feed-icons {display:-webkit-box;
display:-webkit-flex;
display:-ms-flexbox;
display:flex;
margin-left:1.85rem}
.blog-navbar .feed-icons svg {height:1.05rem;
margin-bottom:3px}
@media (max-width:640px) {.blog-navbar .feed-icons {margin-top:.5rem}}</style><style id="__jsx-1a10d7790f826df">.alert.jsx-1a10d7790f826df {border-top-right-radius:.8rem;
border-bottom-right-radius:.8rem;
background-color:#f8f9fa;
padding:1rem;
margin:1.5rem 0;
border-left:9px solid transparent}
.alert.info.jsx-1a10d7790f826df {border-color:#6cb9f0}
.alert.warning.jsx-1a10d7790f826df {border-color:#f0a46c}
.alert.error.jsx-1a10d7790f826df {border-color:#f0646c}
.alert.jsx-1a10d7790f826df .alert-title.jsx-1a10d7790f826df {font-weight:400}
.alert.jsx-1a10d7790f826df p.jsx-1a10d7790f826df:first-of-type {margin-top:0}
.alert.jsx-1a10d7790f826df p.jsx-1a10d7790f826df:last-of-type {margin-bottom:0}</style><style id="__jsx-73ea682053e23281">.read-more-link.jsx-73ea682053e23281 {display:-webkit-inline-box;
display:-webkit-inline-flex;
display:-ms-inline-flexbox;
display:inline-flex;
-webkit-align-items:center;
-webkit-box-align:center;
-ms-flex-align:center;
align-items:center}
.read-more-link.jsx-73ea682053e23281::after {content:"";
width:0;
height:0;
display:inline-block;
border-top:.39rem solid transparent;
border-bottom:.39rem solid transparent;
border-left:.45rem solid #782b90;
margin-left:.5rem;
margin-top:2px;
-webkit-transition:all 100ms ease;
transition:all 100ms ease}
.read-more-link.jsx-73ea682053e23281:hover::after {border-left-color:#571f69;
margin-left:.6666666667rem}</style><style id="__jsx-cc12eb2116299e94">.blog-entry {display:-webkit-box;
display:-webkit-flex;
display:-ms-flexbox;
display:flex;
-webkit-flex-direction:column;
-ms-flex-direction:column;
flex-direction:column;
border-top:1px solid #dee2e6;
padding-top:2rem}
.blog-entry .blog-entry-meta {display:-webkit-box;
display:-webkit-flex;
display:-ms-flexbox;
display:flex;
-webkit-box-pack:justify;
-webkit-justify-content:space-between;
justify-content:space-between;
-webkit-align-items:center;
-webkit-box-align:center;
-ms-flex-align:center;
align-items:center}
.blog-entry h3 {font-size:1.5rem;
line-height:1.4;
margin-top:.5rem;
margin-bottom:1rem}
.blog-entry h3 a:hover {-webkit-text-decoration:none;
text-decoration:none}
.blog-entry .blog-entry-date {font-size:.875rem;
text-transform:uppercase;
white-space:nowrap;
margin-right:.6666666667rem}
.blog-entry .blog-entry-category {font-size:.875rem;
text-transform:uppercase;
font-weight:400;
color:#3c3c3b}
.blog-entry .blog-entry-authors ul {list-style-type:none;
padding:0;
display:inline}
.blog-entry .blog-entry-authors ul li {display:-webkit-inline-box;
display:-webkit-inline-flex;
display:-ms-inline-flexbox;
display:inline-flex;
-webkit-align-items:center;
-webkit-box-align:center;
-ms-flex-align:center;
align-items:center}
.blog-entry .blog-entry-authors ul li:not(:last-child) {margin-right:1rem}
.blog-entry .blog-entry-authors ul li:not(:last-child).avatars-only {margin-right:.25rem}
.blog-entry .blog-entry-authors ul li img {width:24px;
height:24px;
border-radius:12px;
margin-right:.3333333333rem}
.blog-entry .blog-entry-summary {-webkit-flex:1;
-ms-flex:1;
flex:1;
text-align:justify;
hyphens:auto}</style><style id="__jsx-a04fe959d555a951">.blog-post .blog-post-main {display:-webkit-box;
display:-webkit-flex;
display:-ms-flexbox;
display:flex;
width:100%;
-webkit-box-pack:justify;
-webkit-justify-content:space-between;
justify-content:space-between}
.blog-post .blog-post-main .blog-post-content {width:70%;
border-top:1px solid #dee2e6}
.blog-post .blog-post-main .blog-post-content >h1 {line-height:1.4;
margin-bottom:2rem}
.blog-post .blog-post-main .blog-post-content >h2, .blog-post .blog-post-main .blog-post-content >h3, .blog-post .blog-post-main .blog-post-content >h4 {line-height:1.4;
margin-top:3rem}
.blog-post .blog-post-main .blog-post-content ul {padding-left:1.1rem}
.blog-post .blog-post-main .blog-post-content ul ul {padding-left:1.3rem;
margin-top:.5rem;
margin-bottom:1rem}
.blog-post .blog-post-main .blog-post-content li {margin-bottom:.5rem}
.blog-post .blog-post-main .blog-post-content img {display:block;
max-width:100%;
margin-left:auto;
margin-right:auto}
.blog-post .blog-post-main .blog-post-content .youtube-embed {padding-bottom:56.25%;
position:relative;
display:block}
.blog-post .blog-post-main .blog-post-content .youtube-embed iframe {position:absolute;
left:0;
top:0;
bottom:0;
right:0;
width:100%;
height:100%}
.blog-post .blog-post-main .blog-post-content blockquote {margin:0 0 1rem;
border-left:5px solid #dee2e6;
font-style:italic}
.blog-post .blog-post-main .blog-post-content blockquote p {padding:.25rem 1rem}
.blog-post .blog-post-main .blog-post-content .gist .gist-data {max-height:500px}
.blog-post .blog-post-main .blog-post-sidebar {width:calc(30% - 2rem);
border-top:1px solid #dee2e6}
.blog-post .blog-post-main .blog-post-sidebar .blog-post-author {margin-top:1rem;
display:-webkit-box;
display:-webkit-flex;
display:-ms-flexbox;
display:flex;
-webkit-align-items:center;
-webkit-box-align:center;
-ms-flex-align:center;
align-items:center}
.blog-post .blog-post-main .blog-post-sidebar .blog-post-author:first-child {margin-top:2rem}
.blog-post .blog-post-main .blog-post-sidebar .blog-post-author .blog-post-author-avatar {width:60px;
height:60px;
border-radius:30px;
margin-right:.8rem}
.blog-post .blog-post-main .blog-post-sidebar .blog-post-author .blog-post-author-name {font-size:1.2rem;
line-height:1.2;
margin-bottom:.25rem}
.blog-post .blog-post-main .blog-post-sidebar .blog-post-author .blog-post-author-name a {font-weight:400}
.blog-post .blog-post-main .blog-post-sidebar .blog-post-sidebar-pinned {display:-webkit-box;
display:-webkit-flex;
display:-ms-flexbox;
display:flex;
margin-top:2rem}
.blog-post .blog-post-main .blog-post-sidebar .blog-post-sidebar-date {margin-top:1rem}
.blog-post .blog-post-main .blog-post-sidebar .blog-post-sidebar-category {text-transform:uppercase;
font-weight:400}
.blog-post .blog-post-main .blog-post-sidebar .blog-post-sidebar-reading-time {margin-top:2rem}
.blog-post .blog-post-main .blog-post-sidebar .blog-post-sidebar-reading-time .feather {margin-bottom:2px;
margin-right:2px}
.blog-post .blog-post-main .blog-post-sidebar .blog-post-sidebar-share-icons {margin-top:2rem}
.blog-post .blog-post-main .blog-post-sidebar .blog-post-sidebar-share-icons a {color:#3c3c3b}
.blog-post .blog-post-main .blog-post-sidebar .blog-post-sidebar-share-icons a svg {-webkit-transition:-webkit-transform .15s ease-in-out;
transition:transform .15s ease-in-out}
.blog-post .blog-post-main .blog-post-sidebar .blog-post-sidebar-share-icons a:hover svg {-webkit-transform:scale(1.1);
-moz-transform:scale(1.1);
-ms-transform:scale(1.1);
transform:scale(1.1)}
.blog-post .blog-post-main .blog-post-sidebar .blog-post-sidebar-share-icons a:not(:last-child) {margin-right:.6666666667rem}
@media (max-width:1000px) {.blog-post .blog-post-main {-webkit-flex-direction:column;
-ms-flex-direction:column;
flex-direction:column}
.blog-post .blog-post-main .blog-post-content {width:100%}
.blog-post .blog-post-main .blog-post-sidebar {width:100%;
text-align:center}
.blog-post .blog-post-main .blog-post-sidebar .blog-post-author {-webkit-justify-content:center;
justify-content:center;
margin-bottom:2rem}}
.blog-post .blog-post-next-prev {display:grid;
grid-template-columns:1fr 1fr 1fr;
grid-gap:4rem;
border-top:1px solid #dee2e6;
margin-top:6rem;
padding-top:2rem}
.blog-post .blog-post-next-prev h5 {text-align:center}
.blog-post .blog-post-next-prev .blog-post-next-prev-entry:last-child {grid-column-start:3}
@media (max-width:1000px) {.blog-post .blog-post-next-prev {margin-top:3rem;
grid-template-columns:1fr;
grid-gap:2rem}
.blog-post .blog-post-next-prev .blog-post-next-prev-entry:last-child {grid-column-start:1}}
.blog-post .blog-post-related {padding-top:2rem}
.blog-post .blog-post-related h5 {text-align:center}
.blog-post .blog-post-related .blog-post-related-posts {display:grid;
grid-template-columns:1fr 1fr 1fr;
grid-gap:4rem}
@media (max-width:1000px) {.blog-post .blog-post-related .blog-post-related-posts {grid-template-columns:1fr}}</style><style id="__jsx-aeedcf66895f49d7">footer {font-size:.875rem;
padding-top:3rem;
padding-bottom:4rem;
background-color:#f8f9fa;
border-top:1px solid #dee2e6;
margin-top:1rem;
color:#6f6970}
footer h5 {font-size:1rem;
margin-top:0;
margin-bottom:1rem;
color:#3c3c3b;
text-transform:uppercase}
footer ul {padding:0;
list-style:none;
line-height:2}
footer a {color:#6f6970}
footer .footer-logo img, footer .footer-copyright-eclipse-logo img {-webkit-filter:grayscale(100);
filter:grayscale(100);
opacity:.5;
-webkit-transition:all .15s ease-in-out;
transition:all .15s ease-in-out}
footer .footer-logo img:hover, footer .footer-copyright-eclipse-logo img:hover {-webkit-filter:grayscale(0);
filter:grayscale(0);
opacity:1}
footer .footer-nav-section {display:-webkit-box;
display:-webkit-flex;
display:-ms-flexbox;
display:flex;
-webkit-flex-direction:row;
-ms-flex-direction:row;
flex-direction:row;
margin-bottom:6rem}
footer .footer-nav-section .footer-logo {margin-top:.4rem}
footer .footer-nav-section .footer-logo img {width:8.3rem}
footer .footer-nav-section .footer-nav-list {width:20%}
footer .footer-copyright {display:-webkit-box;
display:-webkit-flex;
display:-ms-flexbox;
display:flex;
-webkit-flex-direction:row;
-ms-flex-direction:row;
flex-direction:row;
-webkit-box-pack:justify;
-webkit-justify-content:space-between;
justify-content:space-between;
-webkit-align-items:center;
-webkit-box-align:center;
-ms-flex-align:center;
align-items:center}
footer .footer-copyright a {white-space:nowrap}
footer .footer-copyright .footer-copyright-eclipse-logo {width:17%;
margin-bottom:.5rem}
@media (max-width:1250px) {footer .footer-copyright .footer-copyright-break {display:none}
footer .footer-copyright .footer-copyright-eclipse-logo {width:30%}}
@media (max-width:1000px) {footer .footer-nav-section .footer-nav-list {width:25%}
footer .footer-copyright .footer-copyright-break {display:inline-block}
footer .footer-copyright .footer-copyright-eclipse-logo {width:40%}}
@media (max-width:768px) {footer .footer-nav-section {max-width:100%;
margin-left:auto;
margin-right:auto}}
@media (max-width:640px) {footer .footer-nav-section {max-width:80%;
margin-bottom:3rem;
-webkit-flex-direction:column;
-ms-flex-direction:column;
flex-direction:column}
footer .footer-nav-section h5 {cursor:pointer}
footer .footer-nav-section h5::after {display:inline-block;
content:"";
border-top:.4em solid;
border-right:.4em solid transparent;
border-bottom:0;
border-left:.4em solid transparent;
position:absolute;
top:.75rem;
right:0}
footer .footer-nav-section .footer-nav-list {width:100%;
position:relative}
footer .footer-nav-section .footer-nav-list ul {overflow-y:hidden;
max-height:0;
-webkit-transition:all 200ms ease-in-out;
transition:all 200ms ease-in-out}
footer .footer-nav-section .footer-nav-list ul.visible {margin-bottom:2rem}
footer .footer-nav-section .footer-logo {margin:0 auto 3rem auto;
width:auto}
footer .footer-copyright {max-width:80%;
text-align:center;
margin-left:auto;
margin-right:auto;
-webkit-flex-direction:column-reverse;
-ms-flex-direction:column-reverse;
flex-direction:column-reverse}
footer .footer-copyright .footer-copyright-eclipse-logo {width:7.6rem;
margin-bottom:1rem}}</style><style id="__jsx-b068a573b7111330">.page-content.jsx-b068a573b7111330 {margin-top:6em;
margin-bottom:8rem}</style><style id="__jsx-7824b3ad3820c879">html {line-height:1.15;
-webkit-text-size-adjust:100%}
body {margin:0}
main {display:block}
h1 {font-size:2em;
margin:.67em 0}
hr {box-sizing:content-box;
height:0;
overflow:visible}
pre {font-family:monospace, monospace;
font-size:1em}
a {background-color:transparent}
abbr[title] {border-bottom:none;
text-decoration:underline;
text-decoration:underline dotted}
b, strong {font-weight:bolder}
code, kbd, samp {font-family:monospace, monospace;
font-size:1em}
small {font-size:80%}
sub, sup {font-size:75%;
line-height:0;
position:relative;
vertical-align:baseline}
sub {bottom:-0.25em}
sup {top:-0.5em}
img {border-style:none}
button, input, optgroup, select, textarea {font-family:inherit;
font-size:100%;
line-height:1.15;
margin:0}
button, input {overflow:visible}
button, select {text-transform:none}
button, [type=button], [type=reset], [type=submit] {-webkit-appearance:button}
button::-moz-focus-inner, [type=button]::-moz-focus-inner, [type=reset]::-moz-focus-inner, [type=submit]::-moz-focus-inner {border-style:none;
padding:0}
button:-moz-focusring, [type=button]:-moz-focusring, [type=reset]:-moz-focusring, [type=submit]:-moz-focusring {outline:1px dotted ButtonText}
fieldset {padding:.35em .75em .625em}
legend {box-sizing:border-box;
color:inherit;
display:table;
max-width:100%;
padding:0;
white-space:normal}
progress {vertical-align:baseline}
textarea {overflow:auto}
[type=checkbox], [type=radio] {box-sizing:border-box;
padding:0}
[type=number]::-webkit-inner-spin-button, [type=number]::-webkit-outer-spin-button {height:auto}
[type=search] {-webkit-appearance:textfield;
outline-offset:-2px}
[type=search]::-webkit-search-decoration {-webkit-appearance:none}
::-webkit-file-upload-button {-webkit-appearance:button;
font:inherit}
details {display:block}
summary {display:list-item}
template {display:none}
[hidden] {display:none}
.hljs, pre {display:block;
overflow-x:auto;
padding:.5em;
background:#3a2840;
color:#fff}
.hljs.language-shell :not(.bash) +.bash, .hljs.language-better-shell :not(.bash) +.bash, pre.language-shell :not(.bash) +.bash, pre.language-better-shell :not(.bash) +.bash {color:#d2a8e0}
pre {border-radius:.8rem;
padding:1rem;
font-size:.875rem;
margin:1.5rem 0}
.hljs-keyword, .hljs-selector-tag, .hljs-tag {color:#d2a8e0}
.hljs-template-tag {color:red}
.hljs-number {color:#6cb9f0}
.hljs-variable, .hljs-template-variable, .hljs-attribute, .hljs-literal {color:#c9e5f9}
.hljs-subst {color:red}
.hljs-title, .hljs-name, .hljs-selector-id, .hljs-selector-class, .hljs-section, .hljs-type {color:#f0a46c}
.hljs-symbol, .hljs-bullet, .hljs-link {color:#d2a8e0}
.hljs-deletion, .hljs-string, .hljs-built_in, .hljs-builtin-name {color:#6cb9f0}
.hljs-addition, .hljs-comment, .hljs-quote, .hljs-meta {color:#adb5bd}
.hljs-emphasis {font-style:italic}
.hljs-strong {font-weight:bold}
#nprogress {pointer-events:none}
#nprogress .bar {background:#29d;
position:fixed;
z-index:1031;
top:0;
left:0;
width:100%;
height:2px}
#nprogress .peg {display:block;
position:absolute;
right:0px;
width:100px;
height:100%;
box-shadow:0 0 10px #29d, 0 0 5px #29d;
opacity:1;
-webkit-transform:rotate(3deg) translate(0px, -4px);
-ms-transform:rotate(3deg) translate(0px, -4px);
-webkit-transform:rotate(3deg) translate(0px, -4px);
-moz-transform:rotate(3deg) translate(0px, -4px);
-ms-transform:rotate(3deg) translate(0px, -4px);
transform:rotate(3deg) translate(0px, -4px)}
#nprogress .spinner {display:block;
position:fixed;
z-index:1031;
top:15px;
right:15px}
#nprogress .spinner-icon {width:18px;
height:18px;
box-sizing:border-box;
border:solid 2px transparent;
border-top-color:#29d;
border-left-color:#29d;
border-radius:50%;
-webkit-animation:nprogress-spinner 400ms linear infinite;
-webkit-animation:nprogress-spinner 400ms linear infinite;
animation:nprogress-spinner 400ms linear infinite}
.nprogress-custom-parent {overflow:hidden;
position:relative}
.nprogress-custom-parent #nprogress .spinner, .nprogress-custom-parent #nprogress .bar {position:absolute}
@keyframes nprogress-spinner {0% {-webkit-transform:rotate(0deg)}100% {-webkit-transform:rotate(360deg)}}
@keyframes nprogress-spinner {0% {transform:rotate(0deg)}100% {transform:rotate(360deg)}}
#nprogress .bar {background:#782b90}
#nprogress .peg {box-shadow:0 0 10px #782b90, 0 0 5px #782b90}
#nprogress .spinner-icon {border-top-color:#782b90;
border-left-color:#782b90}
html {box-sizing:border-box}
*, *::before, *::after {box-sizing:inherit}
:root {font-size:18px}
@media (max-width:1000px) {:root {font-size:17.1px}}
@media (max-width:768px) {:root {font-size:16.2px}}
@media (max-width:640px) {:root {font-size:15.3px}}
body, input {font-family:Roboto, sans-serif;
font-weight:300;
line-height:1.7;
color:#3c3c3b}
input {outline:none}
h1, h2, h3, h4, h5, h6 {font-weight:400}
h1 {font-size:2.5rem}
h2 {font-size:2rem}
h3 {font-size:1.75rem}
h4 {font-size:1.5rem}
h5 {font-size:1.25rem}
h6 {font-size:1.1rem}
.container {width:100%;
padding-right:.8rem;
padding-left:.8rem;
margin-right:auto;
margin-left:auto}
@media (min-width:640px) {.container {max-width:620px}}
@media (min-width:768px) {.container {max-width:738px}}
@media (min-width:1000px) {.container {max-width:950px}}
@media (min-width:1250px) {.container {max-width:1180px}}
@media (min-width:1250px) {.container-narrow {max-width:950px}}
.img-fluid {max-width:100%}
a {-webkit-text-decoration:none;
text-decoration:none;
color:#782b90}
a:hover {text-decoration:underline;
color:#571f69}
img {vertical-align:middle}
svg {overflow:hidden;
vertical-align:middle}
code, pre {font-family:"Roboto Mono", SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace}
p code {display:-webkit-inline-box;
display:-webkit-inline-flex;
display:-ms-inline-flexbox;
display:inline-flex;
max-width:100%;
overflow:auto}
.heading-anchor {opacity:0;
-webkit-align-self:flex-start;
-ms-flex-item-align:flex-start;
align-self:flex-start;
outline:none}
.heading-anchor::after {content:"#";
position:absolute;
margin-left:-1.5rem;
color:#ced4da;
padding-right:.45rem}
.heading-anchor:hover {opacity:1}
h2:hover .heading-anchor, h3:hover .heading-anchor, h4:hover .heading-anchor, h5:hover .heading-anchor, h6:hover .heading-anchor {opacity:1}
h1 .heading-anchor {display:none}
h4 .heading-anchor::after, h5 .heading-anchor::after, h6 .heading-anchor::after {padding-right:.6rem}</style><style data-href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500&display=swap">@font-face{font-family:'Roboto';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOlCnqEu92Fr1MmSU5vAA.woff) format('woff')}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOmCnqEu92Fr1Me5g.woff) format('woff')}@font-face{font-family:'Roboto';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOlCnqEu92Fr1MmEU9vAA.woff) format('woff')}@font-face{font-family:'Roboto';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOlCnqEu92Fr1MmSU5fCRc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Roboto';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOlCnqEu92Fr1MmSU5fABc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Roboto';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOlCnqEu92Fr1MmSU5fCBc4AMP6lbBP.woff2) format('woff2');unicode-range:U+1F00-1FFF}@font-face{font-family:'Roboto';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOlCnqEu92Fr1MmSU5fBxc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0370-03FF}@font-face{font-family:'Roboto';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOlCnqEu92Fr1MmSU5fCxc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Roboto';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOlCnqEu92Fr1MmSU5fChc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Roboto';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOlCnqEu92Fr1MmSU5fBBc4AMP6lQ.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOmCnqEu92Fr1Mu72xKKTU1Kvnz.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOmCnqEu92Fr1Mu5mxKKTU1Kvnz.woff2) format('woff2');unicode-range:U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOmCnqEu92Fr1Mu7mxKKTU1Kvnz.woff2) format('woff2');unicode-range:U+1F00-1FFF}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOmCnqEu92Fr1Mu4WxKKTU1Kvnz.woff2) format('woff2');unicode-range:U+0370-03FF}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOmCnqEu92Fr1Mu7WxKKTU1Kvnz.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOmCnqEu92Fr1Mu7GxKKTU1Kvnz.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOmCnqEu92Fr1Mu4mxKKTU1Kg.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Roboto';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOlCnqEu92Fr1MmEU9fCRc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Roboto';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOlCnqEu92Fr1MmEU9fABc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Roboto';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOlCnqEu92Fr1MmEU9fCBc4AMP6lbBP.woff2) format('woff2');unicode-range:U+1F00-1FFF}@font-face{font-family:'Roboto';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOlCnqEu92Fr1MmEU9fBxc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0370-03FF}@font-face{font-family:'Roboto';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOlCnqEu92Fr1MmEU9fCxc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Roboto';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOlCnqEu92Fr1MmEU9fChc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Roboto';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOlCnqEu92Fr1MmEU9fBBc4AMP6lQ.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}</style><style data-href="https://fonts.googleapis.com/css2?family=Roboto+Condensed:wght@300;400&display=swap">@font-face{font-family:'Roboto Condensed';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/robotocondensed/v19/ieVi2ZhZI2eCN5jzbjEETS9weq8-33mZKCA.woff) format('woff')}@font-face{font-family:'Roboto Condensed';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/robotocondensed/v19/ieVl2ZhZI2eCN5jzbjEETS9weq8-59Y.woff) format('woff')}@font-face{font-family:'Roboto Condensed';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/robotocondensed/v19/ieVi2ZhZI2eCN5jzbjEETS9weq8-33mZGCkYb9lecyVC4A.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Roboto Condensed';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/robotocondensed/v19/ieVi2ZhZI2eCN5jzbjEETS9weq8-33mZGCAYb9lecyVC4A.woff2) format('woff2');unicode-range:U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Roboto Condensed';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/robotocondensed/v19/ieVi2ZhZI2eCN5jzbjEETS9weq8-33mZGCgYb9lecyVC4A.woff2) format('woff2');unicode-range:U+1F00-1FFF}@font-face{font-family:'Roboto Condensed';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/robotocondensed/v19/ieVi2ZhZI2eCN5jzbjEETS9weq8-33mZGCcYb9lecyVC4A.woff2) format('woff2');unicode-range:U+0370-03FF}@font-face{font-family:'Roboto Condensed';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/robotocondensed/v19/ieVi2ZhZI2eCN5jzbjEETS9weq8-33mZGCsYb9lecyVC4A.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Roboto Condensed';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/robotocondensed/v19/ieVi2ZhZI2eCN5jzbjEETS9weq8-33mZGCoYb9lecyVC4A.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Roboto Condensed';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/robotocondensed/v19/ieVi2ZhZI2eCN5jzbjEETS9weq8-33mZGCQYb9lecyU.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Roboto Condensed';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/robotocondensed/v19/ieVl2ZhZI2eCN5jzbjEETS9weq8-19-7DQk6YvNkeg.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Roboto Condensed';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/robotocondensed/v19/ieVl2ZhZI2eCN5jzbjEETS9weq8-19a7DQk6YvNkeg.woff2) format('woff2');unicode-range:U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Roboto Condensed';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/robotocondensed/v19/ieVl2ZhZI2eCN5jzbjEETS9weq8-1967DQk6YvNkeg.woff2) format('woff2');unicode-range:U+1F00-1FFF}@font-face{font-family:'Roboto Condensed';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/robotocondensed/v19/ieVl2ZhZI2eCN5jzbjEETS9weq8-19G7DQk6YvNkeg.woff2) format('woff2');unicode-range:U+0370-03FF}@font-face{font-family:'Roboto Condensed';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/robotocondensed/v19/ieVl2ZhZI2eCN5jzbjEETS9weq8-1927DQk6YvNkeg.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Roboto Condensed';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/robotocondensed/v19/ieVl2ZhZI2eCN5jzbjEETS9weq8-19y7DQk6YvNkeg.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Roboto Condensed';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/robotocondensed/v19/ieVl2ZhZI2eCN5jzbjEETS9weq8-19K7DQk6YvM.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}</style><style data-href="https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@400&display=swap">@font-face{font-family:'Roboto Mono';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/robotomono/v13/L0xuDF4xlVMF-BfR8bXMIhJHg45mwgGEFl0_3vqPQA.woff) format('woff')}@font-face{font-family:'Roboto Mono';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/robotomono/v13/L0xuDF4xlVMF-BfR8bXMIhJHg45mwgGEFl0_3vq_SeW-AJi8SJQtQ4Y.woff) format('woff');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Roboto Mono';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/robotomono/v13/L0xuDF4xlVMF-BfR8bXMIhJHg45mwgGEFl0_3vq_QOW-AJi8SJQtQ4Y.woff) format('woff');unicode-range:U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Roboto Mono';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/robotomono/v13/L0xuDF4xlVMF-BfR8bXMIhJHg45mwgGEFl0_3vq_R-W-AJi8SJQtQ4Y.woff) format('woff');unicode-range:U+0370-03FF}@font-face{font-family:'Roboto Mono';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/robotomono/v13/L0xuDF4xlVMF-BfR8bXMIhJHg45mwgGEFl0_3vq_S-W-AJi8SJQtQ4Y.woff) format('woff');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Roboto Mono';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/robotomono/v13/L0xuDF4xlVMF-BfR8bXMIhJHg45mwgGEFl0_3vq_SuW-AJi8SJQtQ4Y.woff) format('woff');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Roboto Mono';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/robotomono/v13/L0xuDF4xlVMF-BfR8bXMIhJHg45mwgGEFl0_3vq_ROW-AJi8SJQt.woff) format('woff');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}</style></head><body data-build-time="2021-12-18T08:59:47.533Z" data-build-commit-id="72dcc70b64841f2a2992eb8c060157ea89c0832c" data-build-run-id="1595575279"><div id="__next" data-reactroot=""><main class="jsx-b068a573b7111330 page"><header><div class="jsx-f705e145f931f504 navbar"><div class="jsx-f705e145f931f504 navbar-content container"><div class="jsx-f705e145f931f504 navbar-logo"><a class="jsx-f705e145f931f504" href="/"><img src="data:image/svg+xml,%3csvg version=&#x27;1.1&#x27; id=&#x27;Layer_1&#x27; xmlns=&#x27;http://www.w3.org/2000/svg&#x27; x=&#x27;0&#x27; y=&#x27;0&#x27; viewBox=&#x27;0 0 1232.6 315.2&#x27; style=&#x27;enable-background:new 0 0 1232.6 315.2&#x27; xml:space=&#x27;preserve&#x27;%3e%3cstyle%3e.st0%7bfill:%23782a91%7d%3c/style%3e%3cpath d=&#x27;M120.9 214.2 190.5 0h52.3l-98.5 273.8H98.2L0 0h52.1l68.8 214.2zm291.2-62.6H299.6v84.2H431v38H252V0h177.7v38.4H299.6V114h112.5v37.6zm83.7-113.2H546c16.5.3 29 4.4 37.3 12.4 8.3 8 12.5 19.4 12.5 34 0 14-4.5 25.1-13.5 33.2-9 8.1-21.6 12.1-37.6 12.1h-27.1v24.2l86.1 119.5h51v-2.4l-77.2-106.7c24.9-5.5 43.3-21.7 52.6-35.9 8.2-12.6 13.3-27.7 13.3-46 0-26.8-8.6-47.4-25.8-61.5C600.5 7.1 576.1 0 544.5 0h-96.3v273.8h47.6&#x27;/%3e%3cpath class=&#x27;st0&#x27; d=&#x27;m1052.3 157.7-41.5 62.7 29.7 53.4h85.1z&#x27;/%3e%3ccircle class=&#x27;st0&#x27; cx=&#x27;827.9&#x27; cy=&#x27;274.7&#x27; r=&#x27;40.5&#x27;/%3e%3cpath class=&#x27;st0&#x27; d=&#x27;m1037 0-47.6 74.2L949 0h-84l85.3 135.8-67.1 105.7c5.7 9.5 9.1 20.5 9.2 32.4h50.1L1121.3 0H1037z&#x27;/%3e%3cpath d=&#x27;M763.5 273.8c.1-9.9 2.5-19.2 6.6-27.5V38.4h85.4V0H638.2v38.4h84.6v235.4h40.7zm414-266.9h-15.3v42.2h-8.5V6.9h-15.2V0h39v6.9zM1193 0l14.2 37.7L1221.3 0h11v49.1h-8.5V32.9l.8-21.7-14.5 37.9h-6.1l-14.5-37.8.8 21.6v16.2h-8.5V0h11.2z&#x27;/%3e%3c/svg%3e" alt="Vert.x Logo" class="jsx-f705e145f931f504"/></a></div><div class="jsx-f705e145f931f504 navbar-collapse-button"><span class="jsx-f705e145f931f504"></span><span class="jsx-f705e145f931f504"></span><span class="jsx-f705e145f931f504"></span></div><div class="jsx-f705e145f931f504 navbar-right"><div class="jsx-f705e145f931f504 navbar-menu"><span class="jsx-f705e145f931f504 navbar-menu-item with-drop-down"><div class="jsx-6650573c8f14945d dropdown"><a class="jsx-6650573c8f14945d dropdown-title">Start<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="6 9 12 15 18 9"></polyline></svg></a><ul class="jsx-6650573c8f14945d dropdown-menu"><a class="jsx-f705e145f931f504" href="/introduction-to-vertx-and-reactive/"><li class="jsx-400ec7965926e858 dropdown-item">Intro to reactive</li></a><a class="jsx-f705e145f931f504" href="/get-started/"><li class="jsx-400ec7965926e858 dropdown-item">Get started</li></a><a href="https://start.vertx.io/" target="_blank" rel="noreferrer" class="jsx-f705e145f931f504"><li class="jsx-400ec7965926e858 dropdown-item">App generator <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="external-link-icon"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></svg></li></a></ul></div></span><a class="jsx-f705e145f931f504 navbar-menu-item" href="/docs/">Docs</a><span class="jsx-f705e145f931f504 navbar-menu-item with-drop-down"><div class="jsx-6650573c8f14945d dropdown"><a class="jsx-6650573c8f14945d dropdown-title">Resources<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="6 9 12 15 18 9"></polyline></svg></a><ul class="jsx-6650573c8f14945d dropdown-menu"><a class="jsx-f705e145f931f504" href="/faq/"><li class="jsx-400ec7965926e858 dropdown-item">FAQ</li></a><a class="jsx-f705e145f931f504" href="/channels/"><li class="jsx-400ec7965926e858 dropdown-item">Channels</li></a><a href="https://how-to.vertx.io/" target="_blank" rel="noreferrer" class="jsx-f705e145f931f504"><li class="jsx-400ec7965926e858 dropdown-item">How-Toâ€™s <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="external-link-icon"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></svg></li></a><a href="https://github.com/vert-x3/vertx-eventbus-bridge-clients" target="_blank" rel="noreferrer" class="jsx-f705e145f931f504"><li class="jsx-400ec7965926e858 dropdown-item">EventBus Bridge Clients <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="external-link-icon"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></svg></li></a><a href="https://github.com/vert-x3/advanced-vertx-guide" target="_blank" rel="noreferrer" class="jsx-f705e145f931f504"><li class="jsx-400ec7965926e858 dropdown-item">Advanced Vert.x Guide <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="external-link-icon"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></svg></li></a></ul></div></span><a class="jsx-f705e145f931f504 navbar-menu-item" href="/blog/">Blog</a><a class="jsx-f705e145f931f504 navbar-menu-item" href="/community/">Community</a></div><div class="jsx-f705e145f931f504 navbar-social"><a href="https://github.com/vert-x3/vertx-awesome" title="Awesome Vert.x" target="_blank" rel="noopener noreferrer" class="jsx-f705e145f931f504 navbar-social-link"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24" aria-label="List of awesome Vert.x projects"><title>Awesome Vert.x</title><path d="M24 11.438l-6.154-5.645-.865.944 5.128 4.7H1.895l5.128-4.705-.865-.943-6.154 5.649H0v3.72c0 1.683 1.62 3.053 3.61 3.053h3.795c1.99 0 3.61-1.37 3.61-3.051v-2.446h1.97v2.446c0 1.68 1.62 3.051 3.61 3.051h3.794c1.99 0 3.61-1.37 3.61-3.051v-3.721z"></path></svg></a><a href="https://stackoverflow.com/questions/tagged/vert.x" title="Stack Overflow" target="_blank" rel="noopener noreferrer" class="jsx-f705e145f931f504 navbar-social-link"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24" aria-label="Stack Overflow questions related to Vert.x"><title>stackoverflow</title><path d="M15.725 0l-1.72 1.277 6.39 8.588 1.716-1.277L15.725 0zm-3.94 3.418l-1.369 1.644 8.225 6.85 1.369-1.644-8.225-6.85zm-3.15 4.465l-.905 1.94 9.702 4.517.904-1.94-9.701-4.517zm-1.85 4.86l-.44 2.093 10.473 2.201.44-2.092-10.473-2.203zM1.89 15.47V24h19.19v-8.53h-2.133v6.397H4.021v-6.396H1.89zm4.265 2.133v2.13h10.66v-2.13H6.154Z"></path></svg></a><a href="https://www.youtube.com/channel/UCGN6L3tRhs92Uer3c6VxOSA" title="YouTube" target="_blank" rel="noopener noreferrer" class="jsx-f705e145f931f504 navbar-social-link"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24" aria-label="YouTube channel of Vert.x"><title>youtube</title><path d="M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"></path></svg></a><a href="https://discord.gg/KzEMwP2" title="Discord" target="_blank" rel="noopener noreferrer" class="jsx-f705e145f931f504 navbar-social-link"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24" aria-label="Eclipse Vert.x channel on Discord"><title>discord</title><path d="M20.317 4.3698a19.7913 19.7913 0 00-4.8851-1.5152.0741.0741 0 00-.0785.0371c-.211.3753-.4447.8648-.6083 1.2495-1.8447-.2762-3.68-.2762-5.4868 0-.1636-.3933-.4058-.8742-.6177-1.2495a.077.077 0 00-.0785-.037 19.7363 19.7363 0 00-4.8852 1.515.0699.0699 0 00-.0321.0277C.5334 9.0458-.319 13.5799.0992 18.0578a.0824.0824 0 00.0312.0561c2.0528 1.5076 4.0413 2.4228 5.9929 3.0294a.0777.0777 0 00.0842-.0276c.4616-.6304.8731-1.2952 1.226-1.9942a.076.076 0 00-.0416-.1057c-.6528-.2476-1.2743-.5495-1.8722-.8923a.077.077 0 01-.0076-.1277c.1258-.0943.2517-.1923.3718-.2914a.0743.0743 0 01.0776-.0105c3.9278 1.7933 8.18 1.7933 12.0614 0a.0739.0739 0 01.0785.0095c.1202.099.246.1981.3728.2924a.077.077 0 01-.0066.1276 12.2986 12.2986 0 01-1.873.8914.0766.0766 0 00-.0407.1067c.3604.698.7719 1.3628 1.225 1.9932a.076.076 0 00.0842.0286c1.961-.6067 3.9495-1.5219 6.0023-3.0294a.077.077 0 00.0313-.0552c.5004-5.177-.8382-9.6739-3.5485-13.6604a.061.061 0 00-.0312-.0286zM8.02 15.3312c-1.1825 0-2.1569-1.0857-2.1569-2.419 0-1.3332.9555-2.4189 2.157-2.4189 1.2108 0 2.1757 1.0952 2.1568 2.419 0 1.3332-.9555 2.4189-2.1569 2.4189zm7.9748 0c-1.1825 0-2.1569-1.0857-2.1569-2.419 0-1.3332.9554-2.4189 2.1569-2.4189 1.2108 0 2.1757 1.0952 2.1568 2.419 0 1.3332-.946 2.4189-2.1568 2.4189Z"></path></svg></a><a href="https://groups.google.com/forum/?fromgroups#!forum/vertx" title="Vert.x User Group" target="_blank" rel="noopener noreferrer" class="jsx-f705e145f931f504 navbar-social-link"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24" aria-label="A Google group for Vert.x users"><title>Vert.x User Group</title><path d="M.92 3.332c-.776 0-1.216.67-.692 1.383l2.537 4.403v7.86c0 2.013 1.467 3.69 3.459 3.69H20.31a3.75 3.75 0 003.69-3.69V7.043a3.723 3.723 0 00-3.668-3.71zm5.786 3.71H20.1c.587 0 1.153.357 1.153.923 0 .566-.566.922-1.153.922H6.706c-.587 0-1.153-.356-1.153-.922 0-.566.566-.923 1.153-.923zm0 3.69H20.1c.587 0 1.153.356 1.153.922 0 .566-.566.922-1.153.922H6.706c-.587 0-1.153-.356-1.153-.922 0-.566.566-.922 1.153-.922zm-.021 3.71h9.705c.587 0 1.153.356 1.153.922 0 .566-.566.923-1.153.923H6.685c-.587 0-1.153-.357-1.153-.923 0-.566.566-.922 1.153-.922Z"></path></svg></a></div></div></div></div></header><div class="jsx-b068a573b7111330 page-content"><div class="jsx-b068a573b7111330 container"><div class="jsx-a04fe959d555a951 blog-post"><div class="jsx-2ac0bd13852cf810 blog-navbar"><h2 class="jsx-2ac0bd13852cf810">Blog</h2><ul class="jsx-2ac0bd13852cf810"><li class="jsx-2ac0bd13852cf810"><a class="jsx-2ac0bd13852cf810" href="/blog/">All posts</a></li><li class="jsx-2ac0bd13852cf810"><a class="jsx-2ac0bd13852cf810" href="/blog/category/releases/">releases</a></li><li class="jsx-2ac0bd13852cf810"><a class="jsx-2ac0bd13852cf810" href="/blog/category/guides/">guides</a></li><li class="jsx-2ac0bd13852cf810"><a class="jsx-2ac0bd13852cf810" href="/blog/category/security/">security</a></li><li class="jsx-2ac0bd13852cf810"><a class="jsx-2ac0bd13852cf810" href="/blog/category/news/">news</a></li></ul><div class="jsx-2ac0bd13852cf810 feed-icons"><a href="/feed/atom.xml" class="jsx-2ac0bd13852cf810"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 11a9 9 0 0 1 9 9"></path><path d="M4 4a16 16 0 0 1 16 16"></path><circle cx="5" cy="19" r="1"></circle></svg></a></div></div><div class="blog-post-main"><div class="blog-post-content"><h1>Using the asynchronous SQL client</h1><p>FiÂ­nally, backâ€¦ This post is the fifth post of the inÂ­troÂ­ducÂ­tion to vert.x blog seÂ­ries, after a not-â€‹that-small break. In this post we are going to see how we can use JDBC in a vert.x apÂ­pliÂ­caÂ­tion, and this, using the asynÂ­chroÂ­nous API proÂ­vided by the <a href="/docs/vertx-jdbc-client/java/">vertx-â€‹jdbc-client</a>.</p><h2 id="previously-in-the-introduction-to-vertx-series"><a aria-hidden="true" tabindex="-1" class="heading-anchor" href="#previously-in-the-introduction-to-vertx-series"></a>Previously in the introduction to vert.x series</h2><p>As it was quite some time since the last post, letâ€™s start by reÂ­freshÂ­ing our mind about the four preÂ­viÂ­ous posts:</p><ol><li>The <a href="/blog/my-first-vert-x-3-application/">first post</a> has deÂ­scribed how to build a vert.x apÂ­pliÂ­caÂ­tion with Maven and exÂ­eÂ­cute unit tests.</li><li>The <a href="/blog/vert-x-application-configuration/">secÂ­ond post</a> has deÂ­scribed how this apÂ­pliÂ­caÂ­tion can beÂ­come conÂ­figÂ­urable.</li><li>The <a href="/blog/some-rest-with-vert-x/">third post</a> has inÂ­troÂ­duced <a href="/docs/vertx-web/java/">vertx-â€‹web</a>, and a small colÂ­lecÂ­tion manÂ­ageÂ­ment apÂ­pliÂ­caÂ­tion has been deÂ­velÂ­oped. This apÂ­pliÂ­caÂ­tion ofÂ­fers a REST API used by a HTML/JavaScript fronÂ­tend.</li><li>The <a href="/blog/unit-and-integration-tests/">preÂ­viÂ­ous post</a> has preÂ­sented how you can run inÂ­teÂ­graÂ­tion tests to enÂ­sure the beÂ­havÂ­ior of your apÂ­pliÂ­caÂ­tion.</li></ol><p>In this post, back to code. The curÂ­rent apÂ­pliÂ­caÂ­tion uses an in-â€‹memory map to store the prodÂ­ucts. Itâ€™s time to use a dataÂ­base. In this post we are going to use <a href="http://hsqldb.org/">HSQL</a>, but you can use any dataÂ­base proÂ­vidÂ­ing a JDBC driÂ­ver. InÂ­terÂ­acÂ­tions with the dataÂ­base will be asynÂ­chroÂ­nous and made using the <a href="/docs/vertx-jdbc-client/java/">vertx-â€‹jdbc-client</a>.</p><p>The code of this post are availÂ­able on this Github <a href="https://github.com/cescoffier/my-vertx-first-app">project</a>, in the <a href="https://github.com/cescoffier/my-vertx-first-app/tree/post-5">post-5 branch</a> branch.</p><h2 id="asynchronous"><a aria-hidden="true" tabindex="-1" class="heading-anchor" href="#asynchronous"></a>Asynchronous?</h2><p>One of the vert.x charÂ­acÂ­terÂ­isÂ­tics is being asynÂ­chroÂ­nous. With an asynÂ­chroÂ­nous API, you donâ€™t wait for a reÂ­sult, but you are noÂ­tiÂ­fied when this reÂ­sult is ready. Just to ilÂ­lusÂ­trate this, letâ€™s take a very simÂ­ple exÂ­amÂ­ple.</p><p>Letâ€™s imagÂ­ine an <code>add</code> method. TraÂ­diÂ­tionÂ­ally, you would use it like this: <code>int r = add(1, 1)</code>. This is a synÂ­chroÂ­nous API as you are waitÂ­ing for the reÂ­sult. An asynÂ­chroÂ­nous verÂ­sion of this API would be: <code>add(1, 1, r -&gt; { /* do something with the result */ })</code>. In this verÂ­sion, you pass a <code>Handler</code> called when the reÂ­sult has been comÂ­puted. The method does not reÂ­turn anyÂ­thing, and could be imÂ­pleÂ­mented as:</p><pre><code class="hljs language-java"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">add</span><span class="hljs-params">(<span class="hljs-keyword">int</span> a, <span class="hljs-keyword">int</span> b, Handler&lt;Integer&gt; resultHandler)</span> </span>{
    <span class="hljs-keyword">int</span> r = a + b;
    resultHandler.handle(r);
}
</code></pre><p>Just to avoid misÂ­conÂ­cepÂ­tions, asynÂ­chroÂ­nous API are not about threads. As we can see in the <code>add</code> exÂ­amÂ­ple, there are no threads inÂ­volved.</p><h2 id="jdbc-yes-but-asynchronous"><a aria-hidden="true" tabindex="-1" class="heading-anchor" href="#jdbc-yes-but-asynchronous"></a>JDBC yes, but asynchronous</h2><p>So, now that we have seen some baÂ­sics about asynÂ­chroÂ­nous API, letâ€™s have a look to the vertx-â€‹jdbc-client. This comÂ­poÂ­nent lets us inÂ­terÂ­act with a dataÂ­base through a JDBC driÂ­ver. These inÂ­terÂ­acÂ­tions are asynÂ­chroÂ­nous, so when you were doing:</p><pre><code class="hljs language-java">String sql = <span class="hljs-string">&quot;SELECT * FROM Products&quot;</span>;
ResultSet rs = stmt.executeQuery(sql);
</code></pre><p>it will be:</p><pre><code class="hljs language-java">connection.query(<span class="hljs-string">&quot;SELECT * FROM Products&quot;</span>, result -&gt; {
        <span class="hljs-comment">// do something with the result</span>
});
</code></pre><p>This model is more efÂ­fiÂ­cient as it avoids waitÂ­ing for the reÂ­sult. You are noÂ­tiÂ­fied when the reÂ­sult is availÂ­able.</p><p>Letâ€™s now modÂ­ify our apÂ­pliÂ­caÂ­tion to use a dataÂ­base to store our prodÂ­ucts.</p><h2 id="some-maven-dependencies"><a aria-hidden="true" tabindex="-1" class="heading-anchor" href="#some-maven-dependencies"></a>Some maven dependencies</h2><p>The first things we need to do it to deÂ­clare two new Maven deÂ­penÂ­denÂ­cies in our <code>pom.xml</code> file:</p><pre><code class="hljs language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>io.vertx<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>vertx-jdbc-client<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>3.1.0<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.hsqldb<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>hsqldb<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>2.3.3<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
</code></pre><p>The first deÂ­penÂ­dency proÂ­vides the vertx-â€‹jdbc-client, while the secÂ­ond one proÂ­vide the HSQL JDBC driÂ­ver. If you want to use anÂ­other dataÂ­base, change this deÂ­penÂ­dency. You will also need to change the JDBC url and JDBC driÂ­ver class name later.</p><h2 id="initializing-the-jdbc-client"><a aria-hidden="true" tabindex="-1" class="heading-anchor" href="#initializing-the-jdbc-client"></a>Initializing the JDBC client</h2><p>Now that we have added these deÂ­penÂ­denÂ­cies, itâ€™s time to creÂ­ate our JDBC client:</p><p>In the <code>MyFirstVerticle</code> class, deÂ­clare a new field <code>JDBCClient jdbc;</code>, and add the folÂ­lowÂ­ing line at the beÂ­ginÂ­ning of the <code>start</code> method:</p><pre><code class="hljs language-java">jdbc = JDBCClient.createShared(vertx, config(), <span class="hljs-string">&quot;My-Whisky-Collection&quot;</span>);
</code></pre><p>This creÂ­ates an inÂ­stance of JDBC client, conÂ­figÂ­ured with the conÂ­figÂ­uÂ­raÂ­tion proÂ­vided to the verÂ­tiÂ­cle. To work corÂ­rectly this conÂ­figÂ­uÂ­raÂ­tion needs to proÂ­vide:</p><ul><li><em>url</em> - the JDBC url such as <code>jdbc:hsqldb:mem:db?shutdown=true</code></li><li><em>driÂ­ver_class</em> - the JDBC driÂ­ver class such as <code>org.hsqldb.jdbcDriver</code></li></ul><p>Ok, we have the client, we need a conÂ­necÂ­tion to the dataÂ­base. This is achieved using the <code>jdbc.getConnection</code> that take a <code>Handler&lt;AsyncResult&lt;SQLConnection&gt;&gt;</code> as paÂ­raÂ­meÂ­ter. Letâ€™s have a deeper look to this type. Itâ€™s a <code>Handler</code>, so it is called when the reÂ­sult is ready. This reÂ­sult is an inÂ­stance of <code>AsyncResult&lt;SQLConnection&gt;</code>. <code>AsyncResult</code> is a strucÂ­ture proÂ­vided by vert.x that lets us know if the opÂ­erÂ­aÂ­tion was comÂ­pleted sucÂ­cessÂ­fully or failed. In case of sucÂ­cess, it proÂ­vides the reÂ­sult, here an inÂ­stance of <code>SQLConnection</code>.</p><p>When you reÂ­ceive an inÂ­stance of <code>AsyncResult</code>, your code genÂ­erÂ­ally looks like:</p><pre><code class="hljs language-java"><span class="hljs-keyword">if</span> (ar.failed()) {
  System.err.println(<span class="hljs-string">&quot;The operation has failed...: &quot;</span>
      + ar.cause().getMessage());
} <span class="hljs-keyword">else</span> {
  <span class="hljs-comment">// Use the result:</span>
  result = ar.result();
 }
</code></pre><p>So, letâ€™s go back to our <code>SQLConnection</code>. We need to reÂ­trieve it, and then start the rest of the apÂ­pliÂ­caÂ­tion. This changes how we start the apÂ­pliÂ­caÂ­tion, as it will beÂ­come asynÂ­chroÂ­nous. So, if we diÂ­vide our startup seÂ­quence into small chunks it would be someÂ­thing like:</p><pre><code class="hljs language-java">startBackend(
 (connection) -&gt; createSomeData(connection,
     (nothing) -&gt; startWebApp(
         (http) -&gt; completeStartup(http, fut)
     ), fut
 ), fut);
</code></pre><p>with:</p><ol><li><code>startBackend</code> - reÂ­trieves a <code>SQLConnection</code> and then calls the next step</li><li><code>createSomeData</code> - iniÂ­tialÂ­izes the dataÂ­base and inÂ­serts some data. When done, it calls the next step</li><li><code>startWebApp</code> - starts our web apÂ­pliÂ­caÂ­tion</li><li><code>completeStartup</code> - fiÂ­nalÂ­izes our start seÂ­quence</li></ol><p><code>fut</code> is the comÂ­pleÂ­tion fuÂ­ture passed by vert.x that let us reÂ­port when we are started, or if an issue has been enÂ­counÂ­tered while startÂ­ing.</p><p>Letâ€™s have a look to <code>startBackend</code>:</p><pre><code class="hljs language-java"><span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">startBackend</span><span class="hljs-params">(Handler&lt;AsyncResult&lt;SQLConnection&gt;&gt; next, Future&lt;Void&gt; fut)</span> </span>{
  jdbc.getConnection(ar -&gt; {
    <span class="hljs-keyword">if</span> (ar.failed()) {
      fut.fail(ar.cause());
    } <span class="hljs-keyword">else</span> {
      next.handle(Future.succeededFuture(ar.result()));
    }
  });
}
</code></pre><p>This method reÂ­trieves a <code>SQLConnection</code>, check whether this opÂ­erÂ­aÂ­tion sucÂ­ceeded. If so, it calls the next step. In case of failÂ­ure, it reÂ­ports it.</p><p>The other methÂ­ods folÂ­low the same patÂ­tern: 1) check if the last opÂ­erÂ­aÂ­tion has sucÂ­ceeded, 2) do the task, 3) call the next step.</p><h3 id="a-bit-of-sql"><a aria-hidden="true" tabindex="-1" class="heading-anchor" href="#a-bit-of-sql"></a>A bit of SQLâ€¦</h3><p>Our client is ready, letâ€™s now write some SQL stateÂ­ments. Letâ€™s start by the <code>createSomeData</code> method that is part of the startup seÂ­quence:</p><pre><code class="hljs language-java"><span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">createSomeData</span><span class="hljs-params">(AsyncResult&lt;SQLConnection&gt; result,
    Handler&lt;AsyncResult&lt;Void&gt;&gt; next, Future&lt;Void&gt; fut)</span> </span>{
    <span class="hljs-keyword">if</span> (result.failed()) {
      fut.fail(result.cause());
    } <span class="hljs-keyword">else</span> {
      SQLConnection connection = result.result();
      connection.execute(
          <span class="hljs-string">&quot;CREATE TABLE IF NOT EXISTS Whisky (id INTEGER IDENTITY, name varchar(100), &quot;</span> +
          <span class="hljs-string">&quot;origin varchar(100))&quot;</span>,
          ar -&gt; {
            <span class="hljs-keyword">if</span> (ar.failed()) {
              fut.fail(ar.cause());
              connection.close();
              <span class="hljs-keyword">return</span>;
            }
            connection.query(<span class="hljs-string">&quot;SELECT * FROM Whisky&quot;</span>, select -&gt; {
              <span class="hljs-keyword">if</span> (select.failed()) {
                fut.fail(ar.cause());
                connection.close();
                <span class="hljs-keyword">return</span>;
              }
              <span class="hljs-keyword">if</span> (select.result().getNumRows() == <span class="hljs-number">0</span>) {
                insert(
                    <span class="hljs-keyword">new</span> Whisky(<span class="hljs-string">&quot;Bowmore 15 Years Laimrig&quot;</span>, <span class="hljs-string">&quot;Scotland, Islay&quot;</span>),
                    connection,
                    (v) -&gt; insert(<span class="hljs-keyword">new</span> Whisky(<span class="hljs-string">&quot;Talisker 57Â° North&quot;</span>, <span class="hljs-string">&quot;Scotland, Island&quot;</span>),
                        connection,
                        (r) -&gt; {
                          next.handle(Future.&lt;Void&gt;succeededFuture());
                          connection.close();
                        }));                                                    
              } <span class="hljs-keyword">else</span> {
                next.handle(Future.&lt;Void&gt;succeededFuture());
                connection.close();
              }
            });
          });
    }
  }
</code></pre><p>This method checks that the <code>SQLConnection</code> is availÂ­able and then start exÂ­eÂ­cutÂ­ing some SQL stateÂ­ments. First, it creÂ­ates the taÂ­bles if there are not there yet. As you can see, the method called is strucÂ­tured as folÂ­lows:</p><pre><code class="hljs language-java">connection.execute(
    SQL statement,
    handler called when the statement has been executed
)
</code></pre><p>The hanÂ­dler reÂ­ceives an <code>AsyncResult&lt;Void&gt;</code>, <em>i.e.</em> a noÂ­tiÂ­fiÂ­caÂ­tion of the comÂ­pleÂ­tion withÂ­out an acÂ­tual reÂ­sult.</p><div class="jsx-1a10d7790f826df alert info"><div class="jsx-1a10d7790f826df alert-title">Closing connection</div><p>Donâ€™t forÂ­get to close the SQL conÂ­necÂ­tion when you are done. The conÂ­necÂ­tion will be given back to the conÂ­necÂ­tion pool and be reused.</p></div><p>In the code of this hanÂ­dler, we check whether or not the stateÂ­ment has been exÂ­eÂ­cuted corÂ­rectly, and if so we check to see if the table alÂ­ready conÂ­tains some data, if not, it inÂ­serts data using the <code>insert</code> method:</p><pre><code class="hljs language-java"><span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">insert</span><span class="hljs-params">(Whisky whisky, SQLConnection connection, Handler&lt;AsyncResult&lt;Whisky&gt;&gt; next)</span> </span>{
  String sql = <span class="hljs-string">&quot;INSERT INTO Whisky (name, origin) VALUES ?, ?&quot;</span>;
  connection.updateWithParams(sql,
      <span class="hljs-keyword">new</span> JsonArray().add(whisky.getName()).add(whisky.getOrigin()),
      (ar) -&gt; {
        <span class="hljs-keyword">if</span> (ar.failed()) {
          next.handle(Future.failedFuture(ar.cause()));
          <span class="hljs-keyword">return</span>;
        }
        UpdateResult result = ar.result();
        <span class="hljs-comment">// Build a new whisky instance with the generated id.</span>
        Whisky w = <span class="hljs-keyword">new</span> Whisky(result.getKeys().getInteger(<span class="hljs-number">0</span>), whisky.getName(), whisky.getOrigin());
        next.handle(Future.succeededFuture(w));
      });
}
</code></pre><p>This method uses the <code>updateWithParams</code> method with an <em>INÂ­SERT</em> stateÂ­ment, and pass valÂ­ues. This apÂ­proach avoids SQL inÂ­jecÂ­tion. Once the the stateÂ­ment has been exÂ­eÂ­cuted, we creÂ­ates a new <code>Whisky</code> obÂ­ject with the creÂ­ated (auto-â€‹generated) id.</p><h2 id="some-rest-with-a-pinch-of-sql"><a aria-hidden="true" tabindex="-1" class="heading-anchor" href="#some-rest-with-a-pinch-of-sql"></a>Some REST with a pinch of SQL</h2><p>The method deÂ­scribed  above is part of our start seÂ­quence. But what about the method inÂ­voked by our REST API. Letâ€™s have a look to the <code>getAll</code> method. This method is called by the web front-â€‹end to reÂ­trieve all stored prodÂ­ucts:</p><pre><code class="hljs language-java"> <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">getAll</span><span class="hljs-params">(RoutingContext routingContext)</span> </span>{
    jdbc.getConnection(ar -&gt; {
      SQLConnection connection = ar.result();
      connection.query(<span class="hljs-string">&quot;SELECT * FROM Whisky&quot;</span>, result -&gt; {
        List&lt;Whisky&gt; whiskies = result.result().getRows().stream().map(Whisky::<span class="hljs-keyword">new</span>).collect(Collectors.toList());
        routingContext.response()
            .putHeader(<span class="hljs-string">&quot;content-type&quot;</span>, <span class="hljs-string">&quot;application/json; charset=utf-8&quot;</span>)
            .end(Json.encodePrettily(whiskies));
        connection.close(); <span class="hljs-comment">// Close the connection     </span>
      });
    });
  }
</code></pre><p>This method gets a <code>SQLConnection</code>, and then issue a query. Once the reÂ­sult has been reÂ­trieved it writes the HTTP reÂ­sponse as beÂ­fore. The <code>getOne</code>, <code>deleteOne</code>, <code>updateOne</code> and <code>addOne</code> methÂ­ods folÂ­low the same patÂ­tern. NoÂ­tice that the conÂ­necÂ­tion can be closed after the reÂ­sponse has been writÂ­ten.</p><p>Letâ€™s have a look to the reÂ­sult proÂ­vided to the hanÂ­dler passed to the <code>query</code> method. It gets a <code>ResultSet</code>, which conÂ­tains the query reÂ­sult. Each row is a <code>JsonObject</code>, so if your data obÂ­ject has a conÂ­strucÂ­tor takÂ­ing a <code>JsonObject</code> as unique arÂ­guÂ­ment, creÂ­atÂ­ing there obÂ­jects is straightÂ­forÂ­ward.</p><h2 id="test-test-and-test-again"><a aria-hidden="true" tabindex="-1" class="heading-anchor" href="#test-test-and-test-again"></a>Test, test, and test again</h2><p>We need to slightly upÂ­date our tests to conÂ­figÂ­ure the <code>JDBCClient</code>. In the <code>MyFirstVertilceTest</code> class, change the <code>DeploymentOption</code> obÂ­ject creÂ­ated in the <code>setUp</code> method to be:</p><pre><code class="hljs language-java">DeploymentOptions options = <span class="hljs-keyword">new</span> DeploymentOptions()
    .setConfig(<span class="hljs-keyword">new</span> JsonObject()
        .put(<span class="hljs-string">&quot;http.port&quot;</span>, port)
        .put(<span class="hljs-string">&quot;url&quot;</span>, <span class="hljs-string">&quot;jdbc:hsqldb:mem:test?shutdown=true&quot;</span>)
        .put(<span class="hljs-string">&quot;driver_class&quot;</span>, <span class="hljs-string">&quot;org.hsqldb.jdbcDriver&quot;</span>)
    );
</code></pre><p>In adÂ­diÂ­tion to the <code>http.port</code>, we also put the JDBC url and the class of the JDBC driÂ­ver. We use an in-â€‹memory dataÂ­base for tests.</p><p>The same modÂ­iÂ­fiÂ­caÂ­tion needs to be done in the <code>src/test/resources/my-it-config.json</code> file:</p><pre><code class="hljs language-json">{
  <span class="hljs-attr">&quot;http.port&quot;</span>: ${http.port},
  <span class="hljs-attr">&quot;url&quot;</span>: <span class="hljs-string">&quot;jdbc:hsqldb:mem:it-test?shutdown=true&quot;</span>,
  <span class="hljs-attr">&quot;driver_class&quot;</span>: <span class="hljs-string">&quot;org.hsqldb.jdbcDriver&quot;</span>
}
</code></pre><p>The <code>src/main/conf/my-application-conf.json</code> file also needs to be upÂ­dated, not for the tests, but to run the apÂ­pliÂ­caÂ­tion:</p><pre><code class="hljs language-json">{
  <span class="hljs-attr">&quot;http.port&quot;</span> : <span class="hljs-number">8082</span>,
  <span class="hljs-attr">&quot;url&quot;</span>: <span class="hljs-string">&quot;jdbc:hsqldb:file:db/whiskies&quot;</span>,
  <span class="hljs-attr">&quot;driver_class&quot;</span>: <span class="hljs-string">&quot;org.hsqldb.jdbcDriver&quot;</span>
}
</code></pre><p>The JDBC url is a bit difÂ­ferÂ­ent in this last file, as we store the dataÂ­base on the file sysÂ­tem.</p><h2 id="show-time"><a aria-hidden="true" tabindex="-1" class="heading-anchor" href="#show-time"></a>Show time!</h2><p>Letâ€™s now build our apÂ­pliÂ­caÂ­tion:</p><p><code>mvn clean package</code></p><p>As we didnâ€™t change the API (neiÂ­ther the pubÂ­lic java one nor the REST), test should run smoothly.</p><p>Then launch the apÂ­pliÂ­caÂ­tion with:</p><p><code>java -jar target/my-first-app-1.0-SNAPSHOT-fat.jar -conf src/main/conf/my-application-conf.json </code></p><p>Open your browser to <code>http://localhost:8082/assets/index.html</code>, and you should see the apÂ­pliÂ­caÂ­tion using the dataÂ­base. This time the prodÂ­ucts are stored in a dataÂ­base perÂ­sisted on the file sysÂ­tem. So, if we stop and restart the apÂ­pliÂ­caÂ­tion, the data is reÂ­stored.</p><h2 id="conclusion"><a aria-hidden="true" tabindex="-1" class="heading-anchor" href="#conclusion"></a>Conclusion</h2><p>In this post, we saw how you can use JDBC dataÂ­base with vert.x, and thus withÂ­out too much burÂ­den. You may have been surÂ­prised by the asynÂ­chroÂ­nous deÂ­velÂ­opÂ­ment model, but once you start using it, itâ€™s hard to come back.</p><p>In the <a href="/blog/combine-vert-x-and-mongo-to-build-a-giant/">next post</a>, we see how the same apÂ­pliÂ­caÂ­tion can use MonÂ­goDB inÂ­stead of HSQL.</p><p>Stay tuned, and happy codÂ­ing!</p></div><div class="blog-post-sidebar"><div class="blog-post-author"><img class="blog-post-author-avatar" src="https://github.com/cescoffier.png?size=160" alt="Clement Escoffier&#x27;s profile image"/><div class="blog-post-author-name">by <a href="https://github.com/cescoffier" target="_blank" rel="noopener noreferrer">Clement Escoffier</a></div></div><div class="blog-post-sidebar-date">Posted on <!-- -->19 October 2015</div>in <a class="blog-post-sidebar-category" href="/blog/category/guides/">guides</a><div class="blog-post-sidebar-reading-time"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather"><circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline></svg> <!-- -->10 min read</div><div class="blog-post-sidebar-share-icons"><a href="https://twitter.com/intent/tweet?text=Using%20the%20asynchronous%20SQL%20client&amp;url=https%3A%2F%2Fvertx.io%2Fblog%2Fusing-the-asynchronous-sql-client&amp;via=vertx_project" target="_blank" rel="noopener noreferrer"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24"><title>twitter</title><path d="M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"></path></svg></a><a href="https://www.linkedin.com/sharing/share-offsite/?url=https%3A%2F%2Fvertx.io%2Fblog%2Fusing-the-asynchronous-sql-client" target="_blank" rel="noopener noreferrer"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24"><title>linkedin</title><path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"></path></svg></a><a href="https://www.facebook.com/sharer.php?u=https%3A%2F%2Fvertx.io%2Fblog%2Fusing-the-asynchronous-sql-client" target="_blank" rel="noopener noreferrer"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24"><title>facebook</title><path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"></path></svg></a></div></div></div><div class="blog-post-next-prev"><div class="blog-post-next-prev-entry"><h5>Next post</h5><div class="jsx-cc12eb2116299e94 blog-entry"><div class="jsx-cc12eb2116299e94 blog-entry-meta"><div class="jsx-cc12eb2116299e94 blog-entry-meta-left"><span class="jsx-cc12eb2116299e94 blog-entry-date">25 November 2015</span>â€‹<a class="jsx-cc12eb2116299e94 blog-entry-category" href="/blog/category/guides/">guides</a></div><div class="jsx-cc12eb2116299e94 blog-entry-meta-right"></div></div><h3 class="jsx-cc12eb2116299e94"><a class="jsx-cc12eb2116299e94" href="/blog/vert-x-es6-back-to-the-future/">Vert.x ES6 back to the future</a></h3><span class="jsx-cc12eb2116299e94 blog-entry-authors"><ul class="jsx-cc12eb2116299e94"><li class=""><img src="https://github.com/pmlopes.png?size=50" alt="Paulo Lopes&#x27;s profile image"/><a href="https://github.com/pmlopes" target="_blank" rel="noopener noreferrer">Paulo Lopes</a></li></ul></span><p class="jsx-cc12eb2116299e94 blog-entry-summary">On October 21th, 2015 we all rejoiced with the return from the past of Marty McFly with his flying car and so on, however in the Vert.x world we were quite sad about our rather old JavaScript support.</p><span class="jsx-73ea682053e23281 read-more-link"><a href="/blog/vert-x-es6-back-to-the-future/">Read more</a></span></div></div><div class="blog-post-next-prev-entry"><h5>Previous post</h5><div class="jsx-cc12eb2116299e94 blog-entry"><div class="jsx-cc12eb2116299e94 blog-entry-meta"><div class="jsx-cc12eb2116299e94 blog-entry-meta-left"><span class="jsx-cc12eb2116299e94 blog-entry-date">8 October 2015</span>â€‹<a class="jsx-cc12eb2116299e94 blog-entry-category" href="/blog/category/releases/">releases</a></div><div class="jsx-cc12eb2116299e94 blog-entry-meta-right"></div></div><h3 class="jsx-cc12eb2116299e94"><a class="jsx-cc12eb2116299e94" href="/blog/vert-x-3-1-0-is-released/">Vert.x 3.1.0 is released!</a></h3><span class="jsx-cc12eb2116299e94 blog-entry-authors"><ul class="jsx-cc12eb2116299e94"><li class=""><img src="https://github.com/purplefox.png?size=50" alt="Tim Fox&#x27;s profile image"/><a href="https://github.com/purplefox" target="_blank" rel="noopener noreferrer">Tim Fox</a></li></ul></span><p class="jsx-cc12eb2116299e94 blog-entry-summary">I&#x27;m pleased to announce the release of Vert.x 3.1!</p><span class="jsx-73ea682053e23281 read-more-link"><a href="/blog/vert-x-3-1-0-is-released/">Read more</a></span></div></div></div><div class="blog-post-related"><h5>Related posts</h5><div class="blog-post-related-posts"><div class="jsx-cc12eb2116299e94 blog-entry"><div class="jsx-cc12eb2116299e94 blog-entry-meta"><div class="jsx-cc12eb2116299e94 blog-entry-meta-left"><span class="jsx-cc12eb2116299e94 blog-entry-date">3 August 2015</span>â€‹<a class="jsx-cc12eb2116299e94 blog-entry-category" href="/blog/category/guides/">guides</a></div><div class="jsx-cc12eb2116299e94 blog-entry-meta-right"></div></div><h3 class="jsx-cc12eb2116299e94"><a class="jsx-cc12eb2116299e94" href="/blog/unit-and-integration-tests/">Unit and Integration Tests</a></h3><span class="jsx-cc12eb2116299e94 blog-entry-authors"><ul class="jsx-cc12eb2116299e94"><li class=""><img src="https://github.com/cescoffier.png?size=50" alt="Clement Escoffier&#x27;s profile image"/><a href="https://github.com/cescoffier" target="_blank" rel="noopener noreferrer">Clement Escoffier</a></li></ul></span><p class="jsx-cc12eb2116299e94 blog-entry-summary">Letâ€™s refresh our mind about what we developed so far in the introduction to vert.x series. We forgot an important task. We didnâ€™t test the API.</p><span class="jsx-73ea682053e23281 read-more-link"><a href="/blog/unit-and-integration-tests/">Read more</a></span></div><div class="jsx-cc12eb2116299e94 blog-entry"><div class="jsx-cc12eb2116299e94 blog-entry-meta"><div class="jsx-cc12eb2116299e94 blog-entry-meta-left"><span class="jsx-cc12eb2116299e94 blog-entry-date">30 November 2015</span>â€‹<a class="jsx-cc12eb2116299e94 blog-entry-category" href="/blog/category/guides/">guides</a></div><div class="jsx-cc12eb2116299e94 blog-entry-meta-right"></div></div><h3 class="jsx-cc12eb2116299e94"><a class="jsx-cc12eb2116299e94" href="/blog/combine-vert-x-and-mongo-to-build-a-giant/">Combine vert.x and mongo to build a giant</a></h3><span class="jsx-cc12eb2116299e94 blog-entry-authors"><ul class="jsx-cc12eb2116299e94"><li class=""><img src="https://github.com/cescoffier.png?size=50" alt="Clement Escoffier&#x27;s profile image"/><a href="https://github.com/cescoffier" target="_blank" rel="noopener noreferrer">Clement Escoffier</a></li></ul></span><p class="jsx-cc12eb2116299e94 blog-entry-summary">This blog post is part of the introduction to Vert.x series. We are now going to replace this JDBC client by the vertx-mongo-client, and thus connect to a Mongo database.</p><span class="jsx-73ea682053e23281 read-more-link"><a href="/blog/combine-vert-x-and-mongo-to-build-a-giant/">Read more</a></span></div><div class="jsx-cc12eb2116299e94 blog-entry"><div class="jsx-cc12eb2116299e94 blog-entry-meta"><div class="jsx-cc12eb2116299e94 blog-entry-meta-left"><span class="jsx-cc12eb2116299e94 blog-entry-date">14 July 2015</span>â€‹<a class="jsx-cc12eb2116299e94 blog-entry-category" href="/blog/category/guides/">guides</a></div><div class="jsx-cc12eb2116299e94 blog-entry-meta-right"></div></div><h3 class="jsx-cc12eb2116299e94"><a class="jsx-cc12eb2116299e94" href="/blog/my-first-vert-x-3-application/">My first Vert.x 3 Application</a></h3><span class="jsx-cc12eb2116299e94 blog-entry-authors"><ul class="jsx-cc12eb2116299e94"><li class=""><img src="https://github.com/cescoffier.png?size=50" alt="Clement Escoffier&#x27;s profile image"/><a href="https://github.com/cescoffier" target="_blank" rel="noopener noreferrer">Clement Escoffier</a></li></ul></span><p class="jsx-cc12eb2116299e94 blog-entry-summary">Let&#x27;s say, you heard someone saying that Vert.x is awesome. Ok great, but you may want to try it by yourself. Well, the next natural question is â€œwhere do I start ?â€</p><span class="jsx-73ea682053e23281 read-more-link"><a href="/blog/my-first-vert-x-3-application/">Read more</a></span></div></div></div></div></div></div><footer class="jsx-aeedcf66895f49d7"><div class="jsx-aeedcf66895f49d7 container"><div class="jsx-aeedcf66895f49d7 footer-nav-section"><div class="jsx-aeedcf66895f49d7 footer-nav-list footer-logo"><a class="jsx-aeedcf66895f49d7" href="/"><img src="data:image/svg+xml,%3csvg version=&#x27;1.1&#x27; id=&#x27;Layer_1&#x27; xmlns=&#x27;http://www.w3.org/2000/svg&#x27; x=&#x27;0&#x27; y=&#x27;0&#x27; viewBox=&#x27;0 0 1232.6 315.2&#x27; style=&#x27;enable-background:new 0 0 1232.6 315.2&#x27; xml:space=&#x27;preserve&#x27;%3e%3cstyle%3e.st0%7bfill:%23782a91%7d%3c/style%3e%3cpath d=&#x27;M120.9 214.2 190.5 0h52.3l-98.5 273.8H98.2L0 0h52.1l68.8 214.2zm291.2-62.6H299.6v84.2H431v38H252V0h177.7v38.4H299.6V114h112.5v37.6zm83.7-113.2H546c16.5.3 29 4.4 37.3 12.4 8.3 8 12.5 19.4 12.5 34 0 14-4.5 25.1-13.5 33.2-9 8.1-21.6 12.1-37.6 12.1h-27.1v24.2l86.1 119.5h51v-2.4l-77.2-106.7c24.9-5.5 43.3-21.7 52.6-35.9 8.2-12.6 13.3-27.7 13.3-46 0-26.8-8.6-47.4-25.8-61.5C600.5 7.1 576.1 0 544.5 0h-96.3v273.8h47.6&#x27;/%3e%3cpath class=&#x27;st0&#x27; d=&#x27;m1052.3 157.7-41.5 62.7 29.7 53.4h85.1z&#x27;/%3e%3ccircle class=&#x27;st0&#x27; cx=&#x27;827.9&#x27; cy=&#x27;274.7&#x27; r=&#x27;40.5&#x27;/%3e%3cpath class=&#x27;st0&#x27; d=&#x27;m1037 0-47.6 74.2L949 0h-84l85.3 135.8-67.1 105.7c5.7 9.5 9.1 20.5 9.2 32.4h50.1L1121.3 0H1037z&#x27;/%3e%3cpath d=&#x27;M763.5 273.8c.1-9.9 2.5-19.2 6.6-27.5V38.4h85.4V0H638.2v38.4h84.6v235.4h40.7zm414-266.9h-15.3v42.2h-8.5V6.9h-15.2V0h39v6.9zM1193 0l14.2 37.7L1221.3 0h11v49.1h-8.5V32.9l.8-21.7-14.5 37.9h-6.1l-14.5-37.8.8 21.6v16.2h-8.5V0h11.2z&#x27;/%3e%3c/svg%3e" alt="Vert.x Logo" class="jsx-aeedcf66895f49d7"/></a></div><div class="jsx-aeedcf66895f49d7 footer-nav-list"><h5 class="jsx-aeedcf66895f49d7">Eclipse Vert.x</h5><ul class="jsx-aeedcf66895f49d7 "><li class="jsx-aeedcf66895f49d7"><a class="jsx-aeedcf66895f49d7 navbar-menu-item" href="/docs/">Docs</a></li><li class="jsx-aeedcf66895f49d7"><a class="jsx-aeedcf66895f49d7" href="/download/">Download</a></li><li class="jsx-aeedcf66895f49d7"><a class="jsx-aeedcf66895f49d7" href="/blog/">Blog</a></li><li class="jsx-aeedcf66895f49d7"><a class="jsx-aeedcf66895f49d7" href="/community/">Community</a></li><li class="jsx-aeedcf66895f49d7"><a href="https://github.com/eclipse-vertx/vert.x" class="jsx-aeedcf66895f49d7">GitHub</a></li></ul></div><div class="jsx-aeedcf66895f49d7 footer-nav-list"><h5 class="jsx-aeedcf66895f49d7">Resources</h5><ul class="jsx-aeedcf66895f49d7 "><li class="jsx-aeedcf66895f49d7"><a class="jsx-aeedcf66895f49d7" href="/faq/">FAQ</a></li><li class="jsx-aeedcf66895f49d7"><a class="jsx-aeedcf66895f49d7" href="/channels/">Channels</a></li><li class="jsx-aeedcf66895f49d7"><a href="https://how-to.vertx.io/" class="jsx-aeedcf66895f49d7">How-Toâ€™s</a></li><li class="jsx-aeedcf66895f49d7"><a href="https://start.vertx.io/" class="jsx-aeedcf66895f49d7">App Generator</a></li><li class="jsx-aeedcf66895f49d7"><a href="/.well-known/security.txt" class="jsx-aeedcf66895f49d7">security.txt</a></li></ul></div><div class="jsx-aeedcf66895f49d7 footer-nav-list"><h5 class="jsx-aeedcf66895f49d7">Eclipse</h5><ul class="jsx-aeedcf66895f49d7 "><li class="jsx-aeedcf66895f49d7"><a href="https://www.eclipse.org/" class="jsx-aeedcf66895f49d7">Eclipse Foundation</a></li><li class="jsx-aeedcf66895f49d7"><a href="https://www.eclipse.org/legal/privacy.php" class="jsx-aeedcf66895f49d7">Privacy Policy</a></li><li class="jsx-aeedcf66895f49d7"><a href="https://www.eclipse.org/legal/termsofuse.php" class="jsx-aeedcf66895f49d7">Terms of Use</a></li><li class="jsx-aeedcf66895f49d7"><a href="https://www.eclipse.org/legal/copyright.php" class="jsx-aeedcf66895f49d7">Copyright Agent</a></li><li class="jsx-aeedcf66895f49d7"><a href="https://www.eclipse.org/legal/" class="jsx-aeedcf66895f49d7">Legal Resources</a></li></ul></div></div><div class="jsx-aeedcf66895f49d7 footer-copyright"><div class="jsx-aeedcf66895f49d7 footer-copyright-remarks">Â© <!-- -->2021<!-- --> Eclipse Vert.xâ„¢<br class="jsx-aeedcf66895f49d7"/>Eclipse Vert.xâ„¢ is open source and dual-licensed under the <a href="https://creativecommons.org/licenses/by-sa/3.0/" target="_blank" rel="noopener noreferrer" class="jsx-aeedcf66895f49d7">Eclipse Public License 2.0</a> and the <a href="https://www.apache.org/licenses/LICENSE-2.0.html" target="_blank" rel="noopener noreferrer" class="jsx-aeedcf66895f49d7">Apache License 2.0</a>. <br class="jsx-aeedcf66895f49d7 footer-copyright-break"/>Website design by <a href="https://michelkraemer.com" target="_blank" rel="noopener noreferrer" class="jsx-aeedcf66895f49d7">Michel KrÃ¤mer</a>.</div><div class="jsx-aeedcf66895f49d7 footer-copyright-eclipse-logo"><a href="https://www.eclipse.org/" target="_blank" rel="noopener noreferrer" class="jsx-aeedcf66895f49d7"><img src="data:image/svg+xml,%3csvg version=&#x27;1.1&#x27; id=&#x27;Layer_1&#x27; xmlns=&#x27;http://www.w3.org/2000/svg&#x27; x=&#x27;0&#x27; y=&#x27;0&#x27; viewBox=&#x27;0 0 281.3 91.1&#x27; style=&#x27;enable-background:new 0 0 281.3 91.1&#x27; xml:space=&#x27;preserve&#x27;%3e%3cstyle%3e.st0%7bfill:%23f79422%7d.st1%7bfill:%233d3c3b%7d%3c/style%3e%3cg id=&#x27;Layer_1_1_&#x27;%3e%3cpath class=&#x27;st0&#x27; d=&#x27;M265.7 84 257 73h-2.7v17.7h3.3v-12l9.3 12h2.1V73h-3.3v11zm-32.4-8.3c4.2 0 5.8 3.3 5.8 6.3s-1.6 6-5.8 6-5.7-3.1-5.8-6 1.7-6.3 5.8-6.3zm0-3c-6.1 0-9.1 4.7-9.1 9.3 0 4.7 2.9 9.1 9.1 9.1s9-4.6 9.1-9.2-3-9.2-9.1-9.2zm-21.2 18V73h-3.3v17.7h3.3zm-23.6 0h3.3V76h5.6v-3h-14.6v3h5.6l.1 14.7zm-18.9-6.5H163l3.3-7.6 3.3 7.6zm2.8 6.5h3.6L168.2 73h-3.6l-8 17.7h3.6l1.5-3.3h9.3l1.4 3.3zm-38-14.6h3.6c3.9 0 5.5 2.8 5.5 5.5.1 2.8-1.5 5.8-5.5 5.8h-3.6V76.1zm3.7-3.1h-6.9v17.7h6.9c6.2 0 8.9-4.5 8.9-9s-2.8-8.7-8.9-8.7zm-22.4 11L107 73h-2.7v17.7h3.3v-12l9.3 12h2.1V73h-3.3v11zM88.2 73v10.2c0 3-1.6 4.9-4.3 4.9s-4.6-1.7-4.6-4.9V73H76v10.1c0 5.3 3.6 7.9 7.9 7.9 4.4 0 7.7-2.7 7.7-7.9V73h-3.4zm-33 2.7c4.2 0 5.8 3.3 5.8 6.3s-1.6 6-5.8 6-5.7-3.1-5.8-6 1.7-6.3 5.8-6.3zm0-3c-6.1 0-9.1 4.7-9.1 9.3s2.9 9.1 9.1 9.1 9-4.6 9.1-9.2-3-9.2-9.1-9.2zm-29.7 18v-6.5h8.9v-3.1h-8.9v-4.8h9.4V73H22.2v17.6h3.3z&#x27;/%3e%3cpath class=&#x27;st1&#x27; d=&#x27;M269.4 54.4h-22.2v-8.9h21.4v-6.9h-21.4v-9.1h22.2v-7.2h-29.6v39.5h29.6v-7.4zm-40-25.6c-3-6.1-9.4-7.8-15.5-7.8-7.3 0-15.3 3.4-15.3 11.5 0 8.9 7.4 11 15.5 12 5.2.6 9.1 2.1 9.1 5.8 0 4.3-4.4 5.9-9.1 5.9s-9.4-1.9-11.1-6.3l-6.2 3.2c2.9 7.2 9.1 9.7 17.2 9.7 8.8 0 16.6-3.8 16.6-12.6 0-9.4-7.7-11.6-15.9-12.6-4.7-.6-8.8-1.5-8.8-5 0-2.9 2.6-5.2 8.2-5.2 4.3 0 8 2.2 9.4 4.4l5.9-3zM176 22.2c-6.2-.1-12.4 0-18.6 0v39.5h7.4V50.1H176c19.4 0 19.4-27.9 0-27.9zm-11.1 7.1H176c9.5 0 9.5 14 0 14h-11.2l.1-14zm-18 32.5V22.2h-7.4v39.5l7.4.1zm-44-39.6v39.5h27.7v-6.9h-20.3V22.2h-7.4zM90.7 51.7c-2.7 2.5-6.2 4-9.9 4-9.8 0-13.5-6.8-13.6-13.4s4.1-13.7 13.6-13.7c3.5-.1 7 1.3 9.5 3.7l5-4.8c-3.8-3.9-9.1-6-14.5-6-14.3 0-21 10.5-20.9 20.8s6.3 20.3 20.9 20.3c5.6.1 11-2 15-5.9l-5.1-5zm-39 2.7H29.5v-8.9h21.4v-6.9H29.5v-9.1h22.2v-7.2H22.2v39.5h29.6l-.1-7.4z&#x27;/%3e%3cpath class=&#x27;st0&#x27; d=&#x27;M9.8 18.2C18.8 4.1 36.9-.8 52.1 6l-1-.7C35.7-4.6 15.2-.1 5.3 15.3s-5.4 35.9 10 45.8l1.1.6C3.8 50.8.8 32.3 9.8 18.2z&#x27;/%3e%3cpath class=&#x27;st1&#x27; d=&#x27;M272.2 26.1c0-2.5 2.1-4.6 4.6-4.6 2.5 0 4.6 2.1 4.6 4.6 0 2.5-2.1 4.6-4.6 4.6-2.6 0-4.6-2.1-4.6-4.6zm8.6 0c0-2.2-1.8-4.1-4-4.1s-4.1 1.8-4.1 4.1c0 2.2 1.7 4 3.9 4.1h.1c2.3 0 4.1-1.8 4.1-4.1zm-6-2.5h2.3c1.1 0 1.9.5 1.9 1.6 0 .7-.4 1.3-1.1 1.5l1.2 1.7h-1.4l-1-1.5h-.7v1.5h-1.1l-.1-4.8zm2.2 2.3c.5 0 .8-.3.8-.7s-.3-.7-.8-.7h-1v1.3l1 .1z&#x27;/%3e%3c/g%3e%3c/svg%3e" alt="Eclipse foundation Logo" class="jsx-aeedcf66895f49d7"/></a></div></div></div></footer></main></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"categories":["releases","guides","security","news"],"post":{"meta":{"title":"Using the asynchronous SQL client","category":"guides","authors":[{"name":"Clement Escoffier","github_id":"cescoffier"}],"summary":"Finally, back... This post is the fifth post of the introduction to vert.x blog series, after a not-that-small break. In this post we are going to see how we can use JDBC in a vert.x application."},"date":"2015-10-19","slug":"using-the-asynchronous-sql-client","readingTime":{"text":"10 min read","minutes":9.02,"time":541200,"words":1804},"content":{"compiledSource":"var d=Object.defineProperty,h=Object.defineProperties;var m=Object.getOwnPropertyDescriptors;var o=Object.getOwnPropertySymbols;var i=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;var p=(a,n,s)=\u003en in a?d(a,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):a[n]=s,e=(a,n)=\u003e{for(var s in n||(n={}))i.call(n,s)\u0026\u0026p(a,s,n[s]);if(o)for(var s of o(n))r.call(n,s)\u0026\u0026p(a,s,n[s]);return a},l=(a,n)=\u003eh(a,m(n));var c=(a,n)=\u003e{var s={};for(var t in a)i.call(a,t)\u0026\u0026n.indexOf(t)\u003c0\u0026\u0026(s[t]=a[t]);if(a!=null\u0026\u0026o)for(var t of o(a))n.indexOf(t)\u003c0\u0026\u0026r.call(a,t)\u0026\u0026(s[t]=a[t]);return s};const makeShortcode=a=\u003efunction(s){return console.warn(\"Component \"+a+\" was not imported, exported, or provided by MDXProvider as global scope\"),mdx(\"div\",e({},s))},Link=makeShortcode(\"Link\"),Alert=makeShortcode(\"Alert\"),layoutProps={},MDXLayout=\"wrapper\";function MDXContent(s){var t=s,{components:a}=t,n=c(t,[\"components\"]);return mdx(MDXLayout,l(e(e({},layoutProps),n),{components:a,mdxType:\"MDXLayout\"}),mdx(\"p\",null,\"Fi\\xADnally, back\\u2026 This post is the fifth post of the in\\xADtro\\xADduc\\xADtion to vert.x blog se\\xADries, after a not-\\u200Bthat-small break. In this post we are going to see how we can use JDBC in a vert.x ap\\xADpli\\xADca\\xADtion, and this, using the asyn\\xADchro\\xADnous API pro\\xADvided by the \",mdx(Link,{href:\"/docs/vertx-jdbc-client/java/\",passHref:!0,mdxType:\"Link\"},mdx(\"a\",e({parentName:\"p\"},{href:\"\"}),\"vertx-\\u200Bjdbc-client\")),\".\"),mdx(\"h2\",e({},{id:\"previously-in-the-introduction-to-vertx-series\"}),mdx(\"a\",e({parentName:\"h2\"},{\"aria-hidden\":!0,tabIndex:-1,className:\"heading-anchor\",href:\"#previously-in-the-introduction-to-vertx-series\"})),\"Previously in the introduction to vert.x series\"),mdx(\"p\",null,\"As it was quite some time since the last post, let\\u2019s start by re\\xADfresh\\xADing our mind about the four pre\\xADvi\\xADous posts:\"),mdx(\"ol\",null,mdx(\"li\",{parentName:\"ol\"},\"The \",mdx(Link,{href:\"/blog/my-first-vert-x-3-application/\",passHref:!0,mdxType:\"Link\"},mdx(\"a\",e({parentName:\"li\"},{href:\"\"}),\"first post\")),\" has de\\xADscribed how to build a vert.x ap\\xADpli\\xADca\\xADtion with Maven and ex\\xADe\\xADcute unit tests.\"),mdx(\"li\",{parentName:\"ol\"},\"The \",mdx(Link,{href:\"/blog/vert-x-application-configuration/\",passHref:!0,mdxType:\"Link\"},mdx(\"a\",e({parentName:\"li\"},{href:\"\"}),\"sec\\xADond post\")),\" has de\\xADscribed how this ap\\xADpli\\xADca\\xADtion can be\\xADcome con\\xADfig\\xADurable.\"),mdx(\"li\",{parentName:\"ol\"},\"The \",mdx(Link,{href:\"/blog/some-rest-with-vert-x/\",passHref:!0,mdxType:\"Link\"},mdx(\"a\",e({parentName:\"li\"},{href:\"\"}),\"third post\")),\" has in\\xADtro\\xADduced \",mdx(Link,{href:\"/docs/vertx-web/java/\",passHref:!0,mdxType:\"Link\"},mdx(\"a\",e({parentName:\"li\"},{href:\"\"}),\"vertx-\\u200Bweb\")),\", and a small col\\xADlec\\xADtion man\\xADage\\xADment ap\\xADpli\\xADca\\xADtion has been de\\xADvel\\xADoped. This ap\\xADpli\\xADca\\xADtion of\\xADfers a REST API used by a HTML/JavaScript fron\\xADtend.\"),mdx(\"li\",{parentName:\"ol\"},\"The \",mdx(Link,{href:\"/blog/unit-and-integration-tests/\",passHref:!0,mdxType:\"Link\"},mdx(\"a\",e({parentName:\"li\"},{href:\"\"}),\"pre\\xADvi\\xADous post\")),\" has pre\\xADsented how you can run in\\xADte\\xADgra\\xADtion tests to en\\xADsure the be\\xADhav\\xADior of your ap\\xADpli\\xADca\\xADtion.\")),mdx(\"p\",null,\"In this post, back to code. The cur\\xADrent ap\\xADpli\\xADca\\xADtion uses an in-\\u200Bmemory map to store the prod\\xADucts. It\\u2019s time to use a data\\xADbase. In this post we are going to use \",mdx(\"a\",e({parentName:\"p\"},{href:\"http://hsqldb.org/\"}),\"HSQL\"),\", but you can use any data\\xADbase pro\\xADvid\\xADing a JDBC dri\\xADver. In\\xADter\\xADac\\xADtions with the data\\xADbase will be asyn\\xADchro\\xADnous and made using the \",mdx(Link,{href:\"/docs/vertx-jdbc-client/java/\",passHref:!0,mdxType:\"Link\"},mdx(\"a\",e({parentName:\"p\"},{href:\"\"}),\"vertx-\\u200Bjdbc-client\")),\".\"),mdx(\"p\",null,\"The code of this post are avail\\xADable on this Github \",mdx(\"a\",e({parentName:\"p\"},{href:\"https://github.com/cescoffier/my-vertx-first-app\"}),\"project\"),\", in the \",mdx(\"a\",e({parentName:\"p\"},{href:\"https://github.com/cescoffier/my-vertx-first-app/tree/post-5\"}),\"post-5 branch\"),\" branch.\"),mdx(\"h2\",e({},{id:\"asynchronous\"}),mdx(\"a\",e({parentName:\"h2\"},{\"aria-hidden\":!0,tabIndex:-1,className:\"heading-anchor\",href:\"#asynchronous\"})),\"Asynchronous?\"),mdx(\"p\",null,\"One of the vert.x char\\xADac\\xADter\\xADis\\xADtics is being asyn\\xADchro\\xADnous. With an asyn\\xADchro\\xADnous API, you don\\u2019t wait for a re\\xADsult, but you are no\\xADti\\xADfied when this re\\xADsult is ready. Just to il\\xADlus\\xADtrate this, let\\u2019s take a very sim\\xADple ex\\xADam\\xADple.\"),mdx(\"p\",null,\"Let\\u2019s imag\\xADine an \",mdx(\"inlineCode\",{parentName:\"p\"},\"add\"),\" method. Tra\\xADdi\\xADtion\\xADally, you would use it like this: \",mdx(\"inlineCode\",{parentName:\"p\"},\"int r = add(1, 1)\"),\". This is a syn\\xADchro\\xADnous API as you are wait\\xADing for the re\\xADsult. An asyn\\xADchro\\xADnous ver\\xADsion of this API would be: \",mdx(\"inlineCode\",{parentName:\"p\"},\"add(1, 1, r -\u003e { /* do something with the result */ })\"),\". In this ver\\xADsion, you pass a \",mdx(\"inlineCode\",{parentName:\"p\"},\"Handler\"),\" called when the re\\xADsult has been com\\xADputed. The method does not re\\xADturn any\\xADthing, and could be im\\xADple\\xADmented as:\"),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{className:\"hljs language-java\"}),mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-function\"}),mdx(\"span\",e({parentName:\"span\"},{className:\"hljs-keyword\"}),\"public\"),\" \",mdx(\"span\",e({parentName:\"span\"},{className:\"hljs-keyword\"}),\"void\"),\" \",mdx(\"span\",e({parentName:\"span\"},{className:\"hljs-title\"}),\"add\"),mdx(\"span\",e({parentName:\"span\"},{className:\"hljs-params\"}),\"(\",mdx(\"span\",e({parentName:\"span\"},{className:\"hljs-keyword\"}),\"int\"),\" a, \",mdx(\"span\",e({parentName:\"span\"},{className:\"hljs-keyword\"}),\"int\"),\" b, Handler\u003cInteger\u003e resultHandler)\"),\" \"),`{\n    `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-keyword\"}),\"int\"),` r = a + b;\n    resultHandler.handle(r);\n}\n`)),mdx(\"p\",null,\"Just to avoid mis\\xADcon\\xADcep\\xADtions, asyn\\xADchro\\xADnous API are not about threads. As we can see in the \",mdx(\"inlineCode\",{parentName:\"p\"},\"add\"),\" ex\\xADam\\xADple, there are no threads in\\xADvolved.\"),mdx(\"h2\",e({},{id:\"jdbc-yes-but-asynchronous\"}),mdx(\"a\",e({parentName:\"h2\"},{\"aria-hidden\":!0,tabIndex:-1,className:\"heading-anchor\",href:\"#jdbc-yes-but-asynchronous\"})),\"JDBC yes, but asynchronous\"),mdx(\"p\",null,\"So, now that we have seen some ba\\xADsics about asyn\\xADchro\\xADnous API, let\\u2019s have a look to the vertx-\\u200Bjdbc-client. This com\\xADpo\\xADnent lets us in\\xADter\\xADact with a data\\xADbase through a JDBC dri\\xADver. These in\\xADter\\xADac\\xADtions are asyn\\xADchro\\xADnous, so when you were doing:\"),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{className:\"hljs language-java\"}),\"String sql = \",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-string\"}),'\"SELECT * FROM Products\"'),`;\nResultSet rs = stmt.executeQuery(sql);\n`)),mdx(\"p\",null,\"it will be:\"),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{className:\"hljs language-java\"}),\"connection.query(\",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-string\"}),'\"SELECT * FROM Products\"'),`, result -\u003e {\n        `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-comment\"}),\"// do something with the result\"),`\n});\n`)),mdx(\"p\",null,\"This model is more ef\\xADfi\\xADcient as it avoids wait\\xADing for the re\\xADsult. You are no\\xADti\\xADfied when the re\\xADsult is avail\\xADable.\"),mdx(\"p\",null,\"Let\\u2019s now mod\\xADify our ap\\xADpli\\xADca\\xADtion to use a data\\xADbase to store our prod\\xADucts.\"),mdx(\"h2\",e({},{id:\"some-maven-dependencies\"}),mdx(\"a\",e({parentName:\"h2\"},{\"aria-hidden\":!0,tabIndex:-1,className:\"heading-anchor\",href:\"#some-maven-dependencies\"})),\"Some maven dependencies\"),mdx(\"p\",null,\"The first things we need to do it to de\\xADclare two new Maven de\\xADpen\\xADden\\xADcies in our \",mdx(\"inlineCode\",{parentName:\"p\"},\"pom.xml\"),\" file:\"),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{className:\"hljs language-xml\"}),mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-tag\"}),\"\u003c\",mdx(\"span\",e({parentName:\"span\"},{className:\"hljs-name\"}),\"dependency\"),\"\u003e\"),`\n  `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-tag\"}),\"\u003c\",mdx(\"span\",e({parentName:\"span\"},{className:\"hljs-name\"}),\"groupId\"),\"\u003e\"),\"io.vertx\",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-tag\"}),\"\u003c/\",mdx(\"span\",e({parentName:\"span\"},{className:\"hljs-name\"}),\"groupId\"),\"\u003e\"),`\n  `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-tag\"}),\"\u003c\",mdx(\"span\",e({parentName:\"span\"},{className:\"hljs-name\"}),\"artifactId\"),\"\u003e\"),\"vertx-jdbc-client\",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-tag\"}),\"\u003c/\",mdx(\"span\",e({parentName:\"span\"},{className:\"hljs-name\"}),\"artifactId\"),\"\u003e\"),`\n  `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-tag\"}),\"\u003c\",mdx(\"span\",e({parentName:\"span\"},{className:\"hljs-name\"}),\"version\"),\"\u003e\"),\"3.1.0\",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-tag\"}),\"\u003c/\",mdx(\"span\",e({parentName:\"span\"},{className:\"hljs-name\"}),\"version\"),\"\u003e\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-tag\"}),\"\u003c/\",mdx(\"span\",e({parentName:\"span\"},{className:\"hljs-name\"}),\"dependency\"),\"\u003e\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-tag\"}),\"\u003c\",mdx(\"span\",e({parentName:\"span\"},{className:\"hljs-name\"}),\"dependency\"),\"\u003e\"),`\n  `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-tag\"}),\"\u003c\",mdx(\"span\",e({parentName:\"span\"},{className:\"hljs-name\"}),\"groupId\"),\"\u003e\"),\"org.hsqldb\",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-tag\"}),\"\u003c/\",mdx(\"span\",e({parentName:\"span\"},{className:\"hljs-name\"}),\"groupId\"),\"\u003e\"),`\n  `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-tag\"}),\"\u003c\",mdx(\"span\",e({parentName:\"span\"},{className:\"hljs-name\"}),\"artifactId\"),\"\u003e\"),\"hsqldb\",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-tag\"}),\"\u003c/\",mdx(\"span\",e({parentName:\"span\"},{className:\"hljs-name\"}),\"artifactId\"),\"\u003e\"),`\n  `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-tag\"}),\"\u003c\",mdx(\"span\",e({parentName:\"span\"},{className:\"hljs-name\"}),\"version\"),\"\u003e\"),\"2.3.3\",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-tag\"}),\"\u003c/\",mdx(\"span\",e({parentName:\"span\"},{className:\"hljs-name\"}),\"version\"),\"\u003e\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-tag\"}),\"\u003c/\",mdx(\"span\",e({parentName:\"span\"},{className:\"hljs-name\"}),\"dependency\"),\"\u003e\"),`\n`)),mdx(\"p\",null,\"The first de\\xADpen\\xADdency pro\\xADvides the vertx-\\u200Bjdbc-client, while the sec\\xADond one pro\\xADvide the HSQL JDBC dri\\xADver. If you want to use an\\xADother data\\xADbase, change this de\\xADpen\\xADdency. You will also need to change the JDBC url and JDBC dri\\xADver class name later.\"),mdx(\"h2\",e({},{id:\"initializing-the-jdbc-client\"}),mdx(\"a\",e({parentName:\"h2\"},{\"aria-hidden\":!0,tabIndex:-1,className:\"heading-anchor\",href:\"#initializing-the-jdbc-client\"})),\"Initializing the JDBC client\"),mdx(\"p\",null,\"Now that we have added these de\\xADpen\\xADden\\xADcies, it\\u2019s time to cre\\xADate our JDBC client:\"),mdx(\"p\",null,\"In the \",mdx(\"inlineCode\",{parentName:\"p\"},\"MyFirstVerticle\"),\" class, de\\xADclare a new field \",mdx(\"inlineCode\",{parentName:\"p\"},\"JDBCClient jdbc;\"),\", and add the fol\\xADlow\\xADing line at the be\\xADgin\\xADning of the \",mdx(\"inlineCode\",{parentName:\"p\"},\"start\"),\" method:\"),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{className:\"hljs language-java\"}),\"jdbc = JDBCClient.createShared(vertx, config(), \",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-string\"}),'\"My-Whisky-Collection\"'),`);\n`)),mdx(\"p\",null,\"This cre\\xADates an in\\xADstance of JDBC client, con\\xADfig\\xADured with the con\\xADfig\\xADu\\xADra\\xADtion pro\\xADvided to the ver\\xADti\\xADcle. To work cor\\xADrectly this con\\xADfig\\xADu\\xADra\\xADtion needs to pro\\xADvide:\"),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"em\",{parentName:\"li\"},\"url\"),\" - the JDBC url such as \",mdx(\"inlineCode\",{parentName:\"li\"},\"jdbc:hsqldb:mem:db?shutdown=true\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"em\",{parentName:\"li\"},\"dri\\xADver_class\"),\" - the JDBC dri\\xADver class such as \",mdx(\"inlineCode\",{parentName:\"li\"},\"org.hsqldb.jdbcDriver\"))),mdx(\"p\",null,\"Ok, we have the client, we need a con\\xADnec\\xADtion to the data\\xADbase. This is achieved using the \",mdx(\"inlineCode\",{parentName:\"p\"},\"jdbc.getConnection\"),\" that take a \",mdx(\"inlineCode\",{parentName:\"p\"},\"Handler\u003cAsyncResult\u003cSQLConnection\u003e\u003e\"),\" as pa\\xADra\\xADme\\xADter. Let\\u2019s have a deeper look to this type. It\\u2019s a \",mdx(\"inlineCode\",{parentName:\"p\"},\"Handler\"),\", so it is called when the re\\xADsult is ready. This re\\xADsult is an in\\xADstance of \",mdx(\"inlineCode\",{parentName:\"p\"},\"AsyncResult\u003cSQLConnection\u003e\"),\". \",mdx(\"inlineCode\",{parentName:\"p\"},\"AsyncResult\"),\" is a struc\\xADture pro\\xADvided by vert.x that lets us know if the op\\xADer\\xADa\\xADtion was com\\xADpleted suc\\xADcess\\xADfully or failed. In case of suc\\xADcess, it pro\\xADvides the re\\xADsult, here an in\\xADstance of \",mdx(\"inlineCode\",{parentName:\"p\"},\"SQLConnection\"),\".\"),mdx(\"p\",null,\"When you re\\xADceive an in\\xADstance of \",mdx(\"inlineCode\",{parentName:\"p\"},\"AsyncResult\"),\", your code gen\\xADer\\xADally looks like:\"),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{className:\"hljs language-java\"}),mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-keyword\"}),\"if\"),` (ar.failed()) {\n  System.err.println(`,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-string\"}),'\"The operation has failed...: \"'),`\n      + ar.cause().getMessage());\n} `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-keyword\"}),\"else\"),` {\n  `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-comment\"}),\"// Use the result:\"),`\n  result = ar.result();\n }\n`)),mdx(\"p\",null,\"So, let\\u2019s go back to our \",mdx(\"inlineCode\",{parentName:\"p\"},\"SQLConnection\"),\". We need to re\\xADtrieve it, and then start the rest of the ap\\xADpli\\xADca\\xADtion. This changes how we start the ap\\xADpli\\xADca\\xADtion, as it will be\\xADcome asyn\\xADchro\\xADnous. So, if we di\\xADvide our startup se\\xADquence into small chunks it would be some\\xADthing like:\"),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{className:\"hljs language-java\"}),`startBackend(\n (connection) -\u003e createSomeData(connection,\n     (nothing) -\u003e startWebApp(\n         (http) -\u003e completeStartup(http, fut)\n     ), fut\n ), fut);\n`)),mdx(\"p\",null,\"with:\"),mdx(\"ol\",null,mdx(\"li\",{parentName:\"ol\"},mdx(\"inlineCode\",{parentName:\"li\"},\"startBackend\"),\" - re\\xADtrieves a \",mdx(\"inlineCode\",{parentName:\"li\"},\"SQLConnection\"),\" and then calls the next step\"),mdx(\"li\",{parentName:\"ol\"},mdx(\"inlineCode\",{parentName:\"li\"},\"createSomeData\"),\" - ini\\xADtial\\xADizes the data\\xADbase and in\\xADserts some data. When done, it calls the next step\"),mdx(\"li\",{parentName:\"ol\"},mdx(\"inlineCode\",{parentName:\"li\"},\"startWebApp\"),\" - starts our web ap\\xADpli\\xADca\\xADtion\"),mdx(\"li\",{parentName:\"ol\"},mdx(\"inlineCode\",{parentName:\"li\"},\"completeStartup\"),\" - fi\\xADnal\\xADizes our start se\\xADquence\")),mdx(\"p\",null,mdx(\"inlineCode\",{parentName:\"p\"},\"fut\"),\" is the com\\xADple\\xADtion fu\\xADture passed by vert.x that let us re\\xADport when we are started, or if an issue has been en\\xADcoun\\xADtered while start\\xADing.\"),mdx(\"p\",null,\"Let\\u2019s have a look to \",mdx(\"inlineCode\",{parentName:\"p\"},\"startBackend\"),\":\"),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{className:\"hljs language-java\"}),mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-function\"}),mdx(\"span\",e({parentName:\"span\"},{className:\"hljs-keyword\"}),\"private\"),\" \",mdx(\"span\",e({parentName:\"span\"},{className:\"hljs-keyword\"}),\"void\"),\" \",mdx(\"span\",e({parentName:\"span\"},{className:\"hljs-title\"}),\"startBackend\"),mdx(\"span\",e({parentName:\"span\"},{className:\"hljs-params\"}),\"(Handler\u003cAsyncResult\u003cSQLConnection\u003e\u003e next, Future\u003cVoid\u003e fut)\"),\" \"),`{\n  jdbc.getConnection(ar -\u003e {\n    `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-keyword\"}),\"if\"),` (ar.failed()) {\n      fut.fail(ar.cause());\n    } `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-keyword\"}),\"else\"),` {\n      next.handle(Future.succeededFuture(ar.result()));\n    }\n  });\n}\n`)),mdx(\"p\",null,\"This method re\\xADtrieves a \",mdx(\"inlineCode\",{parentName:\"p\"},\"SQLConnection\"),\", check whether this op\\xADer\\xADa\\xADtion suc\\xADceeded. If so, it calls the next step. In case of fail\\xADure, it re\\xADports it.\"),mdx(\"p\",null,\"The other meth\\xADods fol\\xADlow the same pat\\xADtern: 1) check if the last op\\xADer\\xADa\\xADtion has suc\\xADceeded, 2) do the task, 3) call the next step.\"),mdx(\"h3\",e({},{id:\"a-bit-of-sql\"}),mdx(\"a\",e({parentName:\"h3\"},{\"aria-hidden\":!0,tabIndex:-1,className:\"heading-anchor\",href:\"#a-bit-of-sql\"})),\"A bit of SQL\\u2026\"),mdx(\"p\",null,\"Our client is ready, let\\u2019s now write some SQL state\\xADments. Let\\u2019s start by the \",mdx(\"inlineCode\",{parentName:\"p\"},\"createSomeData\"),\" method that is part of the startup se\\xADquence:\"),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{className:\"hljs language-java\"}),mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-function\"}),mdx(\"span\",e({parentName:\"span\"},{className:\"hljs-keyword\"}),\"private\"),\" \",mdx(\"span\",e({parentName:\"span\"},{className:\"hljs-keyword\"}),\"void\"),\" \",mdx(\"span\",e({parentName:\"span\"},{className:\"hljs-title\"}),\"createSomeData\"),mdx(\"span\",e({parentName:\"span\"},{className:\"hljs-params\"}),`(AsyncResult\u003cSQLConnection\u003e result,\n    Handler\u003cAsyncResult\u003cVoid\u003e\u003e next, Future\u003cVoid\u003e fut)`),\" \"),`{\n    `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-keyword\"}),\"if\"),` (result.failed()) {\n      fut.fail(result.cause());\n    } `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-keyword\"}),\"else\"),` {\n      SQLConnection connection = result.result();\n      connection.execute(\n          `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-string\"}),'\"CREATE TABLE IF NOT EXISTS Whisky (id INTEGER IDENTITY, name varchar(100), \"'),` +\n          `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-string\"}),'\"origin varchar(100))\"'),`,\n          ar -\u003e {\n            `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-keyword\"}),\"if\"),` (ar.failed()) {\n              fut.fail(ar.cause());\n              connection.close();\n              `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-keyword\"}),\"return\"),`;\n            }\n            connection.query(`,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-string\"}),'\"SELECT * FROM Whisky\"'),`, select -\u003e {\n              `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-keyword\"}),\"if\"),` (select.failed()) {\n                fut.fail(ar.cause());\n                connection.close();\n                `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-keyword\"}),\"return\"),`;\n              }\n              `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-keyword\"}),\"if\"),\" (select.result().getNumRows() == \",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-number\"}),\"0\"),`) {\n                insert(\n                    `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-keyword\"}),\"new\"),\" Whisky(\",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-string\"}),'\"Bowmore 15 Years Laimrig\"'),\", \",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-string\"}),'\"Scotland, Islay\"'),`),\n                    connection,\n                    (v) -\u003e insert(`,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-keyword\"}),\"new\"),\" Whisky(\",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-string\"}),'\"Talisker 57\\xB0 North\"'),\", \",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-string\"}),'\"Scotland, Island\"'),`),\n                        connection,\n                        (r) -\u003e {\n                          next.handle(Future.\u003cVoid\u003esucceededFuture());\n                          connection.close();\n                        }));                                                    \n              } `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-keyword\"}),\"else\"),` {\n                next.handle(Future.\u003cVoid\u003esucceededFuture());\n                connection.close();\n              }\n            });\n          });\n    }\n  }\n`)),mdx(\"p\",null,\"This method checks that the \",mdx(\"inlineCode\",{parentName:\"p\"},\"SQLConnection\"),\" is avail\\xADable and then start ex\\xADe\\xADcut\\xADing some SQL state\\xADments. First, it cre\\xADates the ta\\xADbles if there are not there yet. As you can see, the method called is struc\\xADtured as fol\\xADlows:\"),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{className:\"hljs language-java\"}),`connection.execute(\n    SQL statement,\n    handler called when the statement has been executed\n)\n`)),mdx(\"p\",null,\"The han\\xADdler re\\xADceives an \",mdx(\"inlineCode\",{parentName:\"p\"},\"AsyncResult\u003cVoid\u003e\"),\", \",mdx(\"em\",{parentName:\"p\"},\"i.e.\"),\" a no\\xADti\\xADfi\\xADca\\xADtion of the com\\xADple\\xADtion with\\xADout an ac\\xADtual re\\xADsult.\"),mdx(Alert,{info:!0,title:\"Closing connection\",mdxType:\"Alert\"},mdx(\"p\",null,\"Don\\u2019t for\\xADget to close the SQL con\\xADnec\\xADtion when you are done. The con\\xADnec\\xADtion will be given back to the con\\xADnec\\xADtion pool and be reused.\")),mdx(\"p\",null,\"In the code of this han\\xADdler, we check whether or not the state\\xADment has been ex\\xADe\\xADcuted cor\\xADrectly, and if so we check to see if the table al\\xADready con\\xADtains some data, if not, it in\\xADserts data using the \",mdx(\"inlineCode\",{parentName:\"p\"},\"insert\"),\" method:\"),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{className:\"hljs language-java\"}),mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-function\"}),mdx(\"span\",e({parentName:\"span\"},{className:\"hljs-keyword\"}),\"private\"),\" \",mdx(\"span\",e({parentName:\"span\"},{className:\"hljs-keyword\"}),\"void\"),\" \",mdx(\"span\",e({parentName:\"span\"},{className:\"hljs-title\"}),\"insert\"),mdx(\"span\",e({parentName:\"span\"},{className:\"hljs-params\"}),\"(Whisky whisky, SQLConnection connection, Handler\u003cAsyncResult\u003cWhisky\u003e\u003e next)\"),\" \"),`{\n  String sql = `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-string\"}),'\"INSERT INTO Whisky (name, origin) VALUES ?, ?\"'),`;\n  connection.updateWithParams(sql,\n      `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-keyword\"}),\"new\"),` JsonArray().add(whisky.getName()).add(whisky.getOrigin()),\n      (ar) -\u003e {\n        `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-keyword\"}),\"if\"),` (ar.failed()) {\n          next.handle(Future.failedFuture(ar.cause()));\n          `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-keyword\"}),\"return\"),`;\n        }\n        UpdateResult result = ar.result();\n        `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-comment\"}),\"// Build a new whisky instance with the generated id.\"),`\n        Whisky w = `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-keyword\"}),\"new\"),\" Whisky(result.getKeys().getInteger(\",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-number\"}),\"0\"),`), whisky.getName(), whisky.getOrigin());\n        next.handle(Future.succeededFuture(w));\n      });\n}\n`)),mdx(\"p\",null,\"This method uses the \",mdx(\"inlineCode\",{parentName:\"p\"},\"updateWithParams\"),\" method with an \",mdx(\"em\",{parentName:\"p\"},\"IN\\xADSERT\"),\" state\\xADment, and pass val\\xADues. This ap\\xADproach avoids SQL in\\xADjec\\xADtion. Once the the state\\xADment has been ex\\xADe\\xADcuted, we cre\\xADates a new \",mdx(\"inlineCode\",{parentName:\"p\"},\"Whisky\"),\" ob\\xADject with the cre\\xADated (auto-\\u200Bgenerated) id.\"),mdx(\"h2\",e({},{id:\"some-rest-with-a-pinch-of-sql\"}),mdx(\"a\",e({parentName:\"h2\"},{\"aria-hidden\":!0,tabIndex:-1,className:\"heading-anchor\",href:\"#some-rest-with-a-pinch-of-sql\"})),\"Some REST with a pinch of SQL\"),mdx(\"p\",null,\"The method de\\xADscribed  above is part of our start se\\xADquence. But what about the method in\\xADvoked by our REST API. Let\\u2019s have a look to the \",mdx(\"inlineCode\",{parentName:\"p\"},\"getAll\"),\" method. This method is called by the web front-\\u200Bend to re\\xADtrieve all stored prod\\xADucts:\"),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{className:\"hljs language-java\"}),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-function\"}),mdx(\"span\",e({parentName:\"span\"},{className:\"hljs-keyword\"}),\"private\"),\" \",mdx(\"span\",e({parentName:\"span\"},{className:\"hljs-keyword\"}),\"void\"),\" \",mdx(\"span\",e({parentName:\"span\"},{className:\"hljs-title\"}),\"getAll\"),mdx(\"span\",e({parentName:\"span\"},{className:\"hljs-params\"}),\"(RoutingContext routingContext)\"),\" \"),`{\n    jdbc.getConnection(ar -\u003e {\n      SQLConnection connection = ar.result();\n      connection.query(`,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-string\"}),'\"SELECT * FROM Whisky\"'),`, result -\u003e {\n        List\u003cWhisky\u003e whiskies = result.result().getRows().stream().map(Whisky::`,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-keyword\"}),\"new\"),`).collect(Collectors.toList());\n        routingContext.response()\n            .putHeader(`,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-string\"}),'\"content-type\"'),\", \",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-string\"}),'\"application/json; charset=utf-8\"'),`)\n            .end(Json.encodePrettily(whiskies));\n        connection.close(); `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-comment\"}),\"// Close the connection     \"),`\n      });\n    });\n  }\n`)),mdx(\"p\",null,\"This method gets a \",mdx(\"inlineCode\",{parentName:\"p\"},\"SQLConnection\"),\", and then issue a query. Once the re\\xADsult has been re\\xADtrieved it writes the HTTP re\\xADsponse as be\\xADfore. The \",mdx(\"inlineCode\",{parentName:\"p\"},\"getOne\"),\", \",mdx(\"inlineCode\",{parentName:\"p\"},\"deleteOne\"),\", \",mdx(\"inlineCode\",{parentName:\"p\"},\"updateOne\"),\" and \",mdx(\"inlineCode\",{parentName:\"p\"},\"addOne\"),\" meth\\xADods fol\\xADlow the same pat\\xADtern. No\\xADtice that the con\\xADnec\\xADtion can be closed after the re\\xADsponse has been writ\\xADten.\"),mdx(\"p\",null,\"Let\\u2019s have a look to the re\\xADsult pro\\xADvided to the han\\xADdler passed to the \",mdx(\"inlineCode\",{parentName:\"p\"},\"query\"),\" method. It gets a \",mdx(\"inlineCode\",{parentName:\"p\"},\"ResultSet\"),\", which con\\xADtains the query re\\xADsult. Each row is a \",mdx(\"inlineCode\",{parentName:\"p\"},\"JsonObject\"),\", so if your data ob\\xADject has a con\\xADstruc\\xADtor tak\\xADing a \",mdx(\"inlineCode\",{parentName:\"p\"},\"JsonObject\"),\" as unique ar\\xADgu\\xADment, cre\\xADat\\xADing there ob\\xADjects is straight\\xADfor\\xADward.\"),mdx(\"h2\",e({},{id:\"test-test-and-test-again\"}),mdx(\"a\",e({parentName:\"h2\"},{\"aria-hidden\":!0,tabIndex:-1,className:\"heading-anchor\",href:\"#test-test-and-test-again\"})),\"Test, test, and test again\"),mdx(\"p\",null,\"We need to slightly up\\xADdate our tests to con\\xADfig\\xADure the \",mdx(\"inlineCode\",{parentName:\"p\"},\"JDBCClient\"),\". In the \",mdx(\"inlineCode\",{parentName:\"p\"},\"MyFirstVertilceTest\"),\" class, change the \",mdx(\"inlineCode\",{parentName:\"p\"},\"DeploymentOption\"),\" ob\\xADject cre\\xADated in the \",mdx(\"inlineCode\",{parentName:\"p\"},\"setUp\"),\" method to be:\"),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{className:\"hljs language-java\"}),\"DeploymentOptions options = \",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-keyword\"}),\"new\"),` DeploymentOptions()\n    .setConfig(`,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-keyword\"}),\"new\"),` JsonObject()\n        .put(`,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-string\"}),'\"http.port\"'),`, port)\n        .put(`,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-string\"}),'\"url\"'),\", \",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-string\"}),'\"jdbc:hsqldb:mem:test?shutdown=true\"'),`)\n        .put(`,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-string\"}),'\"driver_class\"'),\", \",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-string\"}),'\"org.hsqldb.jdbcDriver\"'),`)\n    );\n`)),mdx(\"p\",null,\"In ad\\xADdi\\xADtion to the \",mdx(\"inlineCode\",{parentName:\"p\"},\"http.port\"),\", we also put the JDBC url and the class of the JDBC dri\\xADver. We use an in-\\u200Bmemory data\\xADbase for tests.\"),mdx(\"p\",null,\"The same mod\\xADi\\xADfi\\xADca\\xADtion needs to be done in the \",mdx(\"inlineCode\",{parentName:\"p\"},\"src/test/resources/my-it-config.json\"),\" file:\"),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{className:\"hljs language-json\"}),`{\n  `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-attr\"}),'\"http.port\"'),\": ${http.port},\\n  \",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-attr\"}),'\"url\"'),\": \",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-string\"}),'\"jdbc:hsqldb:mem:it-test?shutdown=true\"'),`,\n  `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-attr\"}),'\"driver_class\"'),\": \",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-string\"}),'\"org.hsqldb.jdbcDriver\"'),`\n}\n`)),mdx(\"p\",null,\"The \",mdx(\"inlineCode\",{parentName:\"p\"},\"src/main/conf/my-application-conf.json\"),\" file also needs to be up\\xADdated, not for the tests, but to run the ap\\xADpli\\xADca\\xADtion:\"),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{className:\"hljs language-json\"}),`{\n  `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-attr\"}),'\"http.port\"'),\" : \",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-number\"}),\"8082\"),`,\n  `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-attr\"}),'\"url\"'),\": \",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-string\"}),'\"jdbc:hsqldb:file:db/whiskies\"'),`,\n  `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-attr\"}),'\"driver_class\"'),\": \",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-string\"}),'\"org.hsqldb.jdbcDriver\"'),`\n}\n`)),mdx(\"p\",null,\"The JDBC url is a bit dif\\xADfer\\xADent in this last file, as we store the data\\xADbase on the file sys\\xADtem.\"),mdx(\"h2\",e({},{id:\"show-time\"}),mdx(\"a\",e({parentName:\"h2\"},{\"aria-hidden\":!0,tabIndex:-1,className:\"heading-anchor\",href:\"#show-time\"})),\"Show time!\"),mdx(\"p\",null,\"Let\\u2019s now build our ap\\xADpli\\xADca\\xADtion:\"),mdx(\"p\",null,mdx(\"inlineCode\",{parentName:\"p\"},\"mvn clean package\")),mdx(\"p\",null,\"As we didn\\u2019t change the API (nei\\xADther the pub\\xADlic java one nor the REST), test should run smoothly.\"),mdx(\"p\",null,\"Then launch the ap\\xADpli\\xADca\\xADtion with:\"),mdx(\"p\",null,mdx(\"inlineCode\",{parentName:\"p\"},\"java -jar target/my-first-app-1.0-SNAPSHOT-fat.jar -conf src/main/conf/my-application-conf.json \")),mdx(\"p\",null,\"Open your browser to \",mdx(\"inlineCode\",{parentName:\"p\"},\"http://localhost:8082/assets/index.html\"),\", and you should see the ap\\xADpli\\xADca\\xADtion using the data\\xADbase. This time the prod\\xADucts are stored in a data\\xADbase per\\xADsisted on the file sys\\xADtem. So, if we stop and restart the ap\\xADpli\\xADca\\xADtion, the data is re\\xADstored.\"),mdx(\"h2\",e({},{id:\"conclusion\"}),mdx(\"a\",e({parentName:\"h2\"},{\"aria-hidden\":!0,tabIndex:-1,className:\"heading-anchor\",href:\"#conclusion\"})),\"Conclusion\"),mdx(\"p\",null,\"In this post, we saw how you can use JDBC data\\xADbase with vert.x, and thus with\\xADout too much bur\\xADden. You may have been sur\\xADprised by the asyn\\xADchro\\xADnous de\\xADvel\\xADop\\xADment model, but once you start using it, it\\u2019s hard to come back.\"),mdx(\"p\",null,\"In the \",mdx(Link,{href:\"/blog/combine-vert-x-and-mongo-to-build-a-giant/\",passHref:!0,mdxType:\"Link\"},mdx(\"a\",e({parentName:\"p\"},{href:\"\"}),\"next post\")),\", we see how the same ap\\xADpli\\xADca\\xADtion can use Mon\\xADgoDB in\\xADstead of HSQL.\"),mdx(\"p\",null,\"Stay tuned, and happy cod\\xADing!\"))}MDXContent.isMDXComponent=!0;\n","scope":{}}},"prevPost":{"meta":{"title":"Vert.x ES6 back to the future","category":"guides","authors":[{"name":"Paulo Lopes","github_id":"pmlopes"}],"summary":"On October 21th, 2015 we all rejoiced with the return from the past of Marty McFly with his flying car and so on, however in the Vert.x world we were quite sad about our rather old JavaScript support."},"date":"2015-11-25","slug":"vert-x-es6-back-to-the-future"},"nextPost":{"meta":{"title":"Vert.x 3.1.0 is released!","category":"releases","authors":[{"name":"Tim Fox","github_id":"purplefox"}],"summary":"I'm pleased to announce the release of Vert.x 3.1!"},"date":"2015-10-08","slug":"vert-x-3-1-0-is-released"},"relatedPosts":[{"meta":{"title":"Unit and Integration Tests","category":"guides","authors":[{"name":"Clement Escoffier","github_id":"cescoffier"}],"summary":"Letâ€™s refresh our mind about what we developed so far in the introduction to vert.x series. We forgot an important task. We didnâ€™t test the API."},"date":"2015-08-03","slug":"unit-and-integration-tests"},{"meta":{"title":"Combine vert.x and mongo to build a giant","category":"guides","authors":[{"name":"Clement Escoffier","github_id":"cescoffier"}],"summary":"This blog post is part of the introduction to Vert.x series. We are now going to replace this JDBC client by the vertx-mongo-client, and thus connect to a Mongo database."},"date":"2015-11-30","slug":"combine-vert-x-and-mongo-to-build-a-giant"},{"meta":{"title":"My first Vert.x 3 Application","category":"guides","authors":[{"name":"Clement Escoffier","github_id":"cescoffier"}],"summary":"Let's say, you heard someone saying that Vert.x is awesome. Ok great, but you may want to try it by yourself. Well, the next natural question is â€œwhere do I start ?â€"},"date":"2015-07-14","slug":"my-first-vert-x-3-application"}]},"__N_SSG":true},"page":"/blog/[[...slug]]","query":{"slug":["using-the-asynchronous-sql-client"]},"buildId":"b2b7Deogm7TI7mFQOalkh","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>