<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta name="description" content="Vert.x | Reactive applications on the JVM"/><meta name="robots" content="index,follow"/><link rel="shortcut icon" href="/favicons/favicon.ico"/><link rel="icon" type="image/png" sizes="16x16" href="/favicons/favicon-16x16.png"/><link rel="icon" type="image/png" sizes="32x32" href="/favicons/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="48x48" href="/favicons/favicon-48x48.png"/><link rel="alternate" type="application/rss+xml" href="/feed/rss.xml"/><link rel="alternate" type="application/atom+xml" href="/feed/atom.xml"/><link rel="alternate" type="application/json" href="/feed/feed.json"/><title>Web Client | <!-- -->Eclipse Vert.x<!-- --></title><link rel="preload" href="https://api.github.com/repos/vert-x3/vertx-web" as="fetch" crossorigin="anonymous" class="jsx-d38685edc31911e0"/><meta name="next-head-count" content="14"/><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin /><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="/_next/static/chunks/webpack-a93aa46380b4694b.js" defer=""></script><script src="/_next/static/chunks/framework-81b9e9657f875d99.js" defer=""></script><script src="/_next/static/chunks/main-eb33b89c22079232.js" defer=""></script><script src="/_next/static/chunks/pages/_app-b65de3ecfe4346ec.js" defer=""></script><script src="/_next/static/chunks/61-dec5df0e40bc657e.js" defer=""></script><script src="/_next/static/chunks/619-d7a22a0a8627d5dc.js" defer=""></script><script src="/_next/static/chunks/629-c022341baf5a2a8d.js" defer=""></script><script src="/_next/static/chunks/74-60481b62b1bb65a9.js" defer=""></script><script src="/_next/static/chunks/361-368294ca7c0c9bdc.js" defer=""></script><script src="/_next/static/chunks/pages/docs/%5B%5B...slug%5D%5D-8992035060cd7ffc.js" defer=""></script><script src="/_next/static/TfCrH4GEYTYgoXJBLUTks/_buildManifest.js" defer=""></script><script src="/_next/static/TfCrH4GEYTYgoXJBLUTks/_ssgManifest.js" defer=""></script><script src="/_next/static/TfCrH4GEYTYgoXJBLUTks/_middlewareManifest.js" defer=""></script><style data-href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500&display=swap">@font-face{font-family:'Roboto';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOlCnqEu92Fr1MmSU5vAA.woff) format('woff')}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOmCnqEu92Fr1Me5g.woff) format('woff')}@font-face{font-family:'Roboto';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOlCnqEu92Fr1MmEU9vAA.woff) format('woff')}@font-face{font-family:'Roboto';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOlCnqEu92Fr1MmSU5fCRc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Roboto';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOlCnqEu92Fr1MmSU5fABc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Roboto';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOlCnqEu92Fr1MmSU5fCBc4AMP6lbBP.woff2) format('woff2');unicode-range:U+1F00-1FFF}@font-face{font-family:'Roboto';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOlCnqEu92Fr1MmSU5fBxc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0370-03FF}@font-face{font-family:'Roboto';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOlCnqEu92Fr1MmSU5fCxc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Roboto';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOlCnqEu92Fr1MmSU5fChc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Roboto';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOlCnqEu92Fr1MmSU5fBBc4AMP6lQ.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOmCnqEu92Fr1Mu72xKKTU1Kvnz.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOmCnqEu92Fr1Mu5mxKKTU1Kvnz.woff2) format('woff2');unicode-range:U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOmCnqEu92Fr1Mu7mxKKTU1Kvnz.woff2) format('woff2');unicode-range:U+1F00-1FFF}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOmCnqEu92Fr1Mu4WxKKTU1Kvnz.woff2) format('woff2');unicode-range:U+0370-03FF}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOmCnqEu92Fr1Mu7WxKKTU1Kvnz.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOmCnqEu92Fr1Mu7GxKKTU1Kvnz.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOmCnqEu92Fr1Mu4mxKKTU1Kg.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Roboto';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOlCnqEu92Fr1MmEU9fCRc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Roboto';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOlCnqEu92Fr1MmEU9fABc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Roboto';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOlCnqEu92Fr1MmEU9fCBc4AMP6lbBP.woff2) format('woff2');unicode-range:U+1F00-1FFF}@font-face{font-family:'Roboto';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOlCnqEu92Fr1MmEU9fBxc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0370-03FF}@font-face{font-family:'Roboto';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOlCnqEu92Fr1MmEU9fCxc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Roboto';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOlCnqEu92Fr1MmEU9fChc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Roboto';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOlCnqEu92Fr1MmEU9fBBc4AMP6lQ.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}</style><style data-href="https://fonts.googleapis.com/css2?family=Roboto+Condensed:wght@300;400&display=swap">@font-face{font-family:'Roboto Condensed';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/robotocondensed/v25/ieVi2ZhZI2eCN5jzbjEETS9weq8-33mZKCA.woff) format('woff')}@font-face{font-family:'Roboto Condensed';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/robotocondensed/v25/ieVl2ZhZI2eCN5jzbjEETS9weq8-59Y.woff) format('woff')}@font-face{font-family:'Roboto Condensed';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/robotocondensed/v25/ieVi2ZhZI2eCN5jzbjEETS9weq8-33mZGCkYb9lecyVC4A.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Roboto Condensed';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/robotocondensed/v25/ieVi2ZhZI2eCN5jzbjEETS9weq8-33mZGCAYb9lecyVC4A.woff2) format('woff2');unicode-range:U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Roboto Condensed';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/robotocondensed/v25/ieVi2ZhZI2eCN5jzbjEETS9weq8-33mZGCgYb9lecyVC4A.woff2) format('woff2');unicode-range:U+1F00-1FFF}@font-face{font-family:'Roboto Condensed';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/robotocondensed/v25/ieVi2ZhZI2eCN5jzbjEETS9weq8-33mZGCcYb9lecyVC4A.woff2) format('woff2');unicode-range:U+0370-03FF}@font-face{font-family:'Roboto Condensed';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/robotocondensed/v25/ieVi2ZhZI2eCN5jzbjEETS9weq8-33mZGCsYb9lecyVC4A.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Roboto Condensed';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/robotocondensed/v25/ieVi2ZhZI2eCN5jzbjEETS9weq8-33mZGCoYb9lecyVC4A.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Roboto Condensed';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/robotocondensed/v25/ieVi2ZhZI2eCN5jzbjEETS9weq8-33mZGCQYb9lecyU.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Roboto Condensed';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/robotocondensed/v25/ieVl2ZhZI2eCN5jzbjEETS9weq8-19-7DQk6YvNkeg.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Roboto Condensed';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/robotocondensed/v25/ieVl2ZhZI2eCN5jzbjEETS9weq8-19a7DQk6YvNkeg.woff2) format('woff2');unicode-range:U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Roboto Condensed';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/robotocondensed/v25/ieVl2ZhZI2eCN5jzbjEETS9weq8-1967DQk6YvNkeg.woff2) format('woff2');unicode-range:U+1F00-1FFF}@font-face{font-family:'Roboto Condensed';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/robotocondensed/v25/ieVl2ZhZI2eCN5jzbjEETS9weq8-19G7DQk6YvNkeg.woff2) format('woff2');unicode-range:U+0370-03FF}@font-face{font-family:'Roboto Condensed';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/robotocondensed/v25/ieVl2ZhZI2eCN5jzbjEETS9weq8-1927DQk6YvNkeg.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Roboto Condensed';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/robotocondensed/v25/ieVl2ZhZI2eCN5jzbjEETS9weq8-19y7DQk6YvNkeg.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Roboto Condensed';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/robotocondensed/v25/ieVl2ZhZI2eCN5jzbjEETS9weq8-19K7DQk6YvM.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}</style><style data-href="https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@400&display=swap">@font-face{font-family:'Roboto Mono';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/robotomono/v21/L0xuDF4xlVMF-BfR8bXMIhJHg45mwgGEFl0_3vqPQA.woff) format('woff')}@font-face{font-family:'Roboto Mono';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/robotomono/v21/L0xuDF4xlVMF-BfR8bXMIhJHg45mwgGEFl0_3vq_SeW-AJi8SJQtQ4Y.woff) format('woff');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Roboto Mono';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/robotomono/v21/L0xuDF4xlVMF-BfR8bXMIhJHg45mwgGEFl0_3vq_QOW-AJi8SJQtQ4Y.woff) format('woff');unicode-range:U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Roboto Mono';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/robotomono/v21/L0xuDF4xlVMF-BfR8bXMIhJHg45mwgGEFl0_3vq_R-W-AJi8SJQtQ4Y.woff) format('woff');unicode-range:U+0370-03FF}@font-face{font-family:'Roboto Mono';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/robotomono/v21/L0xuDF4xlVMF-BfR8bXMIhJHg45mwgGEFl0_3vq_S-W-AJi8SJQtQ4Y.woff) format('woff');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Roboto Mono';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/robotomono/v21/L0xuDF4xlVMF-BfR8bXMIhJHg45mwgGEFl0_3vq_SuW-AJi8SJQtQ4Y.woff) format('woff');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Roboto Mono';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/robotomono/v21/L0xuDF4xlVMF-BfR8bXMIhJHg45mwgGEFl0_3vq_ROW-AJi8SJQt.woff) format('woff');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}</style></head><body data-build-time="2022-04-28T13:43:41.380Z" data-build-commit-id="37b17d3dda2ff43c48c7f67f570026da74e2be35" data-build-run-id="2239621594"><div id="__next"><main class="jsx-8eedb594ed1b4625 page docs"><header><div class="jsx-f705e145f931f504 navbar"><div class="jsx-f705e145f931f504 navbar-content container"><div class="jsx-f705e145f931f504 navbar-logo"><a class="jsx-f705e145f931f504" href="/"><img src="data:image/svg+xml,%3csvg version=&#x27;1.1&#x27; id=&#x27;Layer_1&#x27; xmlns=&#x27;http://www.w3.org/2000/svg&#x27; x=&#x27;0&#x27; y=&#x27;0&#x27; viewBox=&#x27;0 0 1232.6 315.2&#x27; style=&#x27;enable-background:new 0 0 1232.6 315.2&#x27; xml:space=&#x27;preserve&#x27;%3e%3cstyle%3e.st0%7bfill:%23782a91%7d%3c/style%3e%3cpath d=&#x27;M120.9 214.2 190.5 0h52.3l-98.5 273.8H98.2L0 0h52.1l68.8 214.2zm291.2-62.6H299.6v84.2H431v38H252V0h177.7v38.4H299.6V114h112.5v37.6zm83.7-113.2H546c16.5.3 29 4.4 37.3 12.4 8.3 8 12.5 19.4 12.5 34 0 14-4.5 25.1-13.5 33.2-9 8.1-21.6 12.1-37.6 12.1h-27.1v24.2l86.1 119.5h51v-2.4l-77.2-106.7c24.9-5.5 43.3-21.7 52.6-35.9 8.2-12.6 13.3-27.7 13.3-46 0-26.8-8.6-47.4-25.8-61.5C600.5 7.1 576.1 0 544.5 0h-96.3v273.8h47.6&#x27;/%3e%3cpath class=&#x27;st0&#x27; d=&#x27;m1052.3 157.7-41.5 62.7 29.7 53.4h85.1z&#x27;/%3e%3ccircle class=&#x27;st0&#x27; cx=&#x27;827.9&#x27; cy=&#x27;274.7&#x27; r=&#x27;40.5&#x27;/%3e%3cpath class=&#x27;st0&#x27; d=&#x27;m1037 0-47.6 74.2L949 0h-84l85.3 135.8-67.1 105.7c5.7 9.5 9.1 20.5 9.2 32.4h50.1L1121.3 0H1037z&#x27;/%3e%3cpath d=&#x27;M763.5 273.8c.1-9.9 2.5-19.2 6.6-27.5V38.4h85.4V0H638.2v38.4h84.6v235.4h40.7zm414-266.9h-15.3v42.2h-8.5V6.9h-15.2V0h39v6.9zM1193 0l14.2 37.7L1221.3 0h11v49.1h-8.5V32.9l.8-21.7-14.5 37.9h-6.1l-14.5-37.8.8 21.6v16.2h-8.5V0h11.2z&#x27;/%3e%3c/svg%3e" alt="Vert.x Logo" class="jsx-f705e145f931f504"/></a></div><div class="jsx-f705e145f931f504 navbar-collapse-button"><span class="jsx-f705e145f931f504"></span><span class="jsx-f705e145f931f504"></span><span class="jsx-f705e145f931f504"></span></div><div class="jsx-f705e145f931f504 navbar-right"><div class="jsx-f705e145f931f504 navbar-menu"><span class="jsx-f705e145f931f504 navbar-menu-item with-drop-down"><div class="jsx-6650573c8f14945d dropdown"><a class="jsx-6650573c8f14945d dropdown-title">Start<!-- --><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="6 9 12 15 18 9"></polyline></svg></a><ul class="jsx-6650573c8f14945d dropdown-menu"><a class="jsx-f705e145f931f504" href="/introduction-to-vertx-and-reactive/"><li class="jsx-400ec7965926e858 dropdown-item">Intro to reactive<!-- --></li></a><a class="jsx-f705e145f931f504" href="/get-started/"><li class="jsx-400ec7965926e858 dropdown-item">Get started<!-- --></li></a><a href="https://start.vertx.io/" target="_blank" rel="noreferrer" class="jsx-f705e145f931f504"><li class="jsx-400ec7965926e858 dropdown-item">App generator <!-- --><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="external-link-icon"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></svg></li></a></ul></div></span><a class="jsx-f705e145f931f504 navbar-menu-item" href="/docs/">Docs</a><span class="jsx-f705e145f931f504 navbar-menu-item with-drop-down"><div class="jsx-6650573c8f14945d dropdown"><a class="jsx-6650573c8f14945d dropdown-title">Resources<!-- --><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="6 9 12 15 18 9"></polyline></svg></a><ul class="jsx-6650573c8f14945d dropdown-menu"><a class="jsx-f705e145f931f504" href="/faq/"><li class="jsx-400ec7965926e858 dropdown-item">FAQ<!-- --></li></a><a class="jsx-f705e145f931f504" href="/channels/"><li class="jsx-400ec7965926e858 dropdown-item">Channels<!-- --></li></a><a href="https://how-to.vertx.io/" target="_blank" rel="noreferrer" class="jsx-f705e145f931f504"><li class="jsx-400ec7965926e858 dropdown-item">How-To’s <!-- --><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="external-link-icon"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></svg></li></a><a href="https://github.com/vert-x3/vertx-eventbus-bridge-clients" target="_blank" rel="noreferrer" class="jsx-f705e145f931f504"><li class="jsx-400ec7965926e858 dropdown-item">EventBus Bridge Clients <!-- --><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="external-link-icon"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></svg></li></a><a href="https://github.com/vert-x3/advanced-vertx-guide" target="_blank" rel="noreferrer" class="jsx-f705e145f931f504"><li class="jsx-400ec7965926e858 dropdown-item">Advanced Vert.x Guide <!-- --><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="external-link-icon"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></svg></li></a></ul></div></span><a class="jsx-f705e145f931f504 navbar-menu-item" href="/blog/">Blog</a><a class="jsx-f705e145f931f504 navbar-menu-item" href="/community/">Community</a></div><div class="jsx-f705e145f931f504 navbar-social"><span class="jsx-75cbc16d79a176fb "><a href="https://github.com/vert-x3/vertx-awesome" target="_blank" rel="noopener noreferrer" class="jsx-f705e145f931f504 navbar-social-link"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24" aria-label="List of awesome Vert.x projects"><title></title><path d="M24 11.438l-6.154-5.645-.865.944 5.128 4.7H1.895l5.128-4.705-.865-.943-6.154 5.649H0v3.72c0 1.683 1.62 3.053 3.61 3.053h3.795c1.99 0 3.61-1.37 3.61-3.051v-2.446h1.97v2.446c0 1.68 1.62 3.051 3.61 3.051h3.794c1.99 0 3.61-1.37 3.61-3.051v-3.721z"></path></svg></a></span><div class="jsx-75cbc16d79a176fb tooltip">Awesome Vert.x<!-- --><div data-popper-arrow="true" class="jsx-75cbc16d79a176fb tooltip-arrow"></div></div><span class="jsx-75cbc16d79a176fb "><a href="https://stackoverflow.com/questions/tagged/vert.x" target="_blank" rel="noopener noreferrer" class="jsx-f705e145f931f504 navbar-social-link"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24" aria-label="Stack Overflow questions related to Vert.x"><title></title><path d="M15.725 0l-1.72 1.277 6.39 8.588 1.716-1.277L15.725 0zm-3.94 3.418l-1.369 1.644 8.225 6.85 1.369-1.644-8.225-6.85zm-3.15 4.465l-.905 1.94 9.702 4.517.904-1.94-9.701-4.517zm-1.85 4.86l-.44 2.093 10.473 2.201.44-2.092-10.473-2.203zM1.89 15.47V24h19.19v-8.53h-2.133v6.397H4.021v-6.396H1.89zm4.265 2.133v2.13h10.66v-2.13H6.154Z"></path></svg></a></span><div class="jsx-75cbc16d79a176fb tooltip">Stack Overflow<!-- --><div data-popper-arrow="true" class="jsx-75cbc16d79a176fb tooltip-arrow"></div></div><span class="jsx-75cbc16d79a176fb "><a href="https://www.youtube.com/channel/UCGN6L3tRhs92Uer3c6VxOSA" target="_blank" rel="noopener noreferrer" class="jsx-f705e145f931f504 navbar-social-link"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24" aria-label="YouTube channel of Vert.x"><title></title><path d="M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"></path></svg></a></span><div class="jsx-75cbc16d79a176fb tooltip">YouTube<!-- --><div data-popper-arrow="true" class="jsx-75cbc16d79a176fb tooltip-arrow"></div></div><span class="jsx-75cbc16d79a176fb "><a href="https://discord.gg/KzEMwP2" target="_blank" rel="noopener noreferrer" class="jsx-f705e145f931f504 navbar-social-link"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24" aria-label="Eclipse Vert.x channel on Discord"><title></title><path d="M20.317 4.3698a19.7913 19.7913 0 00-4.8851-1.5152.0741.0741 0 00-.0785.0371c-.211.3753-.4447.8648-.6083 1.2495-1.8447-.2762-3.68-.2762-5.4868 0-.1636-.3933-.4058-.8742-.6177-1.2495a.077.077 0 00-.0785-.037 19.7363 19.7363 0 00-4.8852 1.515.0699.0699 0 00-.0321.0277C.5334 9.0458-.319 13.5799.0992 18.0578a.0824.0824 0 00.0312.0561c2.0528 1.5076 4.0413 2.4228 5.9929 3.0294a.0777.0777 0 00.0842-.0276c.4616-.6304.8731-1.2952 1.226-1.9942a.076.076 0 00-.0416-.1057c-.6528-.2476-1.2743-.5495-1.8722-.8923a.077.077 0 01-.0076-.1277c.1258-.0943.2517-.1923.3718-.2914a.0743.0743 0 01.0776-.0105c3.9278 1.7933 8.18 1.7933 12.0614 0a.0739.0739 0 01.0785.0095c.1202.099.246.1981.3728.2924a.077.077 0 01-.0066.1276 12.2986 12.2986 0 01-1.873.8914.0766.0766 0 00-.0407.1067c.3604.698.7719 1.3628 1.225 1.9932a.076.076 0 00.0842.0286c1.961-.6067 3.9495-1.5219 6.0023-3.0294a.077.077 0 00.0313-.0552c.5004-5.177-.8382-9.6739-3.5485-13.6604a.061.061 0 00-.0312-.0286zM8.02 15.3312c-1.1825 0-2.1569-1.0857-2.1569-2.419 0-1.3332.9555-2.4189 2.157-2.4189 1.2108 0 2.1757 1.0952 2.1568 2.419 0 1.3332-.9555 2.4189-2.1569 2.4189zm7.9748 0c-1.1825 0-2.1569-1.0857-2.1569-2.419 0-1.3332.9554-2.4189 2.1569-2.4189 1.2108 0 2.1757 1.0952 2.1568 2.419 0 1.3332-.946 2.4189-2.1568 2.4189Z"></path></svg></a></span><div class="jsx-75cbc16d79a176fb tooltip">Discord<!-- --><div data-popper-arrow="true" class="jsx-75cbc16d79a176fb tooltip-arrow"></div></div><span class="jsx-75cbc16d79a176fb "><a href="https://groups.google.com/forum/?fromgroups#!forum/vertx" target="_blank" rel="noopener noreferrer" class="jsx-f705e145f931f504 navbar-social-link"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24" aria-label="A Google group for Vert.x users"><title></title><path d="M.92 3.332c-.776 0-1.216.67-.692 1.383l2.537 4.403v7.86c0 2.013 1.467 3.69 3.459 3.69H20.31a3.75 3.75 0 003.69-3.69V7.043a3.723 3.723 0 00-3.668-3.71zm5.786 3.71H20.1c.587 0 1.153.357 1.153.923 0 .566-.566.922-1.153.922H6.706c-.587 0-1.153-.356-1.153-.922 0-.566.566-.923 1.153-.923zm0 3.69H20.1c.587 0 1.153.356 1.153.922 0 .566-.566.922-1.153.922H6.706c-.587 0-1.153-.356-1.153-.922 0-.566.566-.922 1.153-.922zm-.021 3.71h9.705c.587 0 1.153.356 1.153.922 0 .566-.566.923-1.153.923H6.685c-.587 0-1.153-.357-1.153-.923 0-.566.566-.922 1.153-.922Z"></path></svg></a></span><div class="jsx-75cbc16d79a176fb tooltip">Vert.x User Group<!-- --><div data-popper-arrow="true" class="jsx-75cbc16d79a176fb tooltip-arrow"></div></div></div></div></div></div></header><div class="jsx-8eedb594ed1b4625 page-content docs-content"><div class="jsx-8eedb594ed1b4625 container"><div class="jsx-8eedb594ed1b4625 docs-content-wrapper"><aside class="jsx-8eedb594ed1b4625 "><div class="jsx-8eedb594ed1b4625 docs-content-wrapper-sidebar"><div class="jsx-d1843944f2d67b search-panel"><div class="jsx-b8b24b20b287542e search"><input type="text" disabled="" class="jsx-b8b24b20b287542e autosuggest"/><input type="text" placeholder="Search..." class="jsx-b8b24b20b287542e" value=""/><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="search-icon"><circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line></svg><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="search-icon-delete"><circle cx="12" cy="12" r="10"></circle><line x1="15" y1="9" x2="9" y2="15"></line><line x1="9" y1="9" x2="15" y2="15"></line></svg></div><ul class="jsx-4a39f0db74e84d2d search-results"></ul><div class="jsx-4a39f0db74e84d2d search-results-none">No results.</div></div><div class="jsx-8eedb594ed1b4625 docs-content-toc"><div id="toc" class="toc">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_using_the_web_client">Using the Web Client</a></li>
<li><a href="#_re_cap_on_vert_x_core_http_client">Re-cap on Vert.x core HTTP client</a></li>
<li><a href="#_creating_a_web_client">Creating a Web Client</a></li>
<li><a href="#_making_requests">Making requests</a>
<ul class="sectlevel2">
<li><a href="#_simple_requests_with_no_body">Simple requests with no body</a></li>
<li><a href="#_writing_request_bodies">Writing request bodies</a></li>
<li><a href="#_writing_request_headers">Writing request headers</a></li>
<li><a href="#_configure_the_request_to_add_authentication">Configure the request to add authentication.</a></li>
<li><a href="#_reusing_requests">Reusing requests</a></li>
<li><a href="#_timeouts">Timeouts</a></li>
</ul>
</li>
<li><a href="#_handling_http_responses">Handling http responses</a>
<ul class="sectlevel2">
<li><a href="#_decoding_responses">Decoding responses</a></li>
<li><a href="#response-predicates">Response predicates</a></li>
<li><a href="#_handling_30x_redirections">Handling 30x redirections</a></li>
</ul>
</li>
<li><a href="#_using_https">Using HTTPS</a></li>
<li><a href="#_sessions_management">Sessions management</a>
<ul class="sectlevel2">
<li><a href="#_creating_a_websession">Creating a WebSession</a></li>
<li><a href="#_making_requests_2">Making requests</a></li>
<li><a href="#_setting_session_level_headers">Setting session level headers</a></li>
</ul>
</li>
<li><a href="#_rxjava_3_api">RxJava 3 API</a></li>
<li><a href="#_domain_sockets">Domain sockets</a></li>
</ul>
</div></div></div></aside><div class="jsx-8eedb594ed1b4625 docs-content-sidebar-toggle"><div style="position:relative" class="jsx-8eedb594ed1b4625"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-list"><line x1="8" y1="6" x2="21" y2="6"></line><line x1="8" y1="12" x2="21" y2="12"></line><line x1="8" y1="18" x2="21" y2="18"></line><line x1="3" y1="6" x2="3.01" y2="6"></line><line x1="3" y1="12" x2="3.01" y2="12"></line><line x1="3" y1="18" x2="3.01" y2="18"></line></svg><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-x"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg></div></div><div class="jsx-8eedb594ed1b4625 docs-content-inner"><div class="jsx-8eedb594ed1b4625 docs-content-metadata"><div class="jsx-8eedb594ed1b4625 docs-content-metadata-left"><div class="jsx-8eedb594ed1b4625 docs-content-metadata-repo"><div class="jsx-d38685edc31911e0 github-stars"><a href="https://github.com/vert-x3/vertx-web" class="jsx-d38685edc31911e0"><div class="jsx-d38685edc31911e0 icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path></svg></div> <!-- -->958 stars<!-- --></a></div></div><div class="jsx-8eedb594ed1b4625"><a href="/docs/apidocs" class="jsx-8eedb594ed1b4625"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather"><path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path><path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path></svg> API<!-- --></a></div><div class="jsx-8eedb594ed1b4625 docs-content-metadata-examples"><a href="https://github.com/vert-x3/vertx-examples/tree/4.x/web-client-examples"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather"><path d="M21.44 11.05l-9.19 9.19a6 6 0 0 1-8.49-8.49l9.19-9.19a4 4 0 0 1 5.66 5.66l-9.2 9.19a2 2 0 0 1-2.83-2.83l8.49-8.48"></path></svg> Examples<!-- --></a></div><div class="jsx-8eedb594ed1b4625 docs-content-metadata-edit"><a href="https://github.com/vert-x3/vertx-web/tree/master/vertx-web-client/src/main/asciidoc"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather"><path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path><path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path></svg> Edit<!-- --></a></div><span class="jsx-8eedb594ed1b4625 docs-content-metadata-version"><div class="jsx-6650573c8f14945d dropdown"><a class="jsx-6650573c8f14945d dropdown-title">v4.2.7<!-- --><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="6 9 12 15 18 9"></polyline></svg></a><ul class="jsx-6650573c8f14945d dropdown-menu align-right"><a href="/docs/vertx-web-client/java/"><li class="jsx-400ec7965926e858 dropdown-item active has-active-siblings"><span class="jsx-400ec7965926e858 dropdown-check-icon"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="20 6 9 17 4 12"></polyline></svg></span>Latest (v<!-- -->4.2.7<!-- -->)<!-- --></li></a><a href="/docs/4.1.8/vertx-web-client/java/"><li class="jsx-400ec7965926e858 dropdown-item has-active-siblings">v<!-- -->4.1.8<!-- --></li></a><a href="/docs/4.0.3/vertx-web-client/java/"><li class="jsx-400ec7965926e858 dropdown-item has-active-siblings">v<!-- -->4.0.3<!-- --></li></a><a href="/docs/3.9.13/vertx-web-client/java/"><li class="jsx-400ec7965926e858 dropdown-item has-active-siblings">v<!-- -->3.9.13<!-- --></li></a></ul></div></span></div></div><div class="jsx-8eedb594ed1b4625"><h1>Vert.x Web Client</h1>

<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>Vert.x Web Client is an asynchronous HTTP and HTTP/2 client.</p>
</div>
<div class="paragraph">
<p>The Web Client makes easy to do HTTP request/response interactions with a web server, and provides advanced
features like:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Json body encoding / decoding</p>
</li>
<li>
<p>request/response pumping</p>
</li>
<li>
<p>request parameters</p>
</li>
<li>
<p>unified error handling</p>
</li>
<li>
<p>form submissions</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The Web Client does not deprecate the Vert.x Core <code><a href="../../apidocs/io/vertx/core/http/HttpClient.html">HttpClient</a></code>, indeed it is based on
this client and inherits its configuration and great features like pooling, HTTP/2 support, pipelining support, etc&#8230;&#8203;
The <code><a href="../../apidocs/io/vertx/core/http/HttpClient.html">HttpClient</a></code> should be used when fine grained control over the HTTP
requests/responses is necessary.</p>
</div>
<div class="paragraph">
<p>The Web Client does not provide a WebSocket API, the Vert.x Core <code><a href="../../apidocs/io/vertx/core/http/HttpClient.html">HttpClient</a></code> should
be used. It also does not handle cookies at the moment.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_using_the_web_client"><a class="anchor" href="#_using_the_web_client"></a>Using the Web Client</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To use Vert.x Web Client, add the following dependency to the <em>dependencies</em> section of your build descriptor:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Maven (in your <code>pom.xml</code>):</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
 <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>io.vertx<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
 <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>vertx-web-client<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
 <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>4.1.3<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Gradle (in your <code>build.gradle</code> file):</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-groovy" data-lang="groovy">dependencies {
 compile <span class="hljs-string">&#x27;io.vertx:vertx-web-client:4.1.3&#x27;</span>
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_re_cap_on_vert_x_core_http_client"><a class="anchor" href="#_re_cap_on_vert_x_core_http_client"></a>Re-cap on Vert.x core HTTP client</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Vert.x Web Client uses the API from Vert.x core, so it&#8217;s well worth getting familiar with the basic concepts of using
<code><a href="../../apidocs/io/vertx/core/http/HttpClient.html">HttpClient</a></code> using Vert.x core, if you&#8217;re not already.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_creating_a_web_client"><a class="anchor" href="#_creating_a_web_client"></a>Creating a Web Client</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You create an <code><a href="../../apidocs/io/vertx/ext/web/client/WebClient.html">WebClient</a></code> instance with default options as follows</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java"><span class="hljs-type">WebClient</span> <span class="hljs-variable">client</span> <span class="hljs-operator">=</span> WebClient.create(vertx);</code></pre>
</div>
</div>
<div class="paragraph">
<p>If you want to configure options for the client, you create it as follows</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java"><span class="hljs-type">WebClientOptions</span> <span class="hljs-variable">options</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">WebClientOptions</span>()
  .setUserAgent(<span class="hljs-string">&quot;My-App/1.2.3&quot;</span>);
options.setKeepAlive(<span class="hljs-literal">false</span>);
<span class="hljs-type">WebClient</span> <span class="hljs-variable">client</span> <span class="hljs-operator">=</span> WebClient.create(vertx, options);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Web Client options inherit Http Client options so you can set any one of them.</p>
</div>
<div class="paragraph">
<p>If your already have an HTTP Client in your application you can also reuse it</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java"><span class="hljs-type">WebClient</span> <span class="hljs-variable">client</span> <span class="hljs-operator">=</span> WebClient.wrap(httpClient);</code></pre>
</div>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">Important</div>
</td>
<td class="content">
In most cases, a Web Client should be created once on application startup and then reused.
Otherwise you lose a lot of benefits such as connection pooling and may leak resources if instances are not closed properly.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_making_requests"><a class="anchor" href="#_making_requests"></a>Making requests</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_simple_requests_with_no_body"><a class="anchor" href="#_simple_requests_with_no_body"></a>Simple requests with no body</h3>
<div class="paragraph">
<p>Often, you’ll want to make HTTP requests with no request body. This is usually the case with HTTP GET, OPTIONS
and HEAD requests</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java"><span class="hljs-type">WebClient</span> <span class="hljs-variable">client</span> <span class="hljs-operator">=</span> WebClient.create(vertx);

<span class="hljs-comment">// Send a GET request</span>
client
  .get(<span class="hljs-number">8080</span>, <span class="hljs-string">&quot;myserver.mycompany.com&quot;</span>, <span class="hljs-string">&quot;/some-uri&quot;</span>)
  .send()
  .onSuccess(response -&gt; System.out
    .println(<span class="hljs-string">&quot;Received response with status code&quot;</span> + response.statusCode()))
  .onFailure(err -&gt;
    System.out.println(<span class="hljs-string">&quot;Something went wrong &quot;</span> + err.getMessage()));

<span class="hljs-comment">// Send a HEAD request</span>
client
  .head(<span class="hljs-number">8080</span>, <span class="hljs-string">&quot;myserver.mycompany.com&quot;</span>, <span class="hljs-string">&quot;/some-uri&quot;</span>)
  .send()
  .onSuccess(response -&gt; System.out
    .println(<span class="hljs-string">&quot;Received response with status code&quot;</span> + response.statusCode()))
  .onFailure(err -&gt;
    System.out.println(<span class="hljs-string">&quot;Something went wrong &quot;</span> + err.getMessage()));</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can add query parameters to the request URI in a fluent fashion</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">client
  .get(<span class="hljs-number">8080</span>, <span class="hljs-string">&quot;myserver.mycompany.com&quot;</span>, <span class="hljs-string">&quot;/some-uri&quot;</span>)
  .addQueryParam(<span class="hljs-string">&quot;param&quot;</span>, <span class="hljs-string">&quot;param_value&quot;</span>)
  .send()
  .onSuccess(response -&gt; System.out
    .println(<span class="hljs-string">&quot;Received response with status code&quot;</span> + response.statusCode()))
  .onFailure(err -&gt;
    System.out.println(<span class="hljs-string">&quot;Something went wrong &quot;</span> + err.getMessage()));</code></pre>
</div>
</div>
<div class="paragraph">
<p>Any request URI parameter will pre-populate the request</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">HttpRequest&lt;Buffer&gt; request = client
  .get(
    <span class="hljs-number">8080</span>,
    <span class="hljs-string">&quot;myserver.mycompany.com&quot;</span>,
    <span class="hljs-string">&quot;/some-uri?param1=param1_value&amp;param2=param2_value&quot;</span>);

<span class="hljs-comment">// Add param3</span>
request.addQueryParam(<span class="hljs-string">&quot;param3&quot;</span>, <span class="hljs-string">&quot;param3_value&quot;</span>);

<span class="hljs-comment">// Overwrite param2</span>
request.setQueryParam(<span class="hljs-string">&quot;param2&quot;</span>, <span class="hljs-string">&quot;another_param2_value&quot;</span>);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Setting a request URI discards existing query parameters</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">HttpRequest&lt;Buffer&gt; request = client
  .get(<span class="hljs-number">8080</span>, <span class="hljs-string">&quot;myserver.mycompany.com&quot;</span>, <span class="hljs-string">&quot;/some-uri&quot;</span>);

<span class="hljs-comment">// Add param1</span>
request.addQueryParam(<span class="hljs-string">&quot;param1&quot;</span>, <span class="hljs-string">&quot;param1_value&quot;</span>);

<span class="hljs-comment">// Overwrite param1 and add param2</span>
request.uri(<span class="hljs-string">&quot;/some-uri?param1=param1_value&amp;param2=param2_value&quot;</span>);</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_writing_request_bodies"><a class="anchor" href="#_writing_request_bodies"></a>Writing request bodies</h3>
<div class="paragraph">
<p>When you need to make a request with a body, you use the same API and call then <code>sendXXX</code> methods
that expects a body to send.</p>
</div>
<div class="paragraph">
<p>Use <code><a href="../../apidocs/io/vertx/ext/web/client/HttpRequest.html#sendBuffer-io.vertx.core.buffer.Buffer-io.vertx.core.Handler-">sendBuffer</a></code> to send a buffer body</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">client
  .post(<span class="hljs-number">8080</span>, <span class="hljs-string">&quot;myserver.mycompany.com&quot;</span>, <span class="hljs-string">&quot;/some-uri&quot;</span>)
  .sendBuffer(buffer)
  .onSuccess(res -&gt; {
    <span class="hljs-comment">// OK</span>
  });</code></pre>
</div>
</div>
<div class="paragraph">
<p>Sending a single buffer is useful but often you don&#8217;t want to load fully the content in memory because
it may be too large or you want to handle many concurrent requests and want to use just the minimum
for each request. For this purpose the Web Client can send <code>ReadStream&lt;Buffer&gt;</code> (e.g a
<code><a href="../../apidocs/io/vertx/core/file/AsyncFile.html">AsyncFile</a></code> is a ReadStream&lt;Buffer&gt;`) with the <code><a href="../../apidocs/io/vertx/ext/web/client/HttpRequest.html#sendStream-io.vertx.core.streams.ReadStream-io.vertx.core.Handler-">sendStream</a></code> method</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">client
  .post(<span class="hljs-number">8080</span>, <span class="hljs-string">&quot;myserver.mycompany.com&quot;</span>, <span class="hljs-string">&quot;/some-uri&quot;</span>)
  .sendStream(stream)
  .onSuccess(res -&gt; {
    <span class="hljs-comment">// OK</span>
  });</code></pre>
</div>
</div>
<div class="paragraph">
<p>The Web Client takes care of setting up the transfer pump for you. Since the length of the stream is not know
the request will use chunked transfer encoding .</p>
</div>
<div class="paragraph">
<p>When you know the size of the stream, you shall specify before using the <code>content-length</code> header</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">fs.open(<span class="hljs-string">&quot;content.txt&quot;</span>, <span class="hljs-keyword">new</span> <span class="hljs-title class_">OpenOptions</span>(), fileRes -&gt; {
  <span class="hljs-keyword">if</span> (fileRes.succeeded()) {
    ReadStream&lt;Buffer&gt; fileStream = fileRes.result();

    <span class="hljs-type">String</span> <span class="hljs-variable">fileLen</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;1024&quot;</span>;

    <span class="hljs-comment">// Send the file to the server using POST</span>
    client
      .post(<span class="hljs-number">8080</span>, <span class="hljs-string">&quot;myserver.mycompany.com&quot;</span>, <span class="hljs-string">&quot;/some-uri&quot;</span>)
      .putHeader(<span class="hljs-string">&quot;content-length&quot;</span>, fileLen)
      .sendStream(fileStream)
      .onSuccess(res -&gt; {
        <span class="hljs-comment">// OK</span>
      })
    ;
  }
});</code></pre>
</div>
</div>
<div class="paragraph">
<p>The POST will not be chunked.</p>
</div>
<div class="sect3">
<h4 id="_json_bodies"><a class="anchor" href="#_json_bodies"></a>Json bodies</h4>
<div class="paragraph">
<p>Often you’ll want to send Json body requests, to send a <code><a href="../../apidocs/io/vertx/core/json/JsonObject.html">JsonObject</a></code>
use the <code><a href="../../apidocs/io/vertx/ext/web/client/HttpRequest.html#sendJsonObject-io.vertx.core.json.JsonObject-io.vertx.core.Handler-">sendJsonObject</a></code></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">client
  .post(<span class="hljs-number">8080</span>, <span class="hljs-string">&quot;myserver.mycompany.com&quot;</span>, <span class="hljs-string">&quot;/some-uri&quot;</span>)
  .sendJsonObject(
    <span class="hljs-keyword">new</span> <span class="hljs-title class_">JsonObject</span>()
      .put(<span class="hljs-string">&quot;firstName&quot;</span>, <span class="hljs-string">&quot;Dale&quot;</span>)
      .put(<span class="hljs-string">&quot;lastName&quot;</span>, <span class="hljs-string">&quot;Cooper&quot;</span>))
  .onSuccess(res -&gt; {
    <span class="hljs-comment">// OK</span>
  });</code></pre>
</div>
</div>
<div class="paragraph">
<p>In Java, Groovy or Kotlin, you can use the <code><a href="../../apidocs/io/vertx/ext/web/client/HttpRequest.html#sendJson-java.lang.Object-io.vertx.core.Handler-">sendJson</a></code> method that maps
a POJO (Plain Old Java Object) to a Json object using <code><a href="../../apidocs/io/vertx/core/json/Json.html#encode-java.lang.Object-">Json.encode</a></code>
method</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">client
  .post(<span class="hljs-number">8080</span>, <span class="hljs-string">&quot;myserver.mycompany.com&quot;</span>, <span class="hljs-string">&quot;/some-uri&quot;</span>)
  .sendJson(<span class="hljs-keyword">new</span> <span class="hljs-title class_">User</span>(<span class="hljs-string">&quot;Dale&quot;</span>, <span class="hljs-string">&quot;Cooper&quot;</span>))
  .onSuccess(res -&gt; {
    <span class="hljs-comment">// OK</span>
  });</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
the <code><a href="../../apidocs/io/vertx/core/json/Json.html#encode-java.lang.Object-">Json.encode</a></code> uses the Jackson mapper to encode the object
to Json.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_form_submissions"><a class="anchor" href="#_form_submissions"></a>Form submissions</h4>
<div class="paragraph">
<p>You can send http form submissions bodies with the <code><a href="../../apidocs/io/vertx/ext/web/client/HttpRequest.html#sendForm-io.vertx.core.MultiMap-io.vertx.core.Handler-">sendForm</a></code>
variant.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java"><span class="hljs-type">MultiMap</span> <span class="hljs-variable">form</span> <span class="hljs-operator">=</span> MultiMap.caseInsensitiveMultiMap();
form.set(<span class="hljs-string">&quot;firstName&quot;</span>, <span class="hljs-string">&quot;Dale&quot;</span>);
form.set(<span class="hljs-string">&quot;lastName&quot;</span>, <span class="hljs-string">&quot;Cooper&quot;</span>);

<span class="hljs-comment">// Submit the form as a form URL encoded body</span>
client
  .post(<span class="hljs-number">8080</span>, <span class="hljs-string">&quot;myserver.mycompany.com&quot;</span>, <span class="hljs-string">&quot;/some-uri&quot;</span>)
  .sendForm(form)
  .onSuccess(res -&gt; {
    <span class="hljs-comment">// OK</span>
  });</code></pre>
</div>
</div>
<div class="paragraph">
<p>By default the form is submitted with the <code>application/x-www-form-urlencoded</code> content type header. You can set
the <code>content-type</code> header to <code>multipart/form-data</code> instead</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java"><span class="hljs-type">MultiMap</span> <span class="hljs-variable">form</span> <span class="hljs-operator">=</span> MultiMap.caseInsensitiveMultiMap();
form.set(<span class="hljs-string">&quot;firstName&quot;</span>, <span class="hljs-string">&quot;Dale&quot;</span>);
form.set(<span class="hljs-string">&quot;lastName&quot;</span>, <span class="hljs-string">&quot;Cooper&quot;</span>);

<span class="hljs-comment">// Submit the form as a multipart form body</span>
client
  .post(<span class="hljs-number">8080</span>, <span class="hljs-string">&quot;myserver.mycompany.com&quot;</span>, <span class="hljs-string">&quot;/some-uri&quot;</span>)
  .putHeader(<span class="hljs-string">&quot;content-type&quot;</span>, <span class="hljs-string">&quot;multipart/form-data&quot;</span>)
  .sendForm(form)
  .onSuccess(res -&gt; {
    <span class="hljs-comment">// OK</span>
  });</code></pre>
</div>
</div>
<div class="paragraph">
<p>If you want to upload files and send attributes, you can create a <code><a href="../../apidocs/io/vertx/ext/web/multipart/MultipartForm.html">MultipartForm</a></code> and
use <code><a href="../../apidocs/io/vertx/ext/web/client/HttpRequest.html#sendMultipartForm-io.vertx.ext.web.multipart.MultipartForm-io.vertx.core.Handler-">sendMultipartForm</a></code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java"><span class="hljs-type">MultipartForm</span> <span class="hljs-variable">form</span> <span class="hljs-operator">=</span> MultipartForm.create()
  .attribute(<span class="hljs-string">&quot;imageDescription&quot;</span>, <span class="hljs-string">&quot;a very nice image&quot;</span>)
  .binaryFileUpload(
    <span class="hljs-string">&quot;imageFile&quot;</span>,
    <span class="hljs-string">&quot;image.jpg&quot;</span>,
    <span class="hljs-string">&quot;/path/to/image&quot;</span>,
    <span class="hljs-string">&quot;image/jpeg&quot;</span>);

<span class="hljs-comment">// Submit the form as a multipart form body</span>
client
  .post(<span class="hljs-number">8080</span>, <span class="hljs-string">&quot;myserver.mycompany.com&quot;</span>, <span class="hljs-string">&quot;/some-uri&quot;</span>)
  .sendMultipartForm(form)
  .onSuccess(res -&gt; {
    <span class="hljs-comment">// OK</span>
  });</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_writing_request_headers"><a class="anchor" href="#_writing_request_headers"></a>Writing request headers</h3>
<div class="paragraph">
<p>You can write headers to a request using the headers multi-map as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">HttpRequest&lt;Buffer&gt; request = client
  .get(<span class="hljs-number">8080</span>, <span class="hljs-string">&quot;myserver.mycompany.com&quot;</span>, <span class="hljs-string">&quot;/some-uri&quot;</span>);

<span class="hljs-type">MultiMap</span> <span class="hljs-variable">headers</span> <span class="hljs-operator">=</span> request.headers();
headers.set(<span class="hljs-string">&quot;content-type&quot;</span>, <span class="hljs-string">&quot;application/json&quot;</span>);
headers.set(<span class="hljs-string">&quot;other-header&quot;</span>, <span class="hljs-string">&quot;foo&quot;</span>);</code></pre>
</div>
</div>
<div class="paragraph">
<p>The headers are an instance of <code><a href="../../apidocs/io/vertx/core/MultiMap.html">MultiMap</a></code> which provides operations for adding,
setting and removing entries. Http headers allow more than one value for a specific key.</p>
</div>
<div class="paragraph">
<p>You can also write headers using putHeader</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">HttpRequest&lt;Buffer&gt; request = client
  .get(<span class="hljs-number">8080</span>, <span class="hljs-string">&quot;myserver.mycompany.com&quot;</span>, <span class="hljs-string">&quot;/some-uri&quot;</span>);

request.putHeader(<span class="hljs-string">&quot;content-type&quot;</span>, <span class="hljs-string">&quot;application/json&quot;</span>);
request.putHeader(<span class="hljs-string">&quot;other-header&quot;</span>, <span class="hljs-string">&quot;foo&quot;</span>);</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_configure_the_request_to_add_authentication"><a class="anchor" href="#_configure_the_request_to_add_authentication"></a>Configure the request to add authentication.</h3>
<div class="paragraph">
<p>Authentication can be performed manually by setting the correct headers, or, using our predefined methods
(We strongly suggest having HTTPS enabled, especially for authenticated requests):</p>
</div>
<div class="paragraph">
<p>In basic HTTP authentication, a request contains a header field of the form <code>Authorization: Basic &lt;credentials&gt;</code>,
where credentials is the base64 encoding of id and password joined by a colon.</p>
</div>
<div class="paragraph">
<p>You can configure the request to add basic access authentication as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">HttpRequest&lt;Buffer&gt; request = client
  .get(<span class="hljs-number">8080</span>, <span class="hljs-string">&quot;myserver.mycompany.com&quot;</span>, <span class="hljs-string">&quot;/some-uri&quot;</span>)
  .authentication(<span class="hljs-keyword">new</span> <span class="hljs-title class_">UsernamePasswordCredentials</span>(<span class="hljs-string">&quot;myid&quot;</span>, <span class="hljs-string">&quot;mypassword&quot;</span>));</code></pre>
</div>
</div>
<div class="paragraph">
<p>In OAuth 2.0, a request contains a header field of the form <code>Authorization: Bearer &lt;bearerToken&gt;</code>,
where bearerToken is the bearer token issued by an authorization server to access protected resources.</p>
</div>
<div class="paragraph">
<p>You can configure the request to add bearer token authentication as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">HttpRequest&lt;Buffer&gt; request = client
  .get(<span class="hljs-number">8080</span>, <span class="hljs-string">&quot;myserver.mycompany.com&quot;</span>, <span class="hljs-string">&quot;/some-uri&quot;</span>)
  .authentication(<span class="hljs-keyword">new</span> <span class="hljs-title class_">TokenCredentials</span>(<span class="hljs-string">&quot;myBearerToken&quot;</span>));</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_reusing_requests"><a class="anchor" href="#_reusing_requests"></a>Reusing requests</h3>
<div class="paragraph">
<p>The <code><a href="../../apidocs/io/vertx/ext/web/client/HttpRequest.html#send-io.vertx.core.Handler-">send</a></code> method can be called multiple times
safely, making it very easy to configure and reuse <code><a href="../../apidocs/io/vertx/ext/web/client/HttpRequest.html">HttpRequest</a></code> objects</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">HttpRequest&lt;Buffer&gt; get = client
  .get(<span class="hljs-number">8080</span>, <span class="hljs-string">&quot;myserver.mycompany.com&quot;</span>, <span class="hljs-string">&quot;/some-uri&quot;</span>);

get
  .send()
  .onSuccess(res -&gt; {
    <span class="hljs-comment">// OK</span>
  });

<span class="hljs-comment">// Same request again</span>
get
  .send()
  .onSuccess(res -&gt; {
    <span class="hljs-comment">// OK</span>
  });</code></pre>
</div>
</div>
<div class="paragraph">
<p>Beware though that <code><a href="../../apidocs/io/vertx/ext/web/client/HttpRequest.html">HttpRequest</a></code> instances are mutable.
Therefore you should call the <code><a href="../../apidocs/io/vertx/ext/web/client/HttpRequest.html#copy--">copy</a></code> method before modifying a cached instance.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">HttpRequest&lt;Buffer&gt; get = client
  .get(<span class="hljs-number">8080</span>, <span class="hljs-string">&quot;myserver.mycompany.com&quot;</span>, <span class="hljs-string">&quot;/some-uri&quot;</span>);

get
  .send()
  .onSuccess(res -&gt; {
    <span class="hljs-comment">// OK</span>
  });

<span class="hljs-comment">// The &quot;get&quot; request instance remains unmodified</span>
get
  .copy()
  .putHeader(<span class="hljs-string">&quot;a-header&quot;</span>, <span class="hljs-string">&quot;with-some-value&quot;</span>)
  .send()
  .onSuccess(res -&gt; {
    <span class="hljs-comment">// OK</span>
  });</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_timeouts"><a class="anchor" href="#_timeouts"></a>Timeouts</h3>
<div class="paragraph">
<p>You can set a timeout for a specific http request using <code><a href="../../apidocs/io/vertx/ext/web/client/HttpRequest.html#timeout-long-">timeout</a></code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">client
  .get(<span class="hljs-number">8080</span>, <span class="hljs-string">&quot;myserver.mycompany.com&quot;</span>, <span class="hljs-string">&quot;/some-uri&quot;</span>)
  .timeout(<span class="hljs-number">5000</span>)
  .send()
  .onSuccess(res -&gt; {
    <span class="hljs-comment">// OK</span>
  })
  .onFailure(err -&gt; {
    <span class="hljs-comment">// Might be a timeout when cause is java.util.concurrent.TimeoutException</span>
  });</code></pre>
</div>
</div>
<div class="paragraph">
<p>If the request does not return any data within the timeout period an exception will be passed to the response
handler.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_handling_http_responses"><a class="anchor" href="#_handling_http_responses"></a>Handling http responses</h2>
<div class="sectionbody">
<div class="paragraph">
<p>When the Web Client sends a request you always deal with a single async result <code><a href="../../apidocs/io/vertx/ext/web/client/HttpResponse.html">HttpResponse</a></code>.</p>
</div>
<div class="paragraph">
<p>On a success result the callback happens after the response has been received</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">client
  .get(<span class="hljs-number">8080</span>, <span class="hljs-string">&quot;myserver.mycompany.com&quot;</span>, <span class="hljs-string">&quot;/some-uri&quot;</span>)
  .send()
  .onSuccess(res -&gt;
    System.out.println(<span class="hljs-string">&quot;Received response with status code&quot;</span> + res.statusCode()))
  .onFailure(err -&gt;
    System.out.println(<span class="hljs-string">&quot;Something went wrong &quot;</span> + err.getMessage()));</code></pre>
</div>
</div>
<div class="admonitionblock caution">
<table>
<tr>
<td class="icon">
<div class="title">Caution</div>
</td>
<td class="content">
<div class="paragraph">
<p>By default, a Vert.x Web Client request ends with an error only if something wrong happens at the network level.
In other words, a <code>404 Not Found</code> response, or a response with the wrong content type, are <strong>not</strong> considered as failures.
Use <a href="#response-predicates">response predicates</a> if you want the Web Client to perform sanity checks automatically.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">Warning</div>
</td>
<td class="content">
Responses are fully buffered, use <code><a href="../../apidocs/io/vertx/ext/web/codec/BodyCodec.html#pipe-io.vertx.core.streams.WriteStream-">BodyCodec.pipe</a></code>
to pipe the response to a write stream
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="_decoding_responses"><a class="anchor" href="#_decoding_responses"></a>Decoding responses</h3>
<div class="paragraph">
<p>By default the Web Client provides an http response body as a <code>Buffer</code> and does not apply
any decoding.</p>
</div>
<div class="paragraph">
<p>Custom response body decoding can be achieved using <code><a href="../../apidocs/io/vertx/ext/web/codec/BodyCodec.html">BodyCodec</a></code>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Plain String</p>
</li>
<li>
<p>Json object</p>
</li>
<li>
<p>Json mapped POJO</p>
</li>
<li>
<p><code><a href="../../apidocs/io/vertx/core/streams/WriteStream.html">WriteStream</a></code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>A body codec can decode an arbitrary binary data stream into a specific object instance, saving you the decoding
step in your response handlers.</p>
</div>
<div class="paragraph">
<p>Use <code><a href="../../apidocs/io/vertx/ext/web/codec/BodyCodec.html#jsonObject--">BodyCodec.jsonObject</a></code> To decode a Json object:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">client
  .get(<span class="hljs-number">8080</span>, <span class="hljs-string">&quot;myserver.mycompany.com&quot;</span>, <span class="hljs-string">&quot;/some-uri&quot;</span>)
  .as(BodyCodec.jsonObject())
  .send()
  .onSuccess(res -&gt; {
    <span class="hljs-type">JsonObject</span> <span class="hljs-variable">body</span> <span class="hljs-operator">=</span> res.body();

    System.out.println(
      <span class="hljs-string">&quot;Received response with status code&quot;</span> +
        res.statusCode() +
        <span class="hljs-string">&quot; with body &quot;</span> +
        body);
  })
  .onFailure(err -&gt;
    System.out.println(<span class="hljs-string">&quot;Something went wrong &quot;</span> + err.getMessage()));</code></pre>
</div>
</div>
<div class="paragraph">
<p>In Java, Groovy or Kotlin, custom Json mapped POJO can be decoded</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">client
  .get(<span class="hljs-number">8080</span>, <span class="hljs-string">&quot;myserver.mycompany.com&quot;</span>, <span class="hljs-string">&quot;/some-uri&quot;</span>)
  .as(BodyCodec.json(User.class))
  .send()
  .onSuccess(res -&gt; {
    <span class="hljs-type">User</span> <span class="hljs-variable">user</span> <span class="hljs-operator">=</span> res.body();

    System.out.println(
      <span class="hljs-string">&quot;Received response with status code&quot;</span> +
        res.statusCode() +
        <span class="hljs-string">&quot; with body &quot;</span> +
        user.getFirstName() +
        <span class="hljs-string">&quot; &quot;</span> +
        user.getLastName());
  })
  .onFailure(err -&gt;
    System.out.println(<span class="hljs-string">&quot;Something went wrong &quot;</span> + err.getMessage()));</code></pre>
</div>
</div>
<div class="paragraph">
<p>When large response are expected, use the <code><a href="../../apidocs/io/vertx/ext/web/codec/BodyCodec.html#pipe-io.vertx.core.streams.WriteStream-">BodyCodec.pipe</a></code>.
This body codec pumps the response body buffers to a <code><a href="../../apidocs/io/vertx/core/streams/WriteStream.html">WriteStream</a></code>
and signals the success or the failure of the operation in the async result response</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">client
  .get(<span class="hljs-number">8080</span>, <span class="hljs-string">&quot;myserver.mycompany.com&quot;</span>, <span class="hljs-string">&quot;/some-uri&quot;</span>)
  .as(BodyCodec.pipe(writeStream))
  .send()
  .onSuccess(res -&gt;
    System.out.println(<span class="hljs-string">&quot;Received response with status code&quot;</span> + res.statusCode()))
  .onFailure(err -&gt;
    System.out.println(<span class="hljs-string">&quot;Something went wrong &quot;</span> + err.getMessage()));</code></pre>
</div>
</div>
<div class="paragraph">
<p>It becomes frequent to see API returning a stream of JSON objects. For example, the Twitter API can provides a feed of
tweets. To handle this use case you can use <code><a href="../../apidocs/io/vertx/ext/web/codec/BodyCodec.html#jsonStream-io.vertx.core.parsetools.JsonParser-">BodyCodec.jsonStream</a></code>.
You pass a JSON parser that emits the read JSON streams from the HTTP response:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java"><span class="hljs-type">JsonParser</span> <span class="hljs-variable">parser</span> <span class="hljs-operator">=</span> JsonParser.newParser().objectValueMode();
parser.handler(event -&gt; {
  <span class="hljs-type">JsonObject</span> <span class="hljs-variable">object</span> <span class="hljs-operator">=</span> event.objectValue();
  System.out.println(<span class="hljs-string">&quot;Got &quot;</span> + object.encode());
});
client
  .get(<span class="hljs-number">8080</span>, <span class="hljs-string">&quot;myserver.mycompany.com&quot;</span>, <span class="hljs-string">&quot;/some-uri&quot;</span>)
  .as(BodyCodec.jsonStream(parser))
  .send()
  .onSuccess(res -&gt;
    System.out.println(<span class="hljs-string">&quot;Received response with status code&quot;</span> + res.statusCode()))
  .onFailure(err -&gt;
    System.out.println(<span class="hljs-string">&quot;Something went wrong &quot;</span> + err.getMessage()));</code></pre>
</div>
</div>
<div class="paragraph">
<p>Finally if you are not interested at all by the response content, the <code><a href="../../apidocs/io/vertx/ext/web/codec/BodyCodec.html#none--">BodyCodec.none</a></code>
simply discards the entire response body</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">client
  .get(<span class="hljs-number">8080</span>, <span class="hljs-string">&quot;myserver.mycompany.com&quot;</span>, <span class="hljs-string">&quot;/some-uri&quot;</span>)
  .as(BodyCodec.none())
  .send()
  .onSuccess(res -&gt;
    System.out.println(<span class="hljs-string">&quot;Received response with status code&quot;</span> + res.statusCode()))
  .onFailure(err -&gt;
    System.out.println(<span class="hljs-string">&quot;Something went wrong &quot;</span> + err.getMessage()));</code></pre>
</div>
</div>
<div class="paragraph">
<p>When you don&#8217;t know in advance the content type of the http response, you can still use the <code>bodyAsXXX()</code> methods
that decode the response to a specific type</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">client
  .get(<span class="hljs-number">8080</span>, <span class="hljs-string">&quot;myserver.mycompany.com&quot;</span>, <span class="hljs-string">&quot;/some-uri&quot;</span>)
  .send()
  .onSuccess(res -&gt; {
    <span class="hljs-comment">// Decode the body as a json object</span>
    <span class="hljs-type">JsonObject</span> <span class="hljs-variable">body</span> <span class="hljs-operator">=</span> res.bodyAsJsonObject();

    System.out.println(
      <span class="hljs-string">&quot;Received response with status code&quot;</span> +
        res.statusCode() +
        <span class="hljs-string">&quot; with body &quot;</span> +
        body);
  })
  .onFailure(err -&gt;
    System.out.println(<span class="hljs-string">&quot;Something went wrong &quot;</span> + err.getMessage()));</code></pre>
</div>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">Warning</div>
</td>
<td class="content">
this is only valid for the response decoded as a buffer.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="response-predicates"><a class="anchor" href="#response-predicates"></a>Response predicates</h3>
<div class="paragraph">
<p>By default, a Vert.x Web Client request ends with an error only if something wrong happens at the network level.</p>
</div>
<div class="paragraph">
<p>In other words, you must perform sanity checks manually after the response is received:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">client
  .get(<span class="hljs-number">8080</span>, <span class="hljs-string">&quot;myserver.mycompany.com&quot;</span>, <span class="hljs-string">&quot;/some-uri&quot;</span>)
  .send()
  .onSuccess(res -&gt; {
    <span class="hljs-keyword">if</span> (
      res.statusCode() == <span class="hljs-number">200</span> &amp;&amp;
        res.getHeader(<span class="hljs-string">&quot;content-type&quot;</span>).equals(<span class="hljs-string">&quot;application/json&quot;</span>)) {
      <span class="hljs-comment">// Decode the body as a json object</span>
      <span class="hljs-type">JsonObject</span> <span class="hljs-variable">body</span> <span class="hljs-operator">=</span> res.bodyAsJsonObject();

      System.out.println(
        <span class="hljs-string">&quot;Received response with status code&quot;</span> +
          res.statusCode() +
          <span class="hljs-string">&quot; with body &quot;</span> +
          body);
    } <span class="hljs-keyword">else</span> {
      System.out.println(<span class="hljs-string">&quot;Something went wrong &quot;</span> + res.statusCode());
    }
  })
  .onFailure(err -&gt;
    System.out.println(<span class="hljs-string">&quot;Something went wrong &quot;</span> + err.getMessage()));</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can trade flexibility for clarity and conciseness using <em>response predicates</em>.</p>
</div>
<div class="paragraph">
<p><code><a href="../../apidocs/io/vertx/ext/web/client/predicate/ResponsePredicate.html">Response predicates</a></code> can fail a request when the response does
not match a criteria.</p>
</div>
<div class="paragraph">
<p>The Web Client comes with a set of out of the box predicates ready to use:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">client
  .get(<span class="hljs-number">8080</span>, <span class="hljs-string">&quot;myserver.mycompany.com&quot;</span>, <span class="hljs-string">&quot;/some-uri&quot;</span>)
  .expect(ResponsePredicate.SC_SUCCESS)
  .expect(ResponsePredicate.JSON)
  .send()
  .onSuccess(res -&gt; {
    <span class="hljs-comment">// Safely decode the body as a json object</span>
    <span class="hljs-type">JsonObject</span> <span class="hljs-variable">body</span> <span class="hljs-operator">=</span> res.bodyAsJsonObject();
    System.out.println(
      <span class="hljs-string">&quot;Received response with status code&quot;</span> +
        res.statusCode() +
        <span class="hljs-string">&quot; with body &quot;</span> +
        body);
  })
  .onFailure(err -&gt;
    System.out.println(<span class="hljs-string">&quot;Something went wrong &quot;</span> + err.getMessage()));</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can also create custom predicates when existing predicates don&#8217;t fit your needs:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">Function&lt;HttpResponse&lt;Void&gt;, ResponsePredicateResult&gt; methodsPredicate =
  resp -&gt; {
    <span class="hljs-type">String</span> <span class="hljs-variable">methods</span> <span class="hljs-operator">=</span> resp.getHeader(<span class="hljs-string">&quot;Access-Control-Allow-Methods&quot;</span>);
    <span class="hljs-keyword">if</span> (methods != <span class="hljs-literal">null</span>) {
      <span class="hljs-keyword">if</span> (methods.contains(<span class="hljs-string">&quot;POST&quot;</span>)) {
        <span class="hljs-keyword">return</span> ResponsePredicateResult.success();
      }
    }
    <span class="hljs-keyword">return</span> ResponsePredicateResult.failure(<span class="hljs-string">&quot;Does not work&quot;</span>);
  };

<span class="hljs-comment">// Send pre-flight CORS request</span>
client
  .request(
    HttpMethod.OPTIONS,
    <span class="hljs-number">8080</span>,
    <span class="hljs-string">&quot;myserver.mycompany.com&quot;</span>,
    <span class="hljs-string">&quot;/some-uri&quot;</span>)
  .putHeader(<span class="hljs-string">&quot;Origin&quot;</span>, <span class="hljs-string">&quot;Server-b.com&quot;</span>)
  .putHeader(<span class="hljs-string">&quot;Access-Control-Request-Method&quot;</span>, <span class="hljs-string">&quot;POST&quot;</span>)
  .expect(methodsPredicate)
  .send()
  .onSuccess(res -&gt; {
    <span class="hljs-comment">// Process the POST request now</span>
  })
  .onFailure(err -&gt;
    System.out.println(<span class="hljs-string">&quot;Something went wrong &quot;</span> + err.getMessage()));</code></pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<div class="title">Tip</div>
</td>
<td class="content">
Response predicates are evaluated <em>before</em> the response body is received. Therefore you can&#8217;t inspect the response body
in a predicate test function.
</td>
</tr>
</table>
</div>
<div class="sect3">
<h4 id="_predefined_predicates"><a class="anchor" href="#_predefined_predicates"></a>Predefined predicates</h4>
<div class="paragraph">
<p>As a convenience, the Web Client ships a few predicates for common uses cases .</p>
</div>
<div class="paragraph">
<p>For status codes, e.g <code><a href="../../apidocs/io/vertx/ext/web/client/predicate/ResponsePredicate.html#SC_SUCCESS">ResponsePredicate.SC_SUCCESS</a></code> to verify that the
response has a <code>2xx</code> code, you can also create a custom one:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">client
  .get(<span class="hljs-number">8080</span>, <span class="hljs-string">&quot;myserver.mycompany.com&quot;</span>, <span class="hljs-string">&quot;/some-uri&quot;</span>)
  .expect(ResponsePredicate.status(<span class="hljs-number">200</span>, <span class="hljs-number">202</span>))
  .send()
  .onSuccess(res -&gt; {
    <span class="hljs-comment">// ....</span>
  });</code></pre>
</div>
</div>
<div class="paragraph">
<p>For content types, e.g <code><a href="../../apidocs/io/vertx/ext/web/client/predicate/ResponsePredicate.html#JSON">ResponsePredicate.JSON</a></code> to verify that the
response body contains JSON data, you can also create a custom one:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">client
  .get(<span class="hljs-number">8080</span>, <span class="hljs-string">&quot;myserver.mycompany.com&quot;</span>, <span class="hljs-string">&quot;/some-uri&quot;</span>)
  .expect(ResponsePredicate.contentType(<span class="hljs-string">&quot;some/content-type&quot;</span>))
  .send()
  .onSuccess(res -&gt; {
    <span class="hljs-comment">// ....</span>
  });</code></pre>
</div>
</div>
<div class="paragraph">
<p>Please refer to the <code><a href="../../apidocs/io/vertx/ext/web/client/predicate/ResponsePredicate.html">ResponsePredicate</a></code> documentation for a full list of predefined predicates.</p>
</div>
</div>
<div class="sect3">
<h4 id="_creating_custom_failures"><a class="anchor" href="#_creating_custom_failures"></a>Creating custom failures</h4>
<div class="paragraph">
<p>By default, response predicates (including the predefined ones) use a default error converter which discards
the body and conveys a simple message. You can customize the exception class by changing the error converter:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java"><span class="hljs-type">ResponsePredicate</span> <span class="hljs-variable">predicate</span> <span class="hljs-operator">=</span> ResponsePredicate.create(
  ResponsePredicate.SC_SUCCESS,
  result -&gt; <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyCustomException</span>(result.message()));</code></pre>
</div>
</div>
<div class="paragraph">
<p>Many web APIs provide details in error responses.
For example, the <a href="https://developer.marvel.com/docs">Marvel API</a> uses this JSON object format:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-javascript" data-lang="javascript">{
 <span class="hljs-string">&quot;code&quot;</span>: <span class="hljs-string">&quot;InvalidCredentials&quot;</span>,
 <span class="hljs-string">&quot;message&quot;</span>: <span class="hljs-string">&quot;The passed API key is invalid.&quot;</span>
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>To avoid losing this information, it is possible to wait for the response body to be fully received before the error
converter is called:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java"><span class="hljs-type">ErrorConverter</span> <span class="hljs-variable">converter</span> <span class="hljs-operator">=</span> ErrorConverter.createFullBody(result -&gt; {

  <span class="hljs-comment">// Invoked after the response body is fully received</span>
  HttpResponse&lt;Buffer&gt; response = result.response();

  <span class="hljs-keyword">if</span> (response
    .getHeader(<span class="hljs-string">&quot;content-type&quot;</span>)
    .equals(<span class="hljs-string">&quot;application/json&quot;</span>)) {

    <span class="hljs-comment">// Error body is JSON data</span>
    <span class="hljs-type">JsonObject</span> <span class="hljs-variable">body</span> <span class="hljs-operator">=</span> response.bodyAsJsonObject();

    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyCustomException</span>(
      body.getString(<span class="hljs-string">&quot;code&quot;</span>),
      body.getString(<span class="hljs-string">&quot;message&quot;</span>));
  }

  <span class="hljs-comment">// Fallback to defaut message</span>
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyCustomException</span>(result.message());
});

<span class="hljs-type">ResponsePredicate</span> <span class="hljs-variable">predicate</span> <span class="hljs-operator">=</span> ResponsePredicate
  .create(ResponsePredicate.SC_SUCCESS, converter);</code></pre>
</div>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">Warning</div>
</td>
<td class="content">
creating exception in Java can have a performance cost when it captures a stack trace, so you might want
        to create exceptions that do not capture the stack trace. By default exceptions are reported using the
        an exception that does not capture the stack trace.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_handling_30x_redirections"><a class="anchor" href="#_handling_30x_redirections"></a>Handling 30x redirections</h3>
<div class="paragraph">
<p>By default the client follows redirections, you can configure the default behavior in the <code><a href="../../apidocs/io/vertx/ext/web/client/WebClientOptions.html">WebClientOptions</a></code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java"><span class="hljs-type">WebClient</span> <span class="hljs-variable">client</span> <span class="hljs-operator">=</span> WebClient
  .create(vertx, <span class="hljs-keyword">new</span> <span class="hljs-title class_">WebClientOptions</span>().setFollowRedirects(<span class="hljs-literal">false</span>));</code></pre>
</div>
</div>
<div class="paragraph">
<p>The client will follow at most <code>16</code> requests redirections, it can be changed in the same options:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java"><span class="hljs-type">WebClient</span> <span class="hljs-variable">client</span> <span class="hljs-operator">=</span> WebClient
  .create(vertx, <span class="hljs-keyword">new</span> <span class="hljs-title class_">WebClientOptions</span>().setMaxRedirects(<span class="hljs-number">5</span>));</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
For security reason, client won&#8217;t follow redirects for request with methods different from GET or HEAD
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_using_https"><a class="anchor" href="#_using_https"></a>Using HTTPS</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Vert.x Web Client can be configured to use HTTPS in exactly the same way as the Vert.x <code><a href="../../apidocs/io/vertx/core/http/HttpClient.html">HttpClient</a></code>.</p>
</div>
<div class="paragraph">
<p>You can specify the behavior per request</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">client
  .get(<span class="hljs-number">443</span>, <span class="hljs-string">&quot;myserver.mycompany.com&quot;</span>, <span class="hljs-string">&quot;/some-uri&quot;</span>)
  .ssl(<span class="hljs-literal">true</span>)
  .send()
  .onSuccess(res -&gt;
    System.out.println(<span class="hljs-string">&quot;Received response with status code&quot;</span> + res.statusCode()))
  .onFailure(err -&gt;
    System.out.println(<span class="hljs-string">&quot;Something went wrong &quot;</span> + err.getMessage()));</code></pre>
</div>
</div>
<div class="paragraph">
<p>Or using create methods with absolute URI argument</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">client
  .getAbs(<span class="hljs-string">&quot;https://myserver.mycompany.com:4043/some-uri&quot;</span>)
  .send()
  .onSuccess(res -&gt;
    System.out.println(<span class="hljs-string">&quot;Received response with status code&quot;</span> + res.statusCode()))
  .onFailure(err -&gt;
    System.out.println(<span class="hljs-string">&quot;Something went wrong &quot;</span> + err.getMessage()));</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_sessions_management"><a class="anchor" href="#_sessions_management"></a>Sessions management</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Vert.x web offers a web session management facility; to use it, you create a
<code><a href="../../apidocs/io/vertx/ext/web/client/WebClientSession.html">WebClientSession</a></code> for every user (session) and use it instead of the
<code><a href="../../apidocs/io/vertx/ext/web/client/WebClient.html">WebClient</a></code>.</p>
</div>
<div class="sect2">
<h3 id="_creating_a_websession"><a class="anchor" href="#_creating_a_websession"></a>Creating a WebSession</h3>
<div class="paragraph">
<p>You create a <code><a href="../../apidocs/io/vertx/ext/web/client/WebClientSession.html">WebClientSession</a></code> instance as follows</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java"><span class="hljs-type">WebClient</span> <span class="hljs-variable">client</span> <span class="hljs-operator">=</span> WebClient.create(vertx);
<span class="hljs-type">WebClientSession</span> <span class="hljs-variable">session</span> <span class="hljs-operator">=</span> WebClientSession.create(client);</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_making_requests_2"><a class="anchor" href="#_making_requests_2"></a>Making requests</h3>
<div class="paragraph">
<p>Once created, a <code><a href="../../apidocs/io/vertx/ext/web/client/WebClientSession.html">WebClientSession</a></code> can be used instead of a
<code><a href="../../apidocs/io/vertx/ext/web/client/WebClient.html">WebClient</a></code> to do HTTP(s) requests and automatically manage any cookies received from the server(s)
you are calling.</p>
</div>
</div>
<div class="sect2">
<h3 id="_setting_session_level_headers"><a class="anchor" href="#_setting_session_level_headers"></a>Setting session level headers</h3>
<div class="paragraph">
<p>You can set any session level headers to be added to every request as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java"><span class="hljs-type">WebClientSession</span> <span class="hljs-variable">session</span> <span class="hljs-operator">=</span> WebClientSession.create(client);
session.addHeader(<span class="hljs-string">&quot;my-jwt-token&quot;</span>, jwtToken);</code></pre>
</div>
</div>
<div class="paragraph">
<p>The headers will then be added to every request; notice that these headers will be sent to all hosts; if you need
to send different headers to different hosts, you have to add them manually to every single request and not to the
<code><a href="../../apidocs/io/vertx/ext/web/client/WebClientSession.html">WebClientSession</a></code>.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_rxjava_3_api"><a class="anchor" href="#_rxjava_3_api"></a>RxJava 3 API</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The RxJava <code><a href="../../apidocs/io/vertx/rxjava3/ext/web/client/HttpRequest.html">HttpRequest</a></code> provides an rx-ified version of the original API,
the <code><a href="../../apidocs/io/vertx/rxjava3/ext/web/client/HttpRequest.html#rxSend--">rxSend</a></code> method returns a <code>Single&lt;HttpResponse&lt;Buffer&gt;&gt;</code> that
makes the HTTP request upon subscription, as consequence, the <code>Single</code> can be subscribed many times.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">Single&lt;HttpResponse&lt;Buffer&gt;&gt; single = client
  .get(<span class="hljs-number">8080</span>, <span class="hljs-string">&quot;myserver.mycompany.com&quot;</span>, <span class="hljs-string">&quot;/some-uri&quot;</span>)
  .rxSend();

<span class="hljs-comment">// Send a request upon subscription of the Single</span>
single.subscribe(response -&gt; System.out.println(<span class="hljs-string">&quot;Received 1st response with status code&quot;</span> + response.statusCode()), error -&gt; System.out.println(<span class="hljs-string">&quot;Something went wrong &quot;</span> + error.getMessage()));

<span class="hljs-comment">// Send another request</span>
single.subscribe(response -&gt; System.out.println(<span class="hljs-string">&quot;Received 2nd response with status code&quot;</span> + response.statusCode()), error -&gt; System.out.println(<span class="hljs-string">&quot;Something went wrong &quot;</span> + error.getMessage()));</code></pre>
</div>
</div>
<div class="paragraph">
<p>The obtained <code>Single</code> can be composed and chained naturally with the RxJava API</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">Single&lt;String&gt; url = client
  .get(<span class="hljs-number">8080</span>, <span class="hljs-string">&quot;myserver.mycompany.com&quot;</span>, <span class="hljs-string">&quot;/some-uri&quot;</span>)
  .rxSend()
  .map(HttpResponse::bodyAsString);

<span class="hljs-comment">// Use the flatMap operator to make a request on the URL Single</span>
url
  .flatMap(u -&gt; client.getAbs(u).rxSend())
  .subscribe(response -&gt; System.out.println(<span class="hljs-string">&quot;Received response with status code&quot;</span> + response.statusCode()), error -&gt; System.out.println(<span class="hljs-string">&quot;Something went wrong &quot;</span> + error.getMessage()));</code></pre>
</div>
</div>
<div class="paragraph">
<p>The same APIs is available</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">Single&lt;HttpResponse&lt;JsonObject&gt;&gt; single = client
  .get(<span class="hljs-number">8080</span>, <span class="hljs-string">&quot;myserver.mycompany.com&quot;</span>, <span class="hljs-string">&quot;/some-uri&quot;</span>)
  .putHeader(<span class="hljs-string">&quot;some-header&quot;</span>, <span class="hljs-string">&quot;header-value&quot;</span>)
  .addQueryParam(<span class="hljs-string">&quot;some-param&quot;</span>, <span class="hljs-string">&quot;param value&quot;</span>)
  .as(BodyCodec.jsonObject())
  .rxSend();
single.subscribe(resp -&gt; {
  System.out.println(resp.statusCode());
  System.out.println(resp.body());
});</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code><a href="../../apidocs/io/vertx/rxjava3/ext/web/client/HttpRequest.html#rxSendStream-io.reactivex.rxjava3.core.Flowable-">rxSendStream</a></code> shall
be preferred for sending bodies <code>Flowable&lt;Buffer&gt;</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">Flowable&lt;Buffer&gt; body = getPayload();

Single&lt;HttpResponse&lt;Buffer&gt;&gt; single = client
  .post(<span class="hljs-number">8080</span>, <span class="hljs-string">&quot;myserver.mycompany.com&quot;</span>, <span class="hljs-string">&quot;/some-uri&quot;</span>)
  .rxSendStream(body);
single.subscribe(resp -&gt; {
  System.out.println(resp.statusCode());
  System.out.println(resp.body());
});</code></pre>
</div>
</div>
<div class="paragraph">
<p>Upon subscription, the <code>body</code> will be subscribed and its content used for the request.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_domain_sockets"><a class="anchor" href="#_domain_sockets"></a>Domain sockets</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Since 3.7.1 the Web Client supports domain sockets, e.g you can interact with the <a href="https://docs.docker.com/engine/reference/commandline/dockerd/">local Docker daemon</a>.</p>
</div>
<div class="paragraph">
<p>To achieve this, the <code><a href="../../apidocs/io/vertx/core/Vertx.html">Vertx</a></code> instance must be created using a native transport, you can read
the Vert.x core documentation that explains it clearly.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java"><span class="hljs-type">SocketAddress</span> <span class="hljs-variable">serverAddress</span> <span class="hljs-operator">=</span> SocketAddress
  .domainSocketAddress(<span class="hljs-string">&quot;/var/run/docker.sock&quot;</span>);

<span class="hljs-comment">// We still need to specify host and port so the request</span>
<span class="hljs-comment">// HTTP header will be localhost:8080</span>
<span class="hljs-comment">// otherwise it will be a malformed HTTP request</span>
<span class="hljs-comment">// the actual value does not matter much for this example</span>
client
  .request(
    HttpMethod.GET,
    serverAddress,
    <span class="hljs-number">8080</span>,
    <span class="hljs-string">&quot;localhost&quot;</span>,
    <span class="hljs-string">&quot;/images/json&quot;</span>)
  .expect(ResponsePredicate.SC_ACCEPTED)
  .as(BodyCodec.jsonObject())
  .send()
  .onSuccess(res -&gt;
    System.out.println(<span class="hljs-string">&quot;Current Docker images&quot;</span> + res.body()))
  .onFailure(err -&gt;
    System.out.println(<span class="hljs-string">&quot;Something went wrong &quot;</span> + err.getMessage()));</code></pre>
</div>
</div>
</div>
</div></div></div></div></div></div><footer class="jsx-3acb63b44722e9f1"><div class="jsx-3acb63b44722e9f1 container"><div class="jsx-3acb63b44722e9f1 footer-nav-section"><div class="jsx-3acb63b44722e9f1 footer-nav-list footer-logo"><a class="jsx-3acb63b44722e9f1" href="/"><img src="data:image/svg+xml,%3csvg version=&#x27;1.1&#x27; id=&#x27;Layer_1&#x27; xmlns=&#x27;http://www.w3.org/2000/svg&#x27; x=&#x27;0&#x27; y=&#x27;0&#x27; viewBox=&#x27;0 0 1232.6 315.2&#x27; style=&#x27;enable-background:new 0 0 1232.6 315.2&#x27; xml:space=&#x27;preserve&#x27;%3e%3cstyle%3e.st0%7bfill:%23782a91%7d%3c/style%3e%3cpath d=&#x27;M120.9 214.2 190.5 0h52.3l-98.5 273.8H98.2L0 0h52.1l68.8 214.2zm291.2-62.6H299.6v84.2H431v38H252V0h177.7v38.4H299.6V114h112.5v37.6zm83.7-113.2H546c16.5.3 29 4.4 37.3 12.4 8.3 8 12.5 19.4 12.5 34 0 14-4.5 25.1-13.5 33.2-9 8.1-21.6 12.1-37.6 12.1h-27.1v24.2l86.1 119.5h51v-2.4l-77.2-106.7c24.9-5.5 43.3-21.7 52.6-35.9 8.2-12.6 13.3-27.7 13.3-46 0-26.8-8.6-47.4-25.8-61.5C600.5 7.1 576.1 0 544.5 0h-96.3v273.8h47.6&#x27;/%3e%3cpath class=&#x27;st0&#x27; d=&#x27;m1052.3 157.7-41.5 62.7 29.7 53.4h85.1z&#x27;/%3e%3ccircle class=&#x27;st0&#x27; cx=&#x27;827.9&#x27; cy=&#x27;274.7&#x27; r=&#x27;40.5&#x27;/%3e%3cpath class=&#x27;st0&#x27; d=&#x27;m1037 0-47.6 74.2L949 0h-84l85.3 135.8-67.1 105.7c5.7 9.5 9.1 20.5 9.2 32.4h50.1L1121.3 0H1037z&#x27;/%3e%3cpath d=&#x27;M763.5 273.8c.1-9.9 2.5-19.2 6.6-27.5V38.4h85.4V0H638.2v38.4h84.6v235.4h40.7zm414-266.9h-15.3v42.2h-8.5V6.9h-15.2V0h39v6.9zM1193 0l14.2 37.7L1221.3 0h11v49.1h-8.5V32.9l.8-21.7-14.5 37.9h-6.1l-14.5-37.8.8 21.6v16.2h-8.5V0h11.2z&#x27;/%3e%3c/svg%3e" alt="Vert.x Logo" class="jsx-3acb63b44722e9f1"/></a></div><div class="jsx-3acb63b44722e9f1 footer-nav-list"><h5 class="jsx-3acb63b44722e9f1">Eclipse Vert.x</h5><ul class="jsx-3acb63b44722e9f1 "><li class="jsx-3acb63b44722e9f1"><a class="jsx-3acb63b44722e9f1 navbar-menu-item" href="/docs/">Docs</a></li><li class="jsx-3acb63b44722e9f1"><a class="jsx-3acb63b44722e9f1" href="/download/">Download</a></li><li class="jsx-3acb63b44722e9f1"><a class="jsx-3acb63b44722e9f1" href="/blog/">Blog</a></li><li class="jsx-3acb63b44722e9f1"><a class="jsx-3acb63b44722e9f1" href="/community/">Community</a></li><li class="jsx-3acb63b44722e9f1"><a href="https://github.com/eclipse-vertx/vert.x" class="jsx-3acb63b44722e9f1">GitHub</a></li></ul></div><div class="jsx-3acb63b44722e9f1 footer-nav-list"><h5 class="jsx-3acb63b44722e9f1">Resources</h5><ul class="jsx-3acb63b44722e9f1 "><li class="jsx-3acb63b44722e9f1"><a class="jsx-3acb63b44722e9f1" href="/faq/">FAQ</a></li><li class="jsx-3acb63b44722e9f1"><a class="jsx-3acb63b44722e9f1" href="/channels/">Channels</a></li><li class="jsx-3acb63b44722e9f1"><a href="https://how-to.vertx.io/" class="jsx-3acb63b44722e9f1">How-To’s</a></li><li class="jsx-3acb63b44722e9f1"><a href="https://start.vertx.io/" class="jsx-3acb63b44722e9f1">App Generator</a></li><li class="jsx-3acb63b44722e9f1"><a href="/.well-known/security.txt" class="jsx-3acb63b44722e9f1">security.txt</a></li></ul></div><div class="jsx-3acb63b44722e9f1 footer-nav-list"><h5 class="jsx-3acb63b44722e9f1">Eclipse</h5><ul class="jsx-3acb63b44722e9f1 "><li class="jsx-3acb63b44722e9f1"><a href="https://www.eclipse.org/" class="jsx-3acb63b44722e9f1">Eclipse Foundation</a></li><li class="jsx-3acb63b44722e9f1"><a href="https://www.eclipse.org/legal/privacy.php" class="jsx-3acb63b44722e9f1">Privacy Policy</a></li><li class="jsx-3acb63b44722e9f1"><a href="https://www.eclipse.org/legal/termsofuse.php" class="jsx-3acb63b44722e9f1">Terms of Use</a></li><li class="jsx-3acb63b44722e9f1"><a href="https://www.eclipse.org/legal/copyright.php" class="jsx-3acb63b44722e9f1">Copyright Agent</a></li><li class="jsx-3acb63b44722e9f1"><a href="https://www.eclipse.org/legal/" class="jsx-3acb63b44722e9f1">Legal Resources</a></li></ul></div></div><div class="jsx-3acb63b44722e9f1 footer-copyright"><div class="jsx-3acb63b44722e9f1 footer-copyright-remarks">© <!-- -->2022<!-- --> Eclipse Vert.x™<!-- --><br class="jsx-3acb63b44722e9f1"/>Eclipse Vert.x™ is open source and dual-licensed under the <!-- --><a href="https://creativecommons.org/licenses/by-sa/3.0/" target="_blank" rel="noopener noreferrer" class="jsx-3acb63b44722e9f1">Eclipse Public License 2.0</a> and the <!-- --><a href="https://www.apache.org/licenses/LICENSE-2.0.html" target="_blank" rel="noopener noreferrer" class="jsx-3acb63b44722e9f1">Apache License 2.0</a>. <!-- --><br class="jsx-3acb63b44722e9f1 footer-copyright-break"/>Website design by <!-- --><a href="https://michelkraemer.com" target="_blank" rel="noopener noreferrer" class="jsx-3acb63b44722e9f1">Michel Krämer</a>.<!-- --></div><div class="jsx-3acb63b44722e9f1 footer-copyright-eclipse-logo"><a href="https://www.eclipse.org/" target="_blank" rel="noopener noreferrer" class="jsx-3acb63b44722e9f1"><img src="data:image/svg+xml,%3csvg version=&#x27;1.1&#x27; id=&#x27;Layer_1&#x27; xmlns=&#x27;http://www.w3.org/2000/svg&#x27; x=&#x27;0&#x27; y=&#x27;0&#x27; viewBox=&#x27;0 0 281.3 91.1&#x27; style=&#x27;enable-background:new 0 0 281.3 91.1&#x27; xml:space=&#x27;preserve&#x27;%3e%3cstyle%3e.st0%7bfill:%23f79422%7d.st1%7bfill:%233d3c3b%7d%3c/style%3e%3cg id=&#x27;Layer_1_1_&#x27;%3e%3cpath class=&#x27;st0&#x27; d=&#x27;M265.7 84 257 73h-2.7v17.7h3.3v-12l9.3 12h2.1V73h-3.3v11zm-32.4-8.3c4.2 0 5.8 3.3 5.8 6.3s-1.6 6-5.8 6-5.7-3.1-5.8-6 1.7-6.3 5.8-6.3zm0-3c-6.1 0-9.1 4.7-9.1 9.3 0 4.7 2.9 9.1 9.1 9.1s9-4.6 9.1-9.2-3-9.2-9.1-9.2zm-21.2 18V73h-3.3v17.7h3.3zm-23.6 0h3.3V76h5.6v-3h-14.6v3h5.6l.1 14.7zm-18.9-6.5H163l3.3-7.6 3.3 7.6zm2.8 6.5h3.6L168.2 73h-3.6l-8 17.7h3.6l1.5-3.3h9.3l1.4 3.3zm-38-14.6h3.6c3.9 0 5.5 2.8 5.5 5.5.1 2.8-1.5 5.8-5.5 5.8h-3.6V76.1zm3.7-3.1h-6.9v17.7h6.9c6.2 0 8.9-4.5 8.9-9s-2.8-8.7-8.9-8.7zm-22.4 11L107 73h-2.7v17.7h3.3v-12l9.3 12h2.1V73h-3.3v11zM88.2 73v10.2c0 3-1.6 4.9-4.3 4.9s-4.6-1.7-4.6-4.9V73H76v10.1c0 5.3 3.6 7.9 7.9 7.9 4.4 0 7.7-2.7 7.7-7.9V73h-3.4zm-33 2.7c4.2 0 5.8 3.3 5.8 6.3s-1.6 6-5.8 6-5.7-3.1-5.8-6 1.7-6.3 5.8-6.3zm0-3c-6.1 0-9.1 4.7-9.1 9.3s2.9 9.1 9.1 9.1 9-4.6 9.1-9.2-3-9.2-9.1-9.2zm-29.7 18v-6.5h8.9v-3.1h-8.9v-4.8h9.4V73H22.2v17.6h3.3z&#x27;/%3e%3cpath class=&#x27;st1&#x27; d=&#x27;M269.4 54.4h-22.2v-8.9h21.4v-6.9h-21.4v-9.1h22.2v-7.2h-29.6v39.5h29.6v-7.4zm-40-25.6c-3-6.1-9.4-7.8-15.5-7.8-7.3 0-15.3 3.4-15.3 11.5 0 8.9 7.4 11 15.5 12 5.2.6 9.1 2.1 9.1 5.8 0 4.3-4.4 5.9-9.1 5.9s-9.4-1.9-11.1-6.3l-6.2 3.2c2.9 7.2 9.1 9.7 17.2 9.7 8.8 0 16.6-3.8 16.6-12.6 0-9.4-7.7-11.6-15.9-12.6-4.7-.6-8.8-1.5-8.8-5 0-2.9 2.6-5.2 8.2-5.2 4.3 0 8 2.2 9.4 4.4l5.9-3zM176 22.2c-6.2-.1-12.4 0-18.6 0v39.5h7.4V50.1H176c19.4 0 19.4-27.9 0-27.9zm-11.1 7.1H176c9.5 0 9.5 14 0 14h-11.2l.1-14zm-18 32.5V22.2h-7.4v39.5l7.4.1zm-44-39.6v39.5h27.7v-6.9h-20.3V22.2h-7.4zM90.7 51.7c-2.7 2.5-6.2 4-9.9 4-9.8 0-13.5-6.8-13.6-13.4s4.1-13.7 13.6-13.7c3.5-.1 7 1.3 9.5 3.7l5-4.8c-3.8-3.9-9.1-6-14.5-6-14.3 0-21 10.5-20.9 20.8s6.3 20.3 20.9 20.3c5.6.1 11-2 15-5.9l-5.1-5zm-39 2.7H29.5v-8.9h21.4v-6.9H29.5v-9.1h22.2v-7.2H22.2v39.5h29.6l-.1-7.4z&#x27;/%3e%3cpath class=&#x27;st0&#x27; d=&#x27;M9.8 18.2C18.8 4.1 36.9-.8 52.1 6l-1-.7C35.7-4.6 15.2-.1 5.3 15.3s-5.4 35.9 10 45.8l1.1.6C3.8 50.8.8 32.3 9.8 18.2z&#x27;/%3e%3cpath class=&#x27;st1&#x27; d=&#x27;M272.2 26.1c0-2.5 2.1-4.6 4.6-4.6 2.5 0 4.6 2.1 4.6 4.6 0 2.5-2.1 4.6-4.6 4.6-2.6 0-4.6-2.1-4.6-4.6zm8.6 0c0-2.2-1.8-4.1-4-4.1s-4.1 1.8-4.1 4.1c0 2.2 1.7 4 3.9 4.1h.1c2.3 0 4.1-1.8 4.1-4.1zm-6-2.5h2.3c1.1 0 1.9.5 1.9 1.6 0 .7-.4 1.3-1.1 1.5l1.2 1.7h-1.4l-1-1.5h-.7v1.5h-1.1l-.1-4.8zm2.2 2.3c.5 0 .8-.3.8-.7s-.3-.7-.8-.7h-1v1.3l1 .1z&#x27;/%3e%3c/g%3e%3c/svg%3e" alt="Eclipse foundation Logo" class="jsx-3acb63b44722e9f1"/></a></div></div></div></footer></main></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"slug":"4.1.3/vertx-web-client/java","title":"Vert.x Web Client","fallbackGitHubStars":958,"toc":"\u003cdiv id=\"toc\" class=\"toc\"\u003e\n\u003cdiv id=\"toctitle\"\u003eTable of Contents\u003c/div\u003e\n\u003cul class=\"sectlevel1\"\u003e\n\u003cli\u003e\u003ca href=\"#_using_the_web_client\"\u003eUsing the Web Client\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#_re_cap_on_vert_x_core_http_client\"\u003eRe-cap on Vert.x core HTTP client\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#_creating_a_web_client\"\u003eCreating a Web Client\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#_making_requests\"\u003eMaking requests\u003c/a\u003e\n\u003cul class=\"sectlevel2\"\u003e\n\u003cli\u003e\u003ca href=\"#_simple_requests_with_no_body\"\u003eSimple requests with no body\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#_writing_request_bodies\"\u003eWriting request bodies\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#_writing_request_headers\"\u003eWriting request headers\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#_configure_the_request_to_add_authentication\"\u003eConfigure the request to add authentication.\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#_reusing_requests\"\u003eReusing requests\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#_timeouts\"\u003eTimeouts\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#_handling_http_responses\"\u003eHandling http responses\u003c/a\u003e\n\u003cul class=\"sectlevel2\"\u003e\n\u003cli\u003e\u003ca href=\"#_decoding_responses\"\u003eDecoding responses\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#response-predicates\"\u003eResponse predicates\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#_handling_30x_redirections\"\u003eHandling 30x redirections\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#_using_https\"\u003eUsing HTTPS\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#_sessions_management\"\u003eSessions management\u003c/a\u003e\n\u003cul class=\"sectlevel2\"\u003e\n\u003cli\u003e\u003ca href=\"#_creating_a_websession\"\u003eCreating a WebSession\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#_making_requests_2\"\u003eMaking requests\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#_setting_session_level_headers\"\u003eSetting session level headers\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#_rxjava_3_api\"\u003eRxJava 3 API\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#_domain_sockets\"\u003eDomain sockets\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/div\u003e","contents":"\u003ch1\u003eVert.x Web Client\u003c/h1\u003e\n\n\u003cdiv id=\"preamble\"\u003e\n\u003cdiv class=\"sectionbody\"\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eVert.x Web Client is an asynchronous HTTP and HTTP/2 client.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eThe Web Client makes easy to do HTTP request/response interactions with a web server, and provides advanced\nfeatures like:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"ulist\"\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003eJson body encoding / decoding\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003erequest/response pumping\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003erequest parameters\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eunified error handling\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eform submissions\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eThe Web Client does not deprecate the Vert.x Core \u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/core/http/HttpClient.html\"\u003eHttpClient\u003c/a\u003e\u003c/code\u003e, indeed it is based on\nthis client and inherits its configuration and great features like pooling, HTTP/2 support, pipelining support, etc\u0026#8230;\u0026#8203;\nThe \u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/core/http/HttpClient.html\"\u003eHttpClient\u003c/a\u003e\u003c/code\u003e should be used when fine grained control over the HTTP\nrequests/responses is necessary.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eThe Web Client does not provide a WebSocket API, the Vert.x Core \u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/core/http/HttpClient.html\"\u003eHttpClient\u003c/a\u003e\u003c/code\u003e should\nbe used. It also does not handle cookies at the moment.\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect1\"\u003e\n\u003ch2 id=\"_using_the_web_client\"\u003e\u003ca class=\"anchor\" href=\"#_using_the_web_client\"\u003e\u003c/a\u003eUsing the Web Client\u003c/h2\u003e\n\u003cdiv class=\"sectionbody\"\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eTo use Vert.x Web Client, add the following dependency to the \u003cem\u003edependencies\u003c/em\u003e section of your build descriptor:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"ulist\"\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003eMaven (in your \u003ccode\u003epom.xml\u003c/code\u003e):\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-xml\" data-lang=\"xml\"\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003edependency\u003c/span\u003e\u0026gt;\u003c/span\u003e\n \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003egroupId\u003c/span\u003e\u0026gt;\u003c/span\u003eio.vertx\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003egroupId\u003c/span\u003e\u0026gt;\u003c/span\u003e\n \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eartifactId\u003c/span\u003e\u0026gt;\u003c/span\u003evertx-web-client\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003eartifactId\u003c/span\u003e\u0026gt;\u003c/span\u003e\n \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eversion\u003c/span\u003e\u0026gt;\u003c/span\u003e4.1.3\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003eversion\u003c/span\u003e\u0026gt;\u003c/span\u003e\n\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003edependency\u003c/span\u003e\u0026gt;\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"ulist\"\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003eGradle (in your \u003ccode\u003ebuild.gradle\u003c/code\u003e file):\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-groovy\" data-lang=\"groovy\"\u003edependencies {\n compile \u003cspan class=\"hljs-string\"\u003e\u0026#x27;io.vertx:vertx-web-client:4.1.3\u0026#x27;\u003c/span\u003e\n}\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect1\"\u003e\n\u003ch2 id=\"_re_cap_on_vert_x_core_http_client\"\u003e\u003ca class=\"anchor\" href=\"#_re_cap_on_vert_x_core_http_client\"\u003e\u003c/a\u003eRe-cap on Vert.x core HTTP client\u003c/h2\u003e\n\u003cdiv class=\"sectionbody\"\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eVert.x Web Client uses the API from Vert.x core, so it\u0026#8217;s well worth getting familiar with the basic concepts of using\n\u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/core/http/HttpClient.html\"\u003eHttpClient\u003c/a\u003e\u003c/code\u003e using Vert.x core, if you\u0026#8217;re not already.\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect1\"\u003e\n\u003ch2 id=\"_creating_a_web_client\"\u003e\u003ca class=\"anchor\" href=\"#_creating_a_web_client\"\u003e\u003c/a\u003eCreating a Web Client\u003c/h2\u003e\n\u003cdiv class=\"sectionbody\"\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eYou create an \u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/ext/web/client/WebClient.html\"\u003eWebClient\u003c/a\u003e\u003c/code\u003e instance with default options as follows\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003e\u003cspan class=\"hljs-type\"\u003eWebClient\u003c/span\u003e \u003cspan class=\"hljs-variable\"\u003eclient\u003c/span\u003e \u003cspan class=\"hljs-operator\"\u003e=\u003c/span\u003e WebClient.create(vertx);\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eIf you want to configure options for the client, you create it as follows\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003e\u003cspan class=\"hljs-type\"\u003eWebClientOptions\u003c/span\u003e \u003cspan class=\"hljs-variable\"\u003eoptions\u003c/span\u003e \u003cspan class=\"hljs-operator\"\u003e=\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eWebClientOptions\u003c/span\u003e()\n  .setUserAgent(\u003cspan class=\"hljs-string\"\u003e\u0026quot;My-App/1.2.3\u0026quot;\u003c/span\u003e);\noptions.setKeepAlive(\u003cspan class=\"hljs-literal\"\u003efalse\u003c/span\u003e);\n\u003cspan class=\"hljs-type\"\u003eWebClient\u003c/span\u003e \u003cspan class=\"hljs-variable\"\u003eclient\u003c/span\u003e \u003cspan class=\"hljs-operator\"\u003e=\u003c/span\u003e WebClient.create(vertx, options);\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eWeb Client options inherit Http Client options so you can set any one of them.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eIf your already have an HTTP Client in your application you can also reuse it\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003e\u003cspan class=\"hljs-type\"\u003eWebClient\u003c/span\u003e \u003cspan class=\"hljs-variable\"\u003eclient\u003c/span\u003e \u003cspan class=\"hljs-operator\"\u003e=\u003c/span\u003e WebClient.wrap(httpClient);\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"admonitionblock important\"\u003e\n\u003ctable\u003e\n\u003ctr\u003e\n\u003ctd class=\"icon\"\u003e\n\u003cdiv class=\"title\"\u003eImportant\u003c/div\u003e\n\u003c/td\u003e\n\u003ctd class=\"content\"\u003e\nIn most cases, a Web Client should be created once on application startup and then reused.\nOtherwise you lose a lot of benefits such as connection pooling and may leak resources if instances are not closed properly.\n\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/table\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect1\"\u003e\n\u003ch2 id=\"_making_requests\"\u003e\u003ca class=\"anchor\" href=\"#_making_requests\"\u003e\u003c/a\u003eMaking requests\u003c/h2\u003e\n\u003cdiv class=\"sectionbody\"\u003e\n\u003cdiv class=\"sect2\"\u003e\n\u003ch3 id=\"_simple_requests_with_no_body\"\u003e\u003ca class=\"anchor\" href=\"#_simple_requests_with_no_body\"\u003e\u003c/a\u003eSimple requests with no body\u003c/h3\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eOften, you’ll want to make HTTP requests with no request body. This is usually the case with HTTP GET, OPTIONS\nand HEAD requests\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003e\u003cspan class=\"hljs-type\"\u003eWebClient\u003c/span\u003e \u003cspan class=\"hljs-variable\"\u003eclient\u003c/span\u003e \u003cspan class=\"hljs-operator\"\u003e=\u003c/span\u003e WebClient.create(vertx);\n\n\u003cspan class=\"hljs-comment\"\u003e// Send a GET request\u003c/span\u003e\nclient\n  .get(\u003cspan class=\"hljs-number\"\u003e8080\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;myserver.mycompany.com\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;/some-uri\u0026quot;\u003c/span\u003e)\n  .send()\n  .onSuccess(response -\u0026gt; System.out\n    .println(\u003cspan class=\"hljs-string\"\u003e\u0026quot;Received response with status code\u0026quot;\u003c/span\u003e + response.statusCode()))\n  .onFailure(err -\u0026gt;\n    System.out.println(\u003cspan class=\"hljs-string\"\u003e\u0026quot;Something went wrong \u0026quot;\u003c/span\u003e + err.getMessage()));\n\n\u003cspan class=\"hljs-comment\"\u003e// Send a HEAD request\u003c/span\u003e\nclient\n  .head(\u003cspan class=\"hljs-number\"\u003e8080\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;myserver.mycompany.com\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;/some-uri\u0026quot;\u003c/span\u003e)\n  .send()\n  .onSuccess(response -\u0026gt; System.out\n    .println(\u003cspan class=\"hljs-string\"\u003e\u0026quot;Received response with status code\u0026quot;\u003c/span\u003e + response.statusCode()))\n  .onFailure(err -\u0026gt;\n    System.out.println(\u003cspan class=\"hljs-string\"\u003e\u0026quot;Something went wrong \u0026quot;\u003c/span\u003e + err.getMessage()));\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eYou can add query parameters to the request URI in a fluent fashion\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003eclient\n  .get(\u003cspan class=\"hljs-number\"\u003e8080\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;myserver.mycompany.com\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;/some-uri\u0026quot;\u003c/span\u003e)\n  .addQueryParam(\u003cspan class=\"hljs-string\"\u003e\u0026quot;param\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;param_value\u0026quot;\u003c/span\u003e)\n  .send()\n  .onSuccess(response -\u0026gt; System.out\n    .println(\u003cspan class=\"hljs-string\"\u003e\u0026quot;Received response with status code\u0026quot;\u003c/span\u003e + response.statusCode()))\n  .onFailure(err -\u0026gt;\n    System.out.println(\u003cspan class=\"hljs-string\"\u003e\u0026quot;Something went wrong \u0026quot;\u003c/span\u003e + err.getMessage()));\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eAny request URI parameter will pre-populate the request\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003eHttpRequest\u0026lt;Buffer\u0026gt; request = client\n  .get(\n    \u003cspan class=\"hljs-number\"\u003e8080\u003c/span\u003e,\n    \u003cspan class=\"hljs-string\"\u003e\u0026quot;myserver.mycompany.com\u0026quot;\u003c/span\u003e,\n    \u003cspan class=\"hljs-string\"\u003e\u0026quot;/some-uri?param1=param1_value\u0026amp;param2=param2_value\u0026quot;\u003c/span\u003e);\n\n\u003cspan class=\"hljs-comment\"\u003e// Add param3\u003c/span\u003e\nrequest.addQueryParam(\u003cspan class=\"hljs-string\"\u003e\u0026quot;param3\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;param3_value\u0026quot;\u003c/span\u003e);\n\n\u003cspan class=\"hljs-comment\"\u003e// Overwrite param2\u003c/span\u003e\nrequest.setQueryParam(\u003cspan class=\"hljs-string\"\u003e\u0026quot;param2\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;another_param2_value\u0026quot;\u003c/span\u003e);\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eSetting a request URI discards existing query parameters\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003eHttpRequest\u0026lt;Buffer\u0026gt; request = client\n  .get(\u003cspan class=\"hljs-number\"\u003e8080\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;myserver.mycompany.com\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;/some-uri\u0026quot;\u003c/span\u003e);\n\n\u003cspan class=\"hljs-comment\"\u003e// Add param1\u003c/span\u003e\nrequest.addQueryParam(\u003cspan class=\"hljs-string\"\u003e\u0026quot;param1\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;param1_value\u0026quot;\u003c/span\u003e);\n\n\u003cspan class=\"hljs-comment\"\u003e// Overwrite param1 and add param2\u003c/span\u003e\nrequest.uri(\u003cspan class=\"hljs-string\"\u003e\u0026quot;/some-uri?param1=param1_value\u0026amp;param2=param2_value\u0026quot;\u003c/span\u003e);\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect2\"\u003e\n\u003ch3 id=\"_writing_request_bodies\"\u003e\u003ca class=\"anchor\" href=\"#_writing_request_bodies\"\u003e\u003c/a\u003eWriting request bodies\u003c/h3\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eWhen you need to make a request with a body, you use the same API and call then \u003ccode\u003esendXXX\u003c/code\u003e methods\nthat expects a body to send.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eUse \u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/ext/web/client/HttpRequest.html#sendBuffer-io.vertx.core.buffer.Buffer-io.vertx.core.Handler-\"\u003esendBuffer\u003c/a\u003e\u003c/code\u003e to send a buffer body\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003eclient\n  .post(\u003cspan class=\"hljs-number\"\u003e8080\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;myserver.mycompany.com\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;/some-uri\u0026quot;\u003c/span\u003e)\n  .sendBuffer(buffer)\n  .onSuccess(res -\u0026gt; {\n    \u003cspan class=\"hljs-comment\"\u003e// OK\u003c/span\u003e\n  });\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eSending a single buffer is useful but often you don\u0026#8217;t want to load fully the content in memory because\nit may be too large or you want to handle many concurrent requests and want to use just the minimum\nfor each request. For this purpose the Web Client can send \u003ccode\u003eReadStream\u0026lt;Buffer\u0026gt;\u003c/code\u003e (e.g a\n\u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/core/file/AsyncFile.html\"\u003eAsyncFile\u003c/a\u003e\u003c/code\u003e is a ReadStream\u0026lt;Buffer\u0026gt;`) with the \u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/ext/web/client/HttpRequest.html#sendStream-io.vertx.core.streams.ReadStream-io.vertx.core.Handler-\"\u003esendStream\u003c/a\u003e\u003c/code\u003e method\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003eclient\n  .post(\u003cspan class=\"hljs-number\"\u003e8080\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;myserver.mycompany.com\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;/some-uri\u0026quot;\u003c/span\u003e)\n  .sendStream(stream)\n  .onSuccess(res -\u0026gt; {\n    \u003cspan class=\"hljs-comment\"\u003e// OK\u003c/span\u003e\n  });\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eThe Web Client takes care of setting up the transfer pump for you. Since the length of the stream is not know\nthe request will use chunked transfer encoding .\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eWhen you know the size of the stream, you shall specify before using the \u003ccode\u003econtent-length\u003c/code\u003e header\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003efs.open(\u003cspan class=\"hljs-string\"\u003e\u0026quot;content.txt\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eOpenOptions\u003c/span\u003e(), fileRes -\u0026gt; {\n  \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (fileRes.succeeded()) {\n    ReadStream\u0026lt;Buffer\u0026gt; fileStream = fileRes.result();\n\n    \u003cspan class=\"hljs-type\"\u003eString\u003c/span\u003e \u003cspan class=\"hljs-variable\"\u003efileLen\u003c/span\u003e \u003cspan class=\"hljs-operator\"\u003e=\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\u0026quot;1024\u0026quot;\u003c/span\u003e;\n\n    \u003cspan class=\"hljs-comment\"\u003e// Send the file to the server using POST\u003c/span\u003e\n    client\n      .post(\u003cspan class=\"hljs-number\"\u003e8080\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;myserver.mycompany.com\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;/some-uri\u0026quot;\u003c/span\u003e)\n      .putHeader(\u003cspan class=\"hljs-string\"\u003e\u0026quot;content-length\u0026quot;\u003c/span\u003e, fileLen)\n      .sendStream(fileStream)\n      .onSuccess(res -\u0026gt; {\n        \u003cspan class=\"hljs-comment\"\u003e// OK\u003c/span\u003e\n      })\n    ;\n  }\n});\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eThe POST will not be chunked.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect3\"\u003e\n\u003ch4 id=\"_json_bodies\"\u003e\u003ca class=\"anchor\" href=\"#_json_bodies\"\u003e\u003c/a\u003eJson bodies\u003c/h4\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eOften you’ll want to send Json body requests, to send a \u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/core/json/JsonObject.html\"\u003eJsonObject\u003c/a\u003e\u003c/code\u003e\nuse the \u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/ext/web/client/HttpRequest.html#sendJsonObject-io.vertx.core.json.JsonObject-io.vertx.core.Handler-\"\u003esendJsonObject\u003c/a\u003e\u003c/code\u003e\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003eclient\n  .post(\u003cspan class=\"hljs-number\"\u003e8080\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;myserver.mycompany.com\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;/some-uri\u0026quot;\u003c/span\u003e)\n  .sendJsonObject(\n    \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eJsonObject\u003c/span\u003e()\n      .put(\u003cspan class=\"hljs-string\"\u003e\u0026quot;firstName\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;Dale\u0026quot;\u003c/span\u003e)\n      .put(\u003cspan class=\"hljs-string\"\u003e\u0026quot;lastName\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;Cooper\u0026quot;\u003c/span\u003e))\n  .onSuccess(res -\u0026gt; {\n    \u003cspan class=\"hljs-comment\"\u003e// OK\u003c/span\u003e\n  });\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eIn Java, Groovy or Kotlin, you can use the \u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/ext/web/client/HttpRequest.html#sendJson-java.lang.Object-io.vertx.core.Handler-\"\u003esendJson\u003c/a\u003e\u003c/code\u003e method that maps\na POJO (Plain Old Java Object) to a Json object using \u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/core/json/Json.html#encode-java.lang.Object-\"\u003eJson.encode\u003c/a\u003e\u003c/code\u003e\nmethod\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003eclient\n  .post(\u003cspan class=\"hljs-number\"\u003e8080\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;myserver.mycompany.com\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;/some-uri\u0026quot;\u003c/span\u003e)\n  .sendJson(\u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eUser\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026quot;Dale\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;Cooper\u0026quot;\u003c/span\u003e))\n  .onSuccess(res -\u0026gt; {\n    \u003cspan class=\"hljs-comment\"\u003e// OK\u003c/span\u003e\n  });\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"admonitionblock note\"\u003e\n\u003ctable\u003e\n\u003ctr\u003e\n\u003ctd class=\"icon\"\u003e\n\u003cdiv class=\"title\"\u003eNote\u003c/div\u003e\n\u003c/td\u003e\n\u003ctd class=\"content\"\u003e\nthe \u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/core/json/Json.html#encode-java.lang.Object-\"\u003eJson.encode\u003c/a\u003e\u003c/code\u003e uses the Jackson mapper to encode the object\nto Json.\n\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/table\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect3\"\u003e\n\u003ch4 id=\"_form_submissions\"\u003e\u003ca class=\"anchor\" href=\"#_form_submissions\"\u003e\u003c/a\u003eForm submissions\u003c/h4\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eYou can send http form submissions bodies with the \u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/ext/web/client/HttpRequest.html#sendForm-io.vertx.core.MultiMap-io.vertx.core.Handler-\"\u003esendForm\u003c/a\u003e\u003c/code\u003e\nvariant.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003e\u003cspan class=\"hljs-type\"\u003eMultiMap\u003c/span\u003e \u003cspan class=\"hljs-variable\"\u003eform\u003c/span\u003e \u003cspan class=\"hljs-operator\"\u003e=\u003c/span\u003e MultiMap.caseInsensitiveMultiMap();\nform.set(\u003cspan class=\"hljs-string\"\u003e\u0026quot;firstName\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;Dale\u0026quot;\u003c/span\u003e);\nform.set(\u003cspan class=\"hljs-string\"\u003e\u0026quot;lastName\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;Cooper\u0026quot;\u003c/span\u003e);\n\n\u003cspan class=\"hljs-comment\"\u003e// Submit the form as a form URL encoded body\u003c/span\u003e\nclient\n  .post(\u003cspan class=\"hljs-number\"\u003e8080\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;myserver.mycompany.com\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;/some-uri\u0026quot;\u003c/span\u003e)\n  .sendForm(form)\n  .onSuccess(res -\u0026gt; {\n    \u003cspan class=\"hljs-comment\"\u003e// OK\u003c/span\u003e\n  });\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eBy default the form is submitted with the \u003ccode\u003eapplication/x-www-form-urlencoded\u003c/code\u003e content type header. You can set\nthe \u003ccode\u003econtent-type\u003c/code\u003e header to \u003ccode\u003emultipart/form-data\u003c/code\u003e instead\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003e\u003cspan class=\"hljs-type\"\u003eMultiMap\u003c/span\u003e \u003cspan class=\"hljs-variable\"\u003eform\u003c/span\u003e \u003cspan class=\"hljs-operator\"\u003e=\u003c/span\u003e MultiMap.caseInsensitiveMultiMap();\nform.set(\u003cspan class=\"hljs-string\"\u003e\u0026quot;firstName\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;Dale\u0026quot;\u003c/span\u003e);\nform.set(\u003cspan class=\"hljs-string\"\u003e\u0026quot;lastName\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;Cooper\u0026quot;\u003c/span\u003e);\n\n\u003cspan class=\"hljs-comment\"\u003e// Submit the form as a multipart form body\u003c/span\u003e\nclient\n  .post(\u003cspan class=\"hljs-number\"\u003e8080\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;myserver.mycompany.com\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;/some-uri\u0026quot;\u003c/span\u003e)\n  .putHeader(\u003cspan class=\"hljs-string\"\u003e\u0026quot;content-type\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;multipart/form-data\u0026quot;\u003c/span\u003e)\n  .sendForm(form)\n  .onSuccess(res -\u0026gt; {\n    \u003cspan class=\"hljs-comment\"\u003e// OK\u003c/span\u003e\n  });\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eIf you want to upload files and send attributes, you can create a \u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/ext/web/multipart/MultipartForm.html\"\u003eMultipartForm\u003c/a\u003e\u003c/code\u003e and\nuse \u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/ext/web/client/HttpRequest.html#sendMultipartForm-io.vertx.ext.web.multipart.MultipartForm-io.vertx.core.Handler-\"\u003esendMultipartForm\u003c/a\u003e\u003c/code\u003e.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003e\u003cspan class=\"hljs-type\"\u003eMultipartForm\u003c/span\u003e \u003cspan class=\"hljs-variable\"\u003eform\u003c/span\u003e \u003cspan class=\"hljs-operator\"\u003e=\u003c/span\u003e MultipartForm.create()\n  .attribute(\u003cspan class=\"hljs-string\"\u003e\u0026quot;imageDescription\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;a very nice image\u0026quot;\u003c/span\u003e)\n  .binaryFileUpload(\n    \u003cspan class=\"hljs-string\"\u003e\u0026quot;imageFile\u0026quot;\u003c/span\u003e,\n    \u003cspan class=\"hljs-string\"\u003e\u0026quot;image.jpg\u0026quot;\u003c/span\u003e,\n    \u003cspan class=\"hljs-string\"\u003e\u0026quot;/path/to/image\u0026quot;\u003c/span\u003e,\n    \u003cspan class=\"hljs-string\"\u003e\u0026quot;image/jpeg\u0026quot;\u003c/span\u003e);\n\n\u003cspan class=\"hljs-comment\"\u003e// Submit the form as a multipart form body\u003c/span\u003e\nclient\n  .post(\u003cspan class=\"hljs-number\"\u003e8080\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;myserver.mycompany.com\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;/some-uri\u0026quot;\u003c/span\u003e)\n  .sendMultipartForm(form)\n  .onSuccess(res -\u0026gt; {\n    \u003cspan class=\"hljs-comment\"\u003e// OK\u003c/span\u003e\n  });\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect2\"\u003e\n\u003ch3 id=\"_writing_request_headers\"\u003e\u003ca class=\"anchor\" href=\"#_writing_request_headers\"\u003e\u003c/a\u003eWriting request headers\u003c/h3\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eYou can write headers to a request using the headers multi-map as follows:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003eHttpRequest\u0026lt;Buffer\u0026gt; request = client\n  .get(\u003cspan class=\"hljs-number\"\u003e8080\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;myserver.mycompany.com\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;/some-uri\u0026quot;\u003c/span\u003e);\n\n\u003cspan class=\"hljs-type\"\u003eMultiMap\u003c/span\u003e \u003cspan class=\"hljs-variable\"\u003eheaders\u003c/span\u003e \u003cspan class=\"hljs-operator\"\u003e=\u003c/span\u003e request.headers();\nheaders.set(\u003cspan class=\"hljs-string\"\u003e\u0026quot;content-type\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;application/json\u0026quot;\u003c/span\u003e);\nheaders.set(\u003cspan class=\"hljs-string\"\u003e\u0026quot;other-header\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;foo\u0026quot;\u003c/span\u003e);\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eThe headers are an instance of \u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/core/MultiMap.html\"\u003eMultiMap\u003c/a\u003e\u003c/code\u003e which provides operations for adding,\nsetting and removing entries. Http headers allow more than one value for a specific key.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eYou can also write headers using putHeader\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003eHttpRequest\u0026lt;Buffer\u0026gt; request = client\n  .get(\u003cspan class=\"hljs-number\"\u003e8080\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;myserver.mycompany.com\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;/some-uri\u0026quot;\u003c/span\u003e);\n\nrequest.putHeader(\u003cspan class=\"hljs-string\"\u003e\u0026quot;content-type\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;application/json\u0026quot;\u003c/span\u003e);\nrequest.putHeader(\u003cspan class=\"hljs-string\"\u003e\u0026quot;other-header\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;foo\u0026quot;\u003c/span\u003e);\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect2\"\u003e\n\u003ch3 id=\"_configure_the_request_to_add_authentication\"\u003e\u003ca class=\"anchor\" href=\"#_configure_the_request_to_add_authentication\"\u003e\u003c/a\u003eConfigure the request to add authentication.\u003c/h3\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eAuthentication can be performed manually by setting the correct headers, or, using our predefined methods\n(We strongly suggest having HTTPS enabled, especially for authenticated requests):\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eIn basic HTTP authentication, a request contains a header field of the form \u003ccode\u003eAuthorization: Basic \u0026lt;credentials\u0026gt;\u003c/code\u003e,\nwhere credentials is the base64 encoding of id and password joined by a colon.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eYou can configure the request to add basic access authentication as follows:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003eHttpRequest\u0026lt;Buffer\u0026gt; request = client\n  .get(\u003cspan class=\"hljs-number\"\u003e8080\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;myserver.mycompany.com\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;/some-uri\u0026quot;\u003c/span\u003e)\n  .authentication(\u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eUsernamePasswordCredentials\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026quot;myid\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;mypassword\u0026quot;\u003c/span\u003e));\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eIn OAuth 2.0, a request contains a header field of the form \u003ccode\u003eAuthorization: Bearer \u0026lt;bearerToken\u0026gt;\u003c/code\u003e,\nwhere bearerToken is the bearer token issued by an authorization server to access protected resources.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eYou can configure the request to add bearer token authentication as follows:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003eHttpRequest\u0026lt;Buffer\u0026gt; request = client\n  .get(\u003cspan class=\"hljs-number\"\u003e8080\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;myserver.mycompany.com\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;/some-uri\u0026quot;\u003c/span\u003e)\n  .authentication(\u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eTokenCredentials\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026quot;myBearerToken\u0026quot;\u003c/span\u003e));\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect2\"\u003e\n\u003ch3 id=\"_reusing_requests\"\u003e\u003ca class=\"anchor\" href=\"#_reusing_requests\"\u003e\u003c/a\u003eReusing requests\u003c/h3\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eThe \u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/ext/web/client/HttpRequest.html#send-io.vertx.core.Handler-\"\u003esend\u003c/a\u003e\u003c/code\u003e method can be called multiple times\nsafely, making it very easy to configure and reuse \u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/ext/web/client/HttpRequest.html\"\u003eHttpRequest\u003c/a\u003e\u003c/code\u003e objects\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003eHttpRequest\u0026lt;Buffer\u0026gt; get = client\n  .get(\u003cspan class=\"hljs-number\"\u003e8080\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;myserver.mycompany.com\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;/some-uri\u0026quot;\u003c/span\u003e);\n\nget\n  .send()\n  .onSuccess(res -\u0026gt; {\n    \u003cspan class=\"hljs-comment\"\u003e// OK\u003c/span\u003e\n  });\n\n\u003cspan class=\"hljs-comment\"\u003e// Same request again\u003c/span\u003e\nget\n  .send()\n  .onSuccess(res -\u0026gt; {\n    \u003cspan class=\"hljs-comment\"\u003e// OK\u003c/span\u003e\n  });\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eBeware though that \u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/ext/web/client/HttpRequest.html\"\u003eHttpRequest\u003c/a\u003e\u003c/code\u003e instances are mutable.\nTherefore you should call the \u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/ext/web/client/HttpRequest.html#copy--\"\u003ecopy\u003c/a\u003e\u003c/code\u003e method before modifying a cached instance.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003eHttpRequest\u0026lt;Buffer\u0026gt; get = client\n  .get(\u003cspan class=\"hljs-number\"\u003e8080\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;myserver.mycompany.com\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;/some-uri\u0026quot;\u003c/span\u003e);\n\nget\n  .send()\n  .onSuccess(res -\u0026gt; {\n    \u003cspan class=\"hljs-comment\"\u003e// OK\u003c/span\u003e\n  });\n\n\u003cspan class=\"hljs-comment\"\u003e// The \u0026quot;get\u0026quot; request instance remains unmodified\u003c/span\u003e\nget\n  .copy()\n  .putHeader(\u003cspan class=\"hljs-string\"\u003e\u0026quot;a-header\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;with-some-value\u0026quot;\u003c/span\u003e)\n  .send()\n  .onSuccess(res -\u0026gt; {\n    \u003cspan class=\"hljs-comment\"\u003e// OK\u003c/span\u003e\n  });\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect2\"\u003e\n\u003ch3 id=\"_timeouts\"\u003e\u003ca class=\"anchor\" href=\"#_timeouts\"\u003e\u003c/a\u003eTimeouts\u003c/h3\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eYou can set a timeout for a specific http request using \u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/ext/web/client/HttpRequest.html#timeout-long-\"\u003etimeout\u003c/a\u003e\u003c/code\u003e.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003eclient\n  .get(\u003cspan class=\"hljs-number\"\u003e8080\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;myserver.mycompany.com\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;/some-uri\u0026quot;\u003c/span\u003e)\n  .timeout(\u003cspan class=\"hljs-number\"\u003e5000\u003c/span\u003e)\n  .send()\n  .onSuccess(res -\u0026gt; {\n    \u003cspan class=\"hljs-comment\"\u003e// OK\u003c/span\u003e\n  })\n  .onFailure(err -\u0026gt; {\n    \u003cspan class=\"hljs-comment\"\u003e// Might be a timeout when cause is java.util.concurrent.TimeoutException\u003c/span\u003e\n  });\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eIf the request does not return any data within the timeout period an exception will be passed to the response\nhandler.\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect1\"\u003e\n\u003ch2 id=\"_handling_http_responses\"\u003e\u003ca class=\"anchor\" href=\"#_handling_http_responses\"\u003e\u003c/a\u003eHandling http responses\u003c/h2\u003e\n\u003cdiv class=\"sectionbody\"\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eWhen the Web Client sends a request you always deal with a single async result \u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/ext/web/client/HttpResponse.html\"\u003eHttpResponse\u003c/a\u003e\u003c/code\u003e.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eOn a success result the callback happens after the response has been received\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003eclient\n  .get(\u003cspan class=\"hljs-number\"\u003e8080\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;myserver.mycompany.com\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;/some-uri\u0026quot;\u003c/span\u003e)\n  .send()\n  .onSuccess(res -\u0026gt;\n    System.out.println(\u003cspan class=\"hljs-string\"\u003e\u0026quot;Received response with status code\u0026quot;\u003c/span\u003e + res.statusCode()))\n  .onFailure(err -\u0026gt;\n    System.out.println(\u003cspan class=\"hljs-string\"\u003e\u0026quot;Something went wrong \u0026quot;\u003c/span\u003e + err.getMessage()));\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"admonitionblock caution\"\u003e\n\u003ctable\u003e\n\u003ctr\u003e\n\u003ctd class=\"icon\"\u003e\n\u003cdiv class=\"title\"\u003eCaution\u003c/div\u003e\n\u003c/td\u003e\n\u003ctd class=\"content\"\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eBy default, a Vert.x Web Client request ends with an error only if something wrong happens at the network level.\nIn other words, a \u003ccode\u003e404 Not Found\u003c/code\u003e response, or a response with the wrong content type, are \u003cstrong\u003enot\u003c/strong\u003e considered as failures.\nUse \u003ca href=\"#response-predicates\"\u003eresponse predicates\u003c/a\u003e if you want the Web Client to perform sanity checks automatically.\u003c/p\u003e\n\u003c/div\u003e\n\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/table\u003e\n\u003c/div\u003e\n\u003cdiv class=\"admonitionblock warning\"\u003e\n\u003ctable\u003e\n\u003ctr\u003e\n\u003ctd class=\"icon\"\u003e\n\u003cdiv class=\"title\"\u003eWarning\u003c/div\u003e\n\u003c/td\u003e\n\u003ctd class=\"content\"\u003e\nResponses are fully buffered, use \u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/ext/web/codec/BodyCodec.html#pipe-io.vertx.core.streams.WriteStream-\"\u003eBodyCodec.pipe\u003c/a\u003e\u003c/code\u003e\nto pipe the response to a write stream\n\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/table\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect2\"\u003e\n\u003ch3 id=\"_decoding_responses\"\u003e\u003ca class=\"anchor\" href=\"#_decoding_responses\"\u003e\u003c/a\u003eDecoding responses\u003c/h3\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eBy default the Web Client provides an http response body as a \u003ccode\u003eBuffer\u003c/code\u003e and does not apply\nany decoding.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eCustom response body decoding can be achieved using \u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/ext/web/codec/BodyCodec.html\"\u003eBodyCodec\u003c/a\u003e\u003c/code\u003e:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"ulist\"\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003ePlain String\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eJson object\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eJson mapped POJO\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/core/streams/WriteStream.html\"\u003eWriteStream\u003c/a\u003e\u003c/code\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eA body codec can decode an arbitrary binary data stream into a specific object instance, saving you the decoding\nstep in your response handlers.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eUse \u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/ext/web/codec/BodyCodec.html#jsonObject--\"\u003eBodyCodec.jsonObject\u003c/a\u003e\u003c/code\u003e To decode a Json object:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003eclient\n  .get(\u003cspan class=\"hljs-number\"\u003e8080\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;myserver.mycompany.com\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;/some-uri\u0026quot;\u003c/span\u003e)\n  .as(BodyCodec.jsonObject())\n  .send()\n  .onSuccess(res -\u0026gt; {\n    \u003cspan class=\"hljs-type\"\u003eJsonObject\u003c/span\u003e \u003cspan class=\"hljs-variable\"\u003ebody\u003c/span\u003e \u003cspan class=\"hljs-operator\"\u003e=\u003c/span\u003e res.body();\n\n    System.out.println(\n      \u003cspan class=\"hljs-string\"\u003e\u0026quot;Received response with status code\u0026quot;\u003c/span\u003e +\n        res.statusCode() +\n        \u003cspan class=\"hljs-string\"\u003e\u0026quot; with body \u0026quot;\u003c/span\u003e +\n        body);\n  })\n  .onFailure(err -\u0026gt;\n    System.out.println(\u003cspan class=\"hljs-string\"\u003e\u0026quot;Something went wrong \u0026quot;\u003c/span\u003e + err.getMessage()));\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eIn Java, Groovy or Kotlin, custom Json mapped POJO can be decoded\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003eclient\n  .get(\u003cspan class=\"hljs-number\"\u003e8080\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;myserver.mycompany.com\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;/some-uri\u0026quot;\u003c/span\u003e)\n  .as(BodyCodec.json(User.class))\n  .send()\n  .onSuccess(res -\u0026gt; {\n    \u003cspan class=\"hljs-type\"\u003eUser\u003c/span\u003e \u003cspan class=\"hljs-variable\"\u003euser\u003c/span\u003e \u003cspan class=\"hljs-operator\"\u003e=\u003c/span\u003e res.body();\n\n    System.out.println(\n      \u003cspan class=\"hljs-string\"\u003e\u0026quot;Received response with status code\u0026quot;\u003c/span\u003e +\n        res.statusCode() +\n        \u003cspan class=\"hljs-string\"\u003e\u0026quot; with body \u0026quot;\u003c/span\u003e +\n        user.getFirstName() +\n        \u003cspan class=\"hljs-string\"\u003e\u0026quot; \u0026quot;\u003c/span\u003e +\n        user.getLastName());\n  })\n  .onFailure(err -\u0026gt;\n    System.out.println(\u003cspan class=\"hljs-string\"\u003e\u0026quot;Something went wrong \u0026quot;\u003c/span\u003e + err.getMessage()));\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eWhen large response are expected, use the \u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/ext/web/codec/BodyCodec.html#pipe-io.vertx.core.streams.WriteStream-\"\u003eBodyCodec.pipe\u003c/a\u003e\u003c/code\u003e.\nThis body codec pumps the response body buffers to a \u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/core/streams/WriteStream.html\"\u003eWriteStream\u003c/a\u003e\u003c/code\u003e\nand signals the success or the failure of the operation in the async result response\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003eclient\n  .get(\u003cspan class=\"hljs-number\"\u003e8080\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;myserver.mycompany.com\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;/some-uri\u0026quot;\u003c/span\u003e)\n  .as(BodyCodec.pipe(writeStream))\n  .send()\n  .onSuccess(res -\u0026gt;\n    System.out.println(\u003cspan class=\"hljs-string\"\u003e\u0026quot;Received response with status code\u0026quot;\u003c/span\u003e + res.statusCode()))\n  .onFailure(err -\u0026gt;\n    System.out.println(\u003cspan class=\"hljs-string\"\u003e\u0026quot;Something went wrong \u0026quot;\u003c/span\u003e + err.getMessage()));\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eIt becomes frequent to see API returning a stream of JSON objects. For example, the Twitter API can provides a feed of\ntweets. To handle this use case you can use \u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/ext/web/codec/BodyCodec.html#jsonStream-io.vertx.core.parsetools.JsonParser-\"\u003eBodyCodec.jsonStream\u003c/a\u003e\u003c/code\u003e.\nYou pass a JSON parser that emits the read JSON streams from the HTTP response:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003e\u003cspan class=\"hljs-type\"\u003eJsonParser\u003c/span\u003e \u003cspan class=\"hljs-variable\"\u003eparser\u003c/span\u003e \u003cspan class=\"hljs-operator\"\u003e=\u003c/span\u003e JsonParser.newParser().objectValueMode();\nparser.handler(event -\u0026gt; {\n  \u003cspan class=\"hljs-type\"\u003eJsonObject\u003c/span\u003e \u003cspan class=\"hljs-variable\"\u003eobject\u003c/span\u003e \u003cspan class=\"hljs-operator\"\u003e=\u003c/span\u003e event.objectValue();\n  System.out.println(\u003cspan class=\"hljs-string\"\u003e\u0026quot;Got \u0026quot;\u003c/span\u003e + object.encode());\n});\nclient\n  .get(\u003cspan class=\"hljs-number\"\u003e8080\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;myserver.mycompany.com\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;/some-uri\u0026quot;\u003c/span\u003e)\n  .as(BodyCodec.jsonStream(parser))\n  .send()\n  .onSuccess(res -\u0026gt;\n    System.out.println(\u003cspan class=\"hljs-string\"\u003e\u0026quot;Received response with status code\u0026quot;\u003c/span\u003e + res.statusCode()))\n  .onFailure(err -\u0026gt;\n    System.out.println(\u003cspan class=\"hljs-string\"\u003e\u0026quot;Something went wrong \u0026quot;\u003c/span\u003e + err.getMessage()));\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eFinally if you are not interested at all by the response content, the \u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/ext/web/codec/BodyCodec.html#none--\"\u003eBodyCodec.none\u003c/a\u003e\u003c/code\u003e\nsimply discards the entire response body\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003eclient\n  .get(\u003cspan class=\"hljs-number\"\u003e8080\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;myserver.mycompany.com\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;/some-uri\u0026quot;\u003c/span\u003e)\n  .as(BodyCodec.none())\n  .send()\n  .onSuccess(res -\u0026gt;\n    System.out.println(\u003cspan class=\"hljs-string\"\u003e\u0026quot;Received response with status code\u0026quot;\u003c/span\u003e + res.statusCode()))\n  .onFailure(err -\u0026gt;\n    System.out.println(\u003cspan class=\"hljs-string\"\u003e\u0026quot;Something went wrong \u0026quot;\u003c/span\u003e + err.getMessage()));\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eWhen you don\u0026#8217;t know in advance the content type of the http response, you can still use the \u003ccode\u003ebodyAsXXX()\u003c/code\u003e methods\nthat decode the response to a specific type\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003eclient\n  .get(\u003cspan class=\"hljs-number\"\u003e8080\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;myserver.mycompany.com\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;/some-uri\u0026quot;\u003c/span\u003e)\n  .send()\n  .onSuccess(res -\u0026gt; {\n    \u003cspan class=\"hljs-comment\"\u003e// Decode the body as a json object\u003c/span\u003e\n    \u003cspan class=\"hljs-type\"\u003eJsonObject\u003c/span\u003e \u003cspan class=\"hljs-variable\"\u003ebody\u003c/span\u003e \u003cspan class=\"hljs-operator\"\u003e=\u003c/span\u003e res.bodyAsJsonObject();\n\n    System.out.println(\n      \u003cspan class=\"hljs-string\"\u003e\u0026quot;Received response with status code\u0026quot;\u003c/span\u003e +\n        res.statusCode() +\n        \u003cspan class=\"hljs-string\"\u003e\u0026quot; with body \u0026quot;\u003c/span\u003e +\n        body);\n  })\n  .onFailure(err -\u0026gt;\n    System.out.println(\u003cspan class=\"hljs-string\"\u003e\u0026quot;Something went wrong \u0026quot;\u003c/span\u003e + err.getMessage()));\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"admonitionblock warning\"\u003e\n\u003ctable\u003e\n\u003ctr\u003e\n\u003ctd class=\"icon\"\u003e\n\u003cdiv class=\"title\"\u003eWarning\u003c/div\u003e\n\u003c/td\u003e\n\u003ctd class=\"content\"\u003e\nthis is only valid for the response decoded as a buffer.\n\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/table\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect2\"\u003e\n\u003ch3 id=\"response-predicates\"\u003e\u003ca class=\"anchor\" href=\"#response-predicates\"\u003e\u003c/a\u003eResponse predicates\u003c/h3\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eBy default, a Vert.x Web Client request ends with an error only if something wrong happens at the network level.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eIn other words, you must perform sanity checks manually after the response is received:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003eclient\n  .get(\u003cspan class=\"hljs-number\"\u003e8080\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;myserver.mycompany.com\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;/some-uri\u0026quot;\u003c/span\u003e)\n  .send()\n  .onSuccess(res -\u0026gt; {\n    \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (\n      res.statusCode() == \u003cspan class=\"hljs-number\"\u003e200\u003c/span\u003e \u0026amp;\u0026amp;\n        res.getHeader(\u003cspan class=\"hljs-string\"\u003e\u0026quot;content-type\u0026quot;\u003c/span\u003e).equals(\u003cspan class=\"hljs-string\"\u003e\u0026quot;application/json\u0026quot;\u003c/span\u003e)) {\n      \u003cspan class=\"hljs-comment\"\u003e// Decode the body as a json object\u003c/span\u003e\n      \u003cspan class=\"hljs-type\"\u003eJsonObject\u003c/span\u003e \u003cspan class=\"hljs-variable\"\u003ebody\u003c/span\u003e \u003cspan class=\"hljs-operator\"\u003e=\u003c/span\u003e res.bodyAsJsonObject();\n\n      System.out.println(\n        \u003cspan class=\"hljs-string\"\u003e\u0026quot;Received response with status code\u0026quot;\u003c/span\u003e +\n          res.statusCode() +\n          \u003cspan class=\"hljs-string\"\u003e\u0026quot; with body \u0026quot;\u003c/span\u003e +\n          body);\n    } \u003cspan class=\"hljs-keyword\"\u003eelse\u003c/span\u003e {\n      System.out.println(\u003cspan class=\"hljs-string\"\u003e\u0026quot;Something went wrong \u0026quot;\u003c/span\u003e + res.statusCode());\n    }\n  })\n  .onFailure(err -\u0026gt;\n    System.out.println(\u003cspan class=\"hljs-string\"\u003e\u0026quot;Something went wrong \u0026quot;\u003c/span\u003e + err.getMessage()));\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eYou can trade flexibility for clarity and conciseness using \u003cem\u003eresponse predicates\u003c/em\u003e.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003e\u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/ext/web/client/predicate/ResponsePredicate.html\"\u003eResponse predicates\u003c/a\u003e\u003c/code\u003e can fail a request when the response does\nnot match a criteria.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eThe Web Client comes with a set of out of the box predicates ready to use:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003eclient\n  .get(\u003cspan class=\"hljs-number\"\u003e8080\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;myserver.mycompany.com\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;/some-uri\u0026quot;\u003c/span\u003e)\n  .expect(ResponsePredicate.SC_SUCCESS)\n  .expect(ResponsePredicate.JSON)\n  .send()\n  .onSuccess(res -\u0026gt; {\n    \u003cspan class=\"hljs-comment\"\u003e// Safely decode the body as a json object\u003c/span\u003e\n    \u003cspan class=\"hljs-type\"\u003eJsonObject\u003c/span\u003e \u003cspan class=\"hljs-variable\"\u003ebody\u003c/span\u003e \u003cspan class=\"hljs-operator\"\u003e=\u003c/span\u003e res.bodyAsJsonObject();\n    System.out.println(\n      \u003cspan class=\"hljs-string\"\u003e\u0026quot;Received response with status code\u0026quot;\u003c/span\u003e +\n        res.statusCode() +\n        \u003cspan class=\"hljs-string\"\u003e\u0026quot; with body \u0026quot;\u003c/span\u003e +\n        body);\n  })\n  .onFailure(err -\u0026gt;\n    System.out.println(\u003cspan class=\"hljs-string\"\u003e\u0026quot;Something went wrong \u0026quot;\u003c/span\u003e + err.getMessage()));\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eYou can also create custom predicates when existing predicates don\u0026#8217;t fit your needs:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003eFunction\u0026lt;HttpResponse\u0026lt;Void\u0026gt;, ResponsePredicateResult\u0026gt; methodsPredicate =\n  resp -\u0026gt; {\n    \u003cspan class=\"hljs-type\"\u003eString\u003c/span\u003e \u003cspan class=\"hljs-variable\"\u003emethods\u003c/span\u003e \u003cspan class=\"hljs-operator\"\u003e=\u003c/span\u003e resp.getHeader(\u003cspan class=\"hljs-string\"\u003e\u0026quot;Access-Control-Allow-Methods\u0026quot;\u003c/span\u003e);\n    \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (methods != \u003cspan class=\"hljs-literal\"\u003enull\u003c/span\u003e) {\n      \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (methods.contains(\u003cspan class=\"hljs-string\"\u003e\u0026quot;POST\u0026quot;\u003c/span\u003e)) {\n        \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e ResponsePredicateResult.success();\n      }\n    }\n    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e ResponsePredicateResult.failure(\u003cspan class=\"hljs-string\"\u003e\u0026quot;Does not work\u0026quot;\u003c/span\u003e);\n  };\n\n\u003cspan class=\"hljs-comment\"\u003e// Send pre-flight CORS request\u003c/span\u003e\nclient\n  .request(\n    HttpMethod.OPTIONS,\n    \u003cspan class=\"hljs-number\"\u003e8080\u003c/span\u003e,\n    \u003cspan class=\"hljs-string\"\u003e\u0026quot;myserver.mycompany.com\u0026quot;\u003c/span\u003e,\n    \u003cspan class=\"hljs-string\"\u003e\u0026quot;/some-uri\u0026quot;\u003c/span\u003e)\n  .putHeader(\u003cspan class=\"hljs-string\"\u003e\u0026quot;Origin\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;Server-b.com\u0026quot;\u003c/span\u003e)\n  .putHeader(\u003cspan class=\"hljs-string\"\u003e\u0026quot;Access-Control-Request-Method\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;POST\u0026quot;\u003c/span\u003e)\n  .expect(methodsPredicate)\n  .send()\n  .onSuccess(res -\u0026gt; {\n    \u003cspan class=\"hljs-comment\"\u003e// Process the POST request now\u003c/span\u003e\n  })\n  .onFailure(err -\u0026gt;\n    System.out.println(\u003cspan class=\"hljs-string\"\u003e\u0026quot;Something went wrong \u0026quot;\u003c/span\u003e + err.getMessage()));\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"admonitionblock tip\"\u003e\n\u003ctable\u003e\n\u003ctr\u003e\n\u003ctd class=\"icon\"\u003e\n\u003cdiv class=\"title\"\u003eTip\u003c/div\u003e\n\u003c/td\u003e\n\u003ctd class=\"content\"\u003e\nResponse predicates are evaluated \u003cem\u003ebefore\u003c/em\u003e the response body is received. Therefore you can\u0026#8217;t inspect the response body\nin a predicate test function.\n\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/table\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect3\"\u003e\n\u003ch4 id=\"_predefined_predicates\"\u003e\u003ca class=\"anchor\" href=\"#_predefined_predicates\"\u003e\u003c/a\u003ePredefined predicates\u003c/h4\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eAs a convenience, the Web Client ships a few predicates for common uses cases .\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eFor status codes, e.g \u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/ext/web/client/predicate/ResponsePredicate.html#SC_SUCCESS\"\u003eResponsePredicate.SC_SUCCESS\u003c/a\u003e\u003c/code\u003e to verify that the\nresponse has a \u003ccode\u003e2xx\u003c/code\u003e code, you can also create a custom one:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003eclient\n  .get(\u003cspan class=\"hljs-number\"\u003e8080\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;myserver.mycompany.com\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;/some-uri\u0026quot;\u003c/span\u003e)\n  .expect(ResponsePredicate.status(\u003cspan class=\"hljs-number\"\u003e200\u003c/span\u003e, \u003cspan class=\"hljs-number\"\u003e202\u003c/span\u003e))\n  .send()\n  .onSuccess(res -\u0026gt; {\n    \u003cspan class=\"hljs-comment\"\u003e// ....\u003c/span\u003e\n  });\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eFor content types, e.g \u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/ext/web/client/predicate/ResponsePredicate.html#JSON\"\u003eResponsePredicate.JSON\u003c/a\u003e\u003c/code\u003e to verify that the\nresponse body contains JSON data, you can also create a custom one:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003eclient\n  .get(\u003cspan class=\"hljs-number\"\u003e8080\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;myserver.mycompany.com\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;/some-uri\u0026quot;\u003c/span\u003e)\n  .expect(ResponsePredicate.contentType(\u003cspan class=\"hljs-string\"\u003e\u0026quot;some/content-type\u0026quot;\u003c/span\u003e))\n  .send()\n  .onSuccess(res -\u0026gt; {\n    \u003cspan class=\"hljs-comment\"\u003e// ....\u003c/span\u003e\n  });\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003ePlease refer to the \u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/ext/web/client/predicate/ResponsePredicate.html\"\u003eResponsePredicate\u003c/a\u003e\u003c/code\u003e documentation for a full list of predefined predicates.\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect3\"\u003e\n\u003ch4 id=\"_creating_custom_failures\"\u003e\u003ca class=\"anchor\" href=\"#_creating_custom_failures\"\u003e\u003c/a\u003eCreating custom failures\u003c/h4\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eBy default, response predicates (including the predefined ones) use a default error converter which discards\nthe body and conveys a simple message. You can customize the exception class by changing the error converter:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003e\u003cspan class=\"hljs-type\"\u003eResponsePredicate\u003c/span\u003e \u003cspan class=\"hljs-variable\"\u003epredicate\u003c/span\u003e \u003cspan class=\"hljs-operator\"\u003e=\u003c/span\u003e ResponsePredicate.create(\n  ResponsePredicate.SC_SUCCESS,\n  result -\u0026gt; \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eMyCustomException\u003c/span\u003e(result.message()));\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eMany web APIs provide details in error responses.\nFor example, the \u003ca href=\"https://developer.marvel.com/docs\"\u003eMarvel API\u003c/a\u003e uses this JSON object format:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-javascript\" data-lang=\"javascript\"\u003e{\n \u003cspan class=\"hljs-string\"\u003e\u0026quot;code\u0026quot;\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\u0026quot;InvalidCredentials\u0026quot;\u003c/span\u003e,\n \u003cspan class=\"hljs-string\"\u003e\u0026quot;message\u0026quot;\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\u0026quot;The passed API key is invalid.\u0026quot;\u003c/span\u003e\n}\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eTo avoid losing this information, it is possible to wait for the response body to be fully received before the error\nconverter is called:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003e\u003cspan class=\"hljs-type\"\u003eErrorConverter\u003c/span\u003e \u003cspan class=\"hljs-variable\"\u003econverter\u003c/span\u003e \u003cspan class=\"hljs-operator\"\u003e=\u003c/span\u003e ErrorConverter.createFullBody(result -\u0026gt; {\n\n  \u003cspan class=\"hljs-comment\"\u003e// Invoked after the response body is fully received\u003c/span\u003e\n  HttpResponse\u0026lt;Buffer\u0026gt; response = result.response();\n\n  \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (response\n    .getHeader(\u003cspan class=\"hljs-string\"\u003e\u0026quot;content-type\u0026quot;\u003c/span\u003e)\n    .equals(\u003cspan class=\"hljs-string\"\u003e\u0026quot;application/json\u0026quot;\u003c/span\u003e)) {\n\n    \u003cspan class=\"hljs-comment\"\u003e// Error body is JSON data\u003c/span\u003e\n    \u003cspan class=\"hljs-type\"\u003eJsonObject\u003c/span\u003e \u003cspan class=\"hljs-variable\"\u003ebody\u003c/span\u003e \u003cspan class=\"hljs-operator\"\u003e=\u003c/span\u003e response.bodyAsJsonObject();\n\n    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eMyCustomException\u003c/span\u003e(\n      body.getString(\u003cspan class=\"hljs-string\"\u003e\u0026quot;code\u0026quot;\u003c/span\u003e),\n      body.getString(\u003cspan class=\"hljs-string\"\u003e\u0026quot;message\u0026quot;\u003c/span\u003e));\n  }\n\n  \u003cspan class=\"hljs-comment\"\u003e// Fallback to defaut message\u003c/span\u003e\n  \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eMyCustomException\u003c/span\u003e(result.message());\n});\n\n\u003cspan class=\"hljs-type\"\u003eResponsePredicate\u003c/span\u003e \u003cspan class=\"hljs-variable\"\u003epredicate\u003c/span\u003e \u003cspan class=\"hljs-operator\"\u003e=\u003c/span\u003e ResponsePredicate\n  .create(ResponsePredicate.SC_SUCCESS, converter);\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"admonitionblock warning\"\u003e\n\u003ctable\u003e\n\u003ctr\u003e\n\u003ctd class=\"icon\"\u003e\n\u003cdiv class=\"title\"\u003eWarning\u003c/div\u003e\n\u003c/td\u003e\n\u003ctd class=\"content\"\u003e\ncreating exception in Java can have a performance cost when it captures a stack trace, so you might want\n        to create exceptions that do not capture the stack trace. By default exceptions are reported using the\n        an exception that does not capture the stack trace.\n\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/table\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect2\"\u003e\n\u003ch3 id=\"_handling_30x_redirections\"\u003e\u003ca class=\"anchor\" href=\"#_handling_30x_redirections\"\u003e\u003c/a\u003eHandling 30x redirections\u003c/h3\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eBy default the client follows redirections, you can configure the default behavior in the \u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/ext/web/client/WebClientOptions.html\"\u003eWebClientOptions\u003c/a\u003e\u003c/code\u003e:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003e\u003cspan class=\"hljs-type\"\u003eWebClient\u003c/span\u003e \u003cspan class=\"hljs-variable\"\u003eclient\u003c/span\u003e \u003cspan class=\"hljs-operator\"\u003e=\u003c/span\u003e WebClient\n  .create(vertx, \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eWebClientOptions\u003c/span\u003e().setFollowRedirects(\u003cspan class=\"hljs-literal\"\u003efalse\u003c/span\u003e));\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eThe client will follow at most \u003ccode\u003e16\u003c/code\u003e requests redirections, it can be changed in the same options:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003e\u003cspan class=\"hljs-type\"\u003eWebClient\u003c/span\u003e \u003cspan class=\"hljs-variable\"\u003eclient\u003c/span\u003e \u003cspan class=\"hljs-operator\"\u003e=\u003c/span\u003e WebClient\n  .create(vertx, \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eWebClientOptions\u003c/span\u003e().setMaxRedirects(\u003cspan class=\"hljs-number\"\u003e5\u003c/span\u003e));\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"admonitionblock note\"\u003e\n\u003ctable\u003e\n\u003ctr\u003e\n\u003ctd class=\"icon\"\u003e\n\u003cdiv class=\"title\"\u003eNote\u003c/div\u003e\n\u003c/td\u003e\n\u003ctd class=\"content\"\u003e\nFor security reason, client won\u0026#8217;t follow redirects for request with methods different from GET or HEAD\n\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/table\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect1\"\u003e\n\u003ch2 id=\"_using_https\"\u003e\u003ca class=\"anchor\" href=\"#_using_https\"\u003e\u003c/a\u003eUsing HTTPS\u003c/h2\u003e\n\u003cdiv class=\"sectionbody\"\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eVert.x Web Client can be configured to use HTTPS in exactly the same way as the Vert.x \u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/core/http/HttpClient.html\"\u003eHttpClient\u003c/a\u003e\u003c/code\u003e.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eYou can specify the behavior per request\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003eclient\n  .get(\u003cspan class=\"hljs-number\"\u003e443\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;myserver.mycompany.com\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;/some-uri\u0026quot;\u003c/span\u003e)\n  .ssl(\u003cspan class=\"hljs-literal\"\u003etrue\u003c/span\u003e)\n  .send()\n  .onSuccess(res -\u0026gt;\n    System.out.println(\u003cspan class=\"hljs-string\"\u003e\u0026quot;Received response with status code\u0026quot;\u003c/span\u003e + res.statusCode()))\n  .onFailure(err -\u0026gt;\n    System.out.println(\u003cspan class=\"hljs-string\"\u003e\u0026quot;Something went wrong \u0026quot;\u003c/span\u003e + err.getMessage()));\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eOr using create methods with absolute URI argument\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003eclient\n  .getAbs(\u003cspan class=\"hljs-string\"\u003e\u0026quot;https://myserver.mycompany.com:4043/some-uri\u0026quot;\u003c/span\u003e)\n  .send()\n  .onSuccess(res -\u0026gt;\n    System.out.println(\u003cspan class=\"hljs-string\"\u003e\u0026quot;Received response with status code\u0026quot;\u003c/span\u003e + res.statusCode()))\n  .onFailure(err -\u0026gt;\n    System.out.println(\u003cspan class=\"hljs-string\"\u003e\u0026quot;Something went wrong \u0026quot;\u003c/span\u003e + err.getMessage()));\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect1\"\u003e\n\u003ch2 id=\"_sessions_management\"\u003e\u003ca class=\"anchor\" href=\"#_sessions_management\"\u003e\u003c/a\u003eSessions management\u003c/h2\u003e\n\u003cdiv class=\"sectionbody\"\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eVert.x web offers a web session management facility; to use it, you create a\n\u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/ext/web/client/WebClientSession.html\"\u003eWebClientSession\u003c/a\u003e\u003c/code\u003e for every user (session) and use it instead of the\n\u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/ext/web/client/WebClient.html\"\u003eWebClient\u003c/a\u003e\u003c/code\u003e.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect2\"\u003e\n\u003ch3 id=\"_creating_a_websession\"\u003e\u003ca class=\"anchor\" href=\"#_creating_a_websession\"\u003e\u003c/a\u003eCreating a WebSession\u003c/h3\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eYou create a \u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/ext/web/client/WebClientSession.html\"\u003eWebClientSession\u003c/a\u003e\u003c/code\u003e instance as follows\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003e\u003cspan class=\"hljs-type\"\u003eWebClient\u003c/span\u003e \u003cspan class=\"hljs-variable\"\u003eclient\u003c/span\u003e \u003cspan class=\"hljs-operator\"\u003e=\u003c/span\u003e WebClient.create(vertx);\n\u003cspan class=\"hljs-type\"\u003eWebClientSession\u003c/span\u003e \u003cspan class=\"hljs-variable\"\u003esession\u003c/span\u003e \u003cspan class=\"hljs-operator\"\u003e=\u003c/span\u003e WebClientSession.create(client);\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect2\"\u003e\n\u003ch3 id=\"_making_requests_2\"\u003e\u003ca class=\"anchor\" href=\"#_making_requests_2\"\u003e\u003c/a\u003eMaking requests\u003c/h3\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eOnce created, a \u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/ext/web/client/WebClientSession.html\"\u003eWebClientSession\u003c/a\u003e\u003c/code\u003e can be used instead of a\n\u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/ext/web/client/WebClient.html\"\u003eWebClient\u003c/a\u003e\u003c/code\u003e to do HTTP(s) requests and automatically manage any cookies received from the server(s)\nyou are calling.\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect2\"\u003e\n\u003ch3 id=\"_setting_session_level_headers\"\u003e\u003ca class=\"anchor\" href=\"#_setting_session_level_headers\"\u003e\u003c/a\u003eSetting session level headers\u003c/h3\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eYou can set any session level headers to be added to every request as follows:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003e\u003cspan class=\"hljs-type\"\u003eWebClientSession\u003c/span\u003e \u003cspan class=\"hljs-variable\"\u003esession\u003c/span\u003e \u003cspan class=\"hljs-operator\"\u003e=\u003c/span\u003e WebClientSession.create(client);\nsession.addHeader(\u003cspan class=\"hljs-string\"\u003e\u0026quot;my-jwt-token\u0026quot;\u003c/span\u003e, jwtToken);\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eThe headers will then be added to every request; notice that these headers will be sent to all hosts; if you need\nto send different headers to different hosts, you have to add them manually to every single request and not to the\n\u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/ext/web/client/WebClientSession.html\"\u003eWebClientSession\u003c/a\u003e\u003c/code\u003e.\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect1\"\u003e\n\u003ch2 id=\"_rxjava_3_api\"\u003e\u003ca class=\"anchor\" href=\"#_rxjava_3_api\"\u003e\u003c/a\u003eRxJava 3 API\u003c/h2\u003e\n\u003cdiv class=\"sectionbody\"\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eThe RxJava \u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/rxjava3/ext/web/client/HttpRequest.html\"\u003eHttpRequest\u003c/a\u003e\u003c/code\u003e provides an rx-ified version of the original API,\nthe \u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/rxjava3/ext/web/client/HttpRequest.html#rxSend--\"\u003erxSend\u003c/a\u003e\u003c/code\u003e method returns a \u003ccode\u003eSingle\u0026lt;HttpResponse\u0026lt;Buffer\u0026gt;\u0026gt;\u003c/code\u003e that\nmakes the HTTP request upon subscription, as consequence, the \u003ccode\u003eSingle\u003c/code\u003e can be subscribed many times.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003eSingle\u0026lt;HttpResponse\u0026lt;Buffer\u0026gt;\u0026gt; single = client\n  .get(\u003cspan class=\"hljs-number\"\u003e8080\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;myserver.mycompany.com\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;/some-uri\u0026quot;\u003c/span\u003e)\n  .rxSend();\n\n\u003cspan class=\"hljs-comment\"\u003e// Send a request upon subscription of the Single\u003c/span\u003e\nsingle.subscribe(response -\u0026gt; System.out.println(\u003cspan class=\"hljs-string\"\u003e\u0026quot;Received 1st response with status code\u0026quot;\u003c/span\u003e + response.statusCode()), error -\u0026gt; System.out.println(\u003cspan class=\"hljs-string\"\u003e\u0026quot;Something went wrong \u0026quot;\u003c/span\u003e + error.getMessage()));\n\n\u003cspan class=\"hljs-comment\"\u003e// Send another request\u003c/span\u003e\nsingle.subscribe(response -\u0026gt; System.out.println(\u003cspan class=\"hljs-string\"\u003e\u0026quot;Received 2nd response with status code\u0026quot;\u003c/span\u003e + response.statusCode()), error -\u0026gt; System.out.println(\u003cspan class=\"hljs-string\"\u003e\u0026quot;Something went wrong \u0026quot;\u003c/span\u003e + error.getMessage()));\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eThe obtained \u003ccode\u003eSingle\u003c/code\u003e can be composed and chained naturally with the RxJava API\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003eSingle\u0026lt;String\u0026gt; url = client\n  .get(\u003cspan class=\"hljs-number\"\u003e8080\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;myserver.mycompany.com\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;/some-uri\u0026quot;\u003c/span\u003e)\n  .rxSend()\n  .map(HttpResponse::bodyAsString);\n\n\u003cspan class=\"hljs-comment\"\u003e// Use the flatMap operator to make a request on the URL Single\u003c/span\u003e\nurl\n  .flatMap(u -\u0026gt; client.getAbs(u).rxSend())\n  .subscribe(response -\u0026gt; System.out.println(\u003cspan class=\"hljs-string\"\u003e\u0026quot;Received response with status code\u0026quot;\u003c/span\u003e + response.statusCode()), error -\u0026gt; System.out.println(\u003cspan class=\"hljs-string\"\u003e\u0026quot;Something went wrong \u0026quot;\u003c/span\u003e + error.getMessage()));\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eThe same APIs is available\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003eSingle\u0026lt;HttpResponse\u0026lt;JsonObject\u0026gt;\u0026gt; single = client\n  .get(\u003cspan class=\"hljs-number\"\u003e8080\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;myserver.mycompany.com\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;/some-uri\u0026quot;\u003c/span\u003e)\n  .putHeader(\u003cspan class=\"hljs-string\"\u003e\u0026quot;some-header\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;header-value\u0026quot;\u003c/span\u003e)\n  .addQueryParam(\u003cspan class=\"hljs-string\"\u003e\u0026quot;some-param\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;param value\u0026quot;\u003c/span\u003e)\n  .as(BodyCodec.jsonObject())\n  .rxSend();\nsingle.subscribe(resp -\u0026gt; {\n  System.out.println(resp.statusCode());\n  System.out.println(resp.body());\n});\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eThe \u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/rxjava3/ext/web/client/HttpRequest.html#rxSendStream-io.reactivex.rxjava3.core.Flowable-\"\u003erxSendStream\u003c/a\u003e\u003c/code\u003e shall\nbe preferred for sending bodies \u003ccode\u003eFlowable\u0026lt;Buffer\u0026gt;\u003c/code\u003e.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003eFlowable\u0026lt;Buffer\u0026gt; body = getPayload();\n\nSingle\u0026lt;HttpResponse\u0026lt;Buffer\u0026gt;\u0026gt; single = client\n  .post(\u003cspan class=\"hljs-number\"\u003e8080\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;myserver.mycompany.com\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;/some-uri\u0026quot;\u003c/span\u003e)\n  .rxSendStream(body);\nsingle.subscribe(resp -\u0026gt; {\n  System.out.println(resp.statusCode());\n  System.out.println(resp.body());\n});\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eUpon subscription, the \u003ccode\u003ebody\u003c/code\u003e will be subscribed and its content used for the request.\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect1\"\u003e\n\u003ch2 id=\"_domain_sockets\"\u003e\u003ca class=\"anchor\" href=\"#_domain_sockets\"\u003e\u003c/a\u003eDomain sockets\u003c/h2\u003e\n\u003cdiv class=\"sectionbody\"\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eSince 3.7.1 the Web Client supports domain sockets, e.g you can interact with the \u003ca href=\"https://docs.docker.com/engine/reference/commandline/dockerd/\"\u003elocal Docker daemon\u003c/a\u003e.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eTo achieve this, the \u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/core/Vertx.html\"\u003eVertx\u003c/a\u003e\u003c/code\u003e instance must be created using a native transport, you can read\nthe Vert.x core documentation that explains it clearly.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003e\u003cspan class=\"hljs-type\"\u003eSocketAddress\u003c/span\u003e \u003cspan class=\"hljs-variable\"\u003eserverAddress\u003c/span\u003e \u003cspan class=\"hljs-operator\"\u003e=\u003c/span\u003e SocketAddress\n  .domainSocketAddress(\u003cspan class=\"hljs-string\"\u003e\u0026quot;/var/run/docker.sock\u0026quot;\u003c/span\u003e);\n\n\u003cspan class=\"hljs-comment\"\u003e// We still need to specify host and port so the request\u003c/span\u003e\n\u003cspan class=\"hljs-comment\"\u003e// HTTP header will be localhost:8080\u003c/span\u003e\n\u003cspan class=\"hljs-comment\"\u003e// otherwise it will be a malformed HTTP request\u003c/span\u003e\n\u003cspan class=\"hljs-comment\"\u003e// the actual value does not matter much for this example\u003c/span\u003e\nclient\n  .request(\n    HttpMethod.GET,\n    serverAddress,\n    \u003cspan class=\"hljs-number\"\u003e8080\u003c/span\u003e,\n    \u003cspan class=\"hljs-string\"\u003e\u0026quot;localhost\u0026quot;\u003c/span\u003e,\n    \u003cspan class=\"hljs-string\"\u003e\u0026quot;/images/json\u0026quot;\u003c/span\u003e)\n  .expect(ResponsePredicate.SC_ACCEPTED)\n  .as(BodyCodec.jsonObject())\n  .send()\n  .onSuccess(res -\u0026gt;\n    System.out.println(\u003cspan class=\"hljs-string\"\u003e\u0026quot;Current Docker images\u0026quot;\u003c/span\u003e + res.body()))\n  .onFailure(err -\u0026gt;\n    System.out.println(\u003cspan class=\"hljs-string\"\u003e\u0026quot;Something went wrong \u0026quot;\u003c/span\u003e + err.getMessage()));\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e","version":"4.1.3"},"__N_SSG":true},"page":"/docs/[[...slug]]","query":{"slug":["4.1.3","vertx-web-client","java"]},"buildId":"TfCrH4GEYTYgoXJBLUTks","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>