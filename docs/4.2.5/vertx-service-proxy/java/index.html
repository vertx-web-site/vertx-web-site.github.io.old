<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta name="description" content="Vert.x | Reactive applications on the JVM"/><meta name="robots" content="index,follow"/><link rel="shortcut icon" href="/favicons/favicon.ico"/><link rel="icon" type="image/png" sizes="16x16" href="/favicons/favicon-16x16.png"/><link rel="icon" type="image/png" sizes="32x32" href="/favicons/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="48x48" href="/favicons/favicon-48x48.png"/><link rel="alternate" type="application/rss+xml" href="/feed/rss.xml"/><link rel="alternate" type="application/atom+xml" href="/feed/atom.xml"/><link rel="alternate" type="application/json" href="/feed/feed.json"/><title>Service Proxies | Eclipse Vert.x</title><link rel="preload" href="https://api.github.com/repos/vert-x3/vertx-service-proxy" as="fetch" crossorigin="anonymous" class="jsx-d38685edc31911e0"/><meta name="next-head-count" content="14"/><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin /><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="/_next/static/chunks/webpack-a93aa46380b4694b.js" defer=""></script><script src="/_next/static/chunks/framework-3581bb99e4b98af8.js" defer=""></script><script src="/_next/static/chunks/main-07c364b24ba486f9.js" defer=""></script><script src="/_next/static/chunks/pages/_app-918f819bf2d2e2f1.js" defer=""></script><script src="/_next/static/chunks/61-10370b355b2f5127.js" defer=""></script><script src="/_next/static/chunks/619-a6351f346d236a3f.js" defer=""></script><script src="/_next/static/chunks/629-c022341baf5a2a8d.js" defer=""></script><script src="/_next/static/chunks/411-959650184748d73b.js" defer=""></script><script src="/_next/static/chunks/361-368294ca7c0c9bdc.js" defer=""></script><script src="/_next/static/chunks/pages/docs/%5B%5B...slug%5D%5D-f66d89a3e8b036df.js" defer=""></script><script src="/_next/static/DoywUqPdg2_fEh5cLsqFi/_buildManifest.js" defer=""></script><script src="/_next/static/DoywUqPdg2_fEh5cLsqFi/_ssgManifest.js" defer=""></script><script src="/_next/static/DoywUqPdg2_fEh5cLsqFi/_middlewareManifest.js" defer=""></script><style id="__jsx-400ec7965926e858">.dropdown-item.jsx-400ec7965926e858{white-space:nowrap;line-height:2;width:100%;padding:0 1.5rem;cursor:pointer}.dropdown-item.jsx-400ec7965926e858:hover{background-color:#e9ecef}.dropdown-item.active.jsx-400ec7965926e858{font-weight:400;padding-left:.75rem}.dropdown-item.has-active-siblings.jsx-400ec7965926e858:not(.active){padding-left:-webkit-calc(.75rem + 16px + .5em);padding-left:-moz-calc(.75rem + 16px + .5em);padding-left:calc(.75rem + 16px + .5em)}.dropdown-item.jsx-400ec7965926e858 .dropdown-check-icon.jsx-400ec7965926e858{width:16px;margin-right:.5em;margin-top:1px}</style><style id="__jsx-6650573c8f14945d">.dropdown.jsx-6650573c8f14945d{position:relative;display:inline-block}.dropdown.jsx-6650573c8f14945d .dropdown-title.jsx-6650573c8f14945d{margin-right:0;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.dropdown.jsx-6650573c8f14945d .dropdown-menu.jsx-6650573c8f14945d{position:absolute;background-color:#f8f9fa;-webkit-box-shadow:0 2px 5px 0 rgba(0,0,0,.1);-moz-box-shadow:0 2px 5px 0 rgba(0,0,0,.1);box-shadow:0 2px 5px 0 rgba(0,0,0,.1);-webkit-border-radius:.8rem;-moz-border-radius:.8rem;border-radius:.8rem;list-style-type:none;padding:.6666666667rem 0;margin:.25rem 0 0 0;z-index:100;display:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.dropdown.jsx-6650573c8f14945d .dropdown-menu.jsx-6650573c8f14945d a{color:#4d4d4d;text-decoration:none;font-weight:300}.dropdown.jsx-6650573c8f14945d .dropdown-menu.align-right.jsx-6650573c8f14945d{right:0}.dropdown.jsx-6650573c8f14945d .dropdown-menu.visible.jsx-6650573c8f14945d{display:block}.dropdown.jsx-6650573c8f14945d .dropdown-menu.jsx-6650573c8f14945d a.jsx-6650573c8f14945d:hover{color:inherit}.dropdown.jsx-6650573c8f14945d svg{margin-bottom:2px}</style><style id="__jsx-75cbc16d79a176fb">.tooltip.jsx-75cbc16d79a176fb{font-size:.75rem;color:#4d4d4d;background-color:#f8f9fa;-webkit-border-radius:.4rem;-moz-border-radius:.4rem;border-radius:.4rem;padding:0 .4rem;-webkit-box-shadow:0 0 5px rgba(0,0,0,.3);-moz-box-shadow:0 0 5px rgba(0,0,0,.3);box-shadow:0 0 5px rgba(0,0,0,.3);display:none;white-space:nowrap;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.tooltip.visible.jsx-75cbc16d79a176fb{display:block}.tooltip.jsx-75cbc16d79a176fb .tooltip-arrow.jsx-75cbc16d79a176fb,.tooltip.jsx-75cbc16d79a176fb .tooltip-arrow.jsx-75cbc16d79a176fb::before{position:absolute;width:8px;height:8px;z-index:-1}.tooltip.jsx-75cbc16d79a176fb .tooltip-arrow.jsx-75cbc16d79a176fb::before{content:"";-webkit-transform:rotate(45deg);-moz-transform:rotate(45deg);-ms-transform:rotate(45deg);-o-transform:rotate(45deg);transform:rotate(45deg);background:#f8f9fa;-webkit-box-shadow:-2px -2px 2px rgba(0,0,0,.1);-moz-box-shadow:-2px -2px 2px rgba(0,0,0,.1);box-shadow:-2px -2px 2px rgba(0,0,0,.1)}.tooltip[data-popper-placement^=top].jsx-75cbc16d79a176fb>.tooltip-arrow.jsx-75cbc16d79a176fb{bottom:-4px}.tooltip[data-popper-placement^=top].jsx-75cbc16d79a176fb>.tooltip-arrow.jsx-75cbc16d79a176fb::before{-webkit-transform:rotate(225deg);-moz-transform:rotate(225deg);-ms-transform:rotate(225deg);-o-transform:rotate(225deg);transform:rotate(225deg)}.tooltip[data-popper-placement^=bottom].jsx-75cbc16d79a176fb>.tooltip-arrow.jsx-75cbc16d79a176fb{top:-4px}.tooltip[data-popper-placement^=left].jsx-75cbc16d79a176fb>.tooltip-arrow.jsx-75cbc16d79a176fb{right:-4px}.tooltip[data-popper-placement^=left].jsx-75cbc16d79a176fb>.tooltip-arrow.jsx-75cbc16d79a176fb::before{-webkit-transform:rotate(135deg);-moz-transform:rotate(135deg);-ms-transform:rotate(135deg);-o-transform:rotate(135deg);transform:rotate(135deg)}.tooltip[data-popper-placement^=right].jsx-75cbc16d79a176fb>.tooltip-arrow.jsx-75cbc16d79a176fb{left:-4px}.tooltip[data-popper-placement^=right].jsx-75cbc16d79a176fb>.tooltip-arrow.jsx-75cbc16d79a176fb::before{-webkit-transform:rotate(315deg);-moz-transform:rotate(315deg);-ms-transform:rotate(315deg);-o-transform:rotate(315deg);transform:rotate(315deg)}</style><style id="__jsx-f705e145f931f504">.navbar{position:absolute;top:2.75rem;width:100%}.navbar a{color:#3c3c3b}.navbar a.navbar-menu-item,.navbar .dropdown-title{text-transform:uppercase}.navbar a.navbar-menu-item:hover,.navbar .dropdown-title:hover{text-decoration:none;color:#898987;-webkit-transition:color.15s ease-in-out;-moz-transition:color.15s ease-in-out;-o-transition:color.15s ease-in-out;transition:color.15s ease-in-out}.navbar .navbar-content{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-moz-box-orient:horizontal;-moz-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;position:relative}.navbar .navbar-content .navbar-logo{-webkit-box-flex:1;-webkit-flex:1;-moz-box-flex:1;-ms-flex:1;flex:1}.navbar .navbar-content .navbar-logo img{width:8.3rem}.navbar .navbar-content .navbar-collapse-button{display:none;cursor:pointer}@media(max-width:1e3px){.navbar .navbar-content .navbar-collapse-button{display:inline-block}}.navbar .navbar-content .navbar-collapse-button span{display:block;width:33px;height:4px;margin-bottom:5px;position:relative;background:#3c3c3b;-webkit-border-radius:3px;-moz-border-radius:3px;border-radius:3px;z-index:1;-webkit-transform-origin:4px 0;-moz-transform-origin:4px 0;-ms-transform-origin:4px 0;-o-transform-origin:4px 0;transform-origin:4px 0;-webkit-transition:-webkit-transform.5s cubic-bezier(.77,.2,.05,1),background.5s cubic-bezier(.77,.2,.05,1),opacity.55s ease;-moz-transition:-moz-transform.5s cubic-bezier(.77,.2,.05,1),background.5s cubic-bezier(.77,.2,.05,1),opacity.55s ease;-o-transition:-o-transform.5s cubic-bezier(.77,.2,.05,1),background.5s cubic-bezier(.77,.2,.05,1),opacity.55s ease;transition:-webkit-transform.5s cubic-bezier(.77,.2,.05,1),background.5s cubic-bezier(.77,.2,.05,1),opacity.55s ease;transition:-moz-transform.5s cubic-bezier(.77,.2,.05,1),background.5s cubic-bezier(.77,.2,.05,1),opacity.55s ease;transition:-o-transform.5s cubic-bezier(.77,.2,.05,1),background.5s cubic-bezier(.77,.2,.05,1),opacity.55s ease;transition:transform.5s cubic-bezier(.77,.2,.05,1),background.5s cubic-bezier(.77,.2,.05,1),opacity.55s ease}.navbar .navbar-content .navbar-collapse-button span:first-child{-webkit-transform-origin:0%0%;-moz-transform-origin:0%0%;-ms-transform-origin:0%0%;-o-transform-origin:0%0%;transform-origin:0%0%}.navbar .navbar-content .navbar-collapse-button span:nth-last-child(2){-webkit-transform-origin:0%100%;-moz-transform-origin:0%100%;-ms-transform-origin:0%100%;-o-transform-origin:0%100%;transform-origin:0%100%}.navbar .navbar-content .navbar-right{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-moz-box-orient:horizontal;-moz-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-align:baseline;-webkit-align-items:baseline;-moz-box-align:baseline;-ms-flex-align:baseline;align-items:baseline;margin-bottom:10px}@media(max-width:1e3px){.navbar .navbar-content .navbar-right{max-height:0;-webkit-transition:max-height 200ms ease-in-out;-moz-transition:max-height 200ms ease-in-out;-o-transition:max-height 200ms ease-in-out;transition:max-height 200ms ease-in-out;-webkit-box-shadow:0 2px 5px 0 rgba(0,0,0,.1);-moz-box-shadow:0 2px 5px 0 rgba(0,0,0,.1);box-shadow:0 2px 5px 0 rgba(0,0,0,.1);-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;position:absolute;top:2.75rem;left:.8rem;right:.8rem;background-color:#f8f9fa;overflow-x:auto;overflow-y:hidden}}.navbar .navbar-content .navbar-menu .navbar-menu-item{font-weight:400;margin-right:2.5rem}.navbar .navbar-content .navbar-menu .navbar-menu-item.with-drop-down{margin-right:1.8rem}@media(max-width:1250px){.navbar .navbar-content .navbar-menu .navbar-menu-item{margin-right:1.5rem}}@media(max-width:1e3px){.navbar .navbar-content .navbar-menu .navbar-menu-item{display:block;margin-bottom:1rem;font-size:1.2rem}}.navbar .navbar-content .navbar-menu .navbar-menu-item .external-link-icon{margin-left:.25em}@media(max-width:1e3px){.navbar .navbar-content .navbar-menu{-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;padding:1rem}}.navbar .navbar-content .navbar-social{margin-left:1.6rem;font-size:.875rem}.navbar .navbar-content .navbar-social svg{height:16px;margin-bottom:2px}@media(max-width:1e3px){.navbar .navbar-content .navbar-social svg{height:1rem}}@media(max-width:1250px){.navbar .navbar-content .navbar-social{margin-left:1rem}}@media(max-width:1e3px){.navbar .navbar-content .navbar-social{margin-left:auto;padding:0 1rem 1rem 0;font-size:1rem}}@media(max-width:768px){.navbar{top:1rem}}.page .navbar{top:0;padding-top:1.5rem;padding-bottom:1rem;position:fixed;background-color:#fff;z-index:2}</style><style id="__jsx-b8b24b20b287542e">.search{position:relative}.search input{color:#adb5bd;border:1px solid#dee2e6;-webkit-border-radius:.4rem;-moz-border-radius:.4rem;border-radius:.4rem;font-size:.875rem;padding:.25rem 1.8rem .35rem 1.8rem;width:100%;-webkit-transition:color.15s ease-in-out,border-color.15s ease-in-out;-moz-transition:color.15s ease-in-out,border-color.15s ease-in-out;-o-transition:color.15s ease-in-out,border-color.15s ease-in-out;transition:color.15s ease-in-out,border-color.15s ease-in-out;background-color:rgba(0,0,0,0)}.search input:focus{border-color:#adb5bd;color:#3c3c3b}.search .autosuggest{position:absolute;top:0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:-100;opacity:.5}.search .search-icon,.search .search-icon-delete{position:absolute;top:.55rem;height:1rem;stroke:#adb5bd;-webkit-transition:stroke.15s ease-in-out;-moz-transition:stroke.15s ease-in-out;-o-transition:stroke.15s ease-in-out;transition:stroke.15s ease-in-out}.search .search-icon{left:.4rem}.search input:focus+.search-icon{stroke:#6f6970}.search .search-icon-delete{stroke:#6f6970;right:.4rem;height:.75rem;top:.7rem;opacity:0;-webkit-transition:opacity.15s ease-in-out;-moz-transition:opacity.15s ease-in-out;-o-transition:opacity.15s ease-in-out;transition:opacity.15s ease-in-out;cursor:text}.search.has-content .search-icon-delete{opacity:1;cursor:pointer}</style><style id="__jsx-4a39f0db74e84d2d">.search-results,.search-results-none{font-size:.875rem;overflow:auto;list-style-type:none;padding-left:0;display:none}.search-results.visible,.search-results-none.visible{display:block}.search-results{list-style-type:none;padding:0;margin-bottom:0}.search-results li{display:block;padding:.5rem;margin-bottom:1rem;-webkit-border-radius:.4rem;-moz-border-radius:.4rem;border-radius:.4rem;border:1px solid rgba(0,0,0,0);cursor:pointer;max-width:17rem;overflow-x:hidden}.search-results li.active{background-color:#f8f9fa;border:1px solid#e9ecef}.search-results li h5{margin:0 0 .5rem 0;font-size:1em}.search-results li .search-results-highlight{background-color:#ff0}.search-results-none{padding:1rem .5rem;text-align:center;width:100%}</style><style id="__jsx-d1843944f2d67b">.search-panel{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;position:relative}</style><style id="__jsx-d38685edc31911e0">.github-stars.jsx-d38685edc31911e0{display:inline-block}.github-stars.jsx-d38685edc31911e0 .icon.jsx-d38685edc31911e0{margin-right:.25em}.github-stars.jsx-d38685edc31911e0 .icon.jsx-d38685edc31911e0 svg{height:1rem}</style><style id="__jsx-3acb63b44722e9f1">footer{font-size:.875rem;padding-top:3rem;padding-bottom:4rem;background-color:#f8f9fa;border-top:1px solid#dee2e6;margin-top:1rem;color:#6f6970}footer h5{font-size:1rem;margin-top:0;margin-bottom:1rem;color:#3c3c3b;text-transform:uppercase}footer ul{padding:0;list-style:none;line-height:2}footer a{color:#6f6970}footer .footer-logo img,footer .footer-copyright-eclipse-logo img{-webkit-filter:grayscale(100);filter:grayscale(100);opacity:.5;-webkit-transition:all.15s ease-in-out;-moz-transition:all.15s ease-in-out;-o-transition:all.15s ease-in-out;transition:all.15s ease-in-out}footer .footer-logo img:hover,footer .footer-copyright-eclipse-logo img:hover{-webkit-filter:grayscale(0);filter:grayscale(0);opacity:1}footer .footer-nav-section{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-moz-box-orient:horizontal;-moz-box-direction:normal;-ms-flex-direction:row;flex-direction:row;margin-bottom:6rem}footer .footer-nav-section .footer-logo{margin-top:.4rem}footer .footer-nav-section .footer-logo img{width:8.3rem}footer .footer-nav-section .footer-nav-list{width:20%}footer .footer-copyright{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-moz-box-orient:horizontal;-moz-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:justify;-webkit-justify-content:space-between;-moz-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center}footer .footer-copyright a{white-space:nowrap}footer .footer-copyright .footer-copyright-eclipse-logo{width:17%;margin-bottom:.5rem}@media(max-width:1250px){footer .footer-copyright .footer-copyright-break{display:none}footer .footer-copyright .footer-copyright-eclipse-logo{width:30%}}@media(max-width:1e3px){footer .footer-nav-section .footer-nav-list{width:25%}footer .footer-copyright .footer-copyright-break{display:inline-block}footer .footer-copyright .footer-copyright-eclipse-logo{width:40%}}@media(max-width:768px){footer .footer-nav-section{max-width:100%;margin-left:auto;margin-right:auto}}@media(max-width:640px){footer .footer-nav-section{max-width:80%;margin-bottom:3rem;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column}footer .footer-nav-section h5{cursor:pointer}footer .footer-nav-section h5::after{display:inline-block;content:"";border-top:.4em solid;border-right:.4em solid rgba(0,0,0,0);border-bottom:0;border-left:.4em solid rgba(0,0,0,0);position:absolute;top:.75rem;right:0}footer .footer-nav-section .footer-nav-list{width:100%;position:relative}footer .footer-nav-section .footer-nav-list ul{overflow-y:hidden;max-height:0;-webkit-transition:all 200ms ease-in-out;-moz-transition:all 200ms ease-in-out;-o-transition:all 200ms ease-in-out;transition:all 200ms ease-in-out}footer .footer-nav-section .footer-nav-list ul.visible{margin-bottom:2rem}footer .footer-nav-section .footer-logo{margin:0 auto 3rem auto;width:auto}footer .footer-copyright{max-width:80%;text-align:center;margin-left:auto;margin-right:auto;-webkit-box-orient:vertical;-webkit-box-direction:reverse;-webkit-flex-direction:column-reverse;-moz-box-orient:vertical;-moz-box-direction:reverse;-ms-flex-direction:column-reverse;flex-direction:column-reverse}footer .footer-copyright .footer-copyright-eclipse-logo{width:7.6rem;margin-bottom:1rem}}</style><style id="__jsx-8eedb594ed1b4625">.page-content{margin-top:6em;margin-bottom:8rem}.docs .docs-content .docs-content-wrapper{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-moz-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}.docs .docs-content .docs-content-wrapper aside{-webkit-box-flex:0;-webkit-flex:0 0 17rem;-moz-box-flex:0;-ms-flex:0 0 17rem;flex:0 0 17rem}.docs .docs-content .docs-content-wrapper aside .docs-content-wrapper-sidebar{position:-webkit-sticky;position:sticky;top:7em}.docs .docs-content .docs-content-wrapper aside .search-panel{margin-top:1rem;width:100%}.docs .docs-content .docs-content-wrapper aside .search-panel .search-results{max-height:-webkit-calc(100vh - 10rem - 1px);max-height:-moz-calc(100vh - 10rem - 1px);max-height:calc(100vh - 10rem - 1px)}.docs .docs-content .docs-content-wrapper aside .docs-content-toc{margin-top:1rem;overflow-y:auto;max-height:-webkit-calc(100vh - 10rem - 3px);max-height:-moz-calc(100vh - 10rem - 3px);max-height:calc(100vh - 10rem - 3px)}.docs .docs-content .docs-content-wrapper aside .docs-content-toc #toctitle{display:none}.docs .docs-content .docs-content-wrapper aside .docs-content-toc ul{margin-top:0;padding-left:0;list-style-type:none}.docs .docs-content .docs-content-wrapper aside .docs-content-toc ul.sectlevel2{display:none}.docs .docs-content .docs-content-wrapper aside .docs-content-toc ul li{padding:.3333333333rem 0}.docs .docs-content .docs-content-wrapper aside.docs-has-search-results .docs-content-toc{display:none}@media(max-width:1250px){.docs .docs-content .docs-content-wrapper aside{-webkit-box-flex:0;-webkit-flex:0 0 15rem;-moz-box-flex:0;-ms-flex:0 0 15rem;flex:0 0 15rem}}@media(max-width:1e3px){.docs .docs-content .docs-content-wrapper aside{z-index:1;position:fixed;top:0;right:0;width:25rem;height:100vh;max-width:100%;padding-top:6rem;padding-left:2rem;padding-right:2rem;background-color:#fff;border-left:1px solid#dee2e6;-webkit-transform:translateX(100%);-moz-transform:translateX(100%);-ms-transform:translateX(100%);-o-transform:translateX(100%);transform:translateX(100%);-webkit-transition:-webkit-transform 200ms ease-in-out;-moz-transition:-moz-transform 200ms ease-in-out;-o-transition:-o-transform 200ms ease-in-out;transition:-webkit-transform 200ms ease-in-out;transition:-moz-transform 200ms ease-in-out;transition:-o-transform 200ms ease-in-out;transition:transform 200ms ease-in-out;will-change:transform}.docs .docs-content .docs-content-wrapper aside.collapse{-webkit-transform:translateX(0%);-moz-transform:translateX(0%);-ms-transform:translateX(0%);-o-transform:translateX(0%);transform:translateX(0%)}}@media(max-width:640px){.docs .docs-content .docs-content-wrapper aside{min-width:100%;border-left:none}}.docs .docs-content .docs-content-wrapper .docs-content-sidebar-toggle{z-index:1000;cursor:pointer;display:none;position:fixed;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;right:2rem;bottom:2rem;color:#fff;background-color:#4d4d4d;padding:.5rem;-webkit-border-radius:.8rem;-moz-border-radius:.8rem;border-radius:.8rem;-webkit-transition:background-color.15s ease-in-out;-moz-transition:background-color.15s ease-in-out;-o-transition:background-color.15s ease-in-out;transition:background-color.15s ease-in-out}.docs .docs-content .docs-content-wrapper .docs-content-sidebar-toggle .feather-list,.docs .docs-content .docs-content-wrapper .docs-content-sidebar-toggle .feather-x{display:block}.docs .docs-content .docs-content-wrapper .docs-content-sidebar-toggle .feather-x{position:absolute;left:0;top:0;opacity:0;-webkit-transition:opacity.15s ease-in-out;-moz-transition:opacity.15s ease-in-out;-o-transition:opacity.15s ease-in-out;transition:opacity.15s ease-in-out}.docs .docs-content .docs-content-wrapper .docs-content-sidebar-toggle:hover{background-color:#3c3c3b}.docs .docs-content .docs-content-wrapper .docs-content-sidebar-toggle.collapse .feather-list{opacity:0}.docs .docs-content .docs-content-wrapper .docs-content-sidebar-toggle.collapse .feather-x{opacity:1}@media(max-width:1e3px){.docs .docs-content .docs-content-wrapper .docs-content-sidebar-toggle{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex}}@media(max-width:640px){.docs .docs-content .docs-content-wrapper .docs-content-sidebar-toggle{right:1rem;bottom:1rem}}.docs .docs-content .docs-content-inner{max-width:-webkit-calc(100% - 19.5rem);max-width:-moz-calc(100% - 19.5rem);max-width:calc(100% - 19.5rem);overflow:hidden}.docs .docs-content .docs-content-inner .docs-content-metadata{margin-top:1.2rem;margin-bottom:1.2rem;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-align:baseline;-webkit-align-items:baseline;-moz-box-align:baseline;-ms-flex-align:baseline;align-items:baseline}@media(max-width:1e3px){.docs .docs-content .docs-content-inner .docs-content-metadata{-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column}}.docs .docs-content .docs-content-inner .docs-content-metadata .docs-content-metadata-repo{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex}.docs .docs-content .docs-content-inner .docs-content-metadata .docs-content-metadata-left{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-flex:1;-webkit-flex:1;-moz-box-flex:1;-ms-flex:1;flex:1}.docs .docs-content .docs-content-inner .docs-content-metadata .docs-content-metadata-left>*{margin-right:2rem}.docs .docs-content .docs-content-inner .docs-content-metadata .docs-content-metadata-left>*:last-child{margin-right:0}.docs .docs-content .docs-content-inner .docs-content-metadata .docs-content-metadata-left a{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;color:#6f6970;white-space:nowrap}.docs .docs-content .docs-content-inner .docs-content-metadata .docs-content-metadata-left a:hover{color:#782b90}.docs .docs-content .docs-content-inner .docs-content-metadata .docs-content-metadata-left a .feather{margin-right:.25em;height:1rem}@media(max-width:1e3px){.docs .docs-content .docs-content-inner .docs-content-metadata .docs-content-metadata-left{-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;margin-bottom:1rem}}.docs .docs-content .docs-content-inner .docs-content-metadata .docs-content-metadata-version{-webkit-box-flex:1;-webkit-flex:1;-moz-box-flex:1;-ms-flex:1;flex:1;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex}@media(min-width:1e3px){.docs .docs-content .docs-content-inner .docs-content-metadata .docs-content-metadata-version{-webkit-box-pack:end;-webkit-justify-content:flex-end;-moz-box-pack:end;-ms-flex-pack:end;justify-content:flex-end}}.docs .docs-content .docs-content-inner .docs-content-metadata .docs-content-metadata-version svg{height:16px;margin-bottom:-2px}@media(max-width:1e3px){.docs .docs-content .docs-content-inner .docs-content-metadata .docs-content-metadata-version svg{height:1rem;margin-bottom:-1px}}.docs .docs-content .docs-content-inner .docs-content-metadata .docs-content-metadata-version .dropdown-menu a{text-decoration:none}.docs .docs-content .docs-content-inner .docs-content-metadata .docs-content-metadata-version .dropdown-menu a:hover{color:#6f6970}.docs .docs-content .docs-content-inner .docs-content-metadata .docs-content-metadata-label{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;margin-left:2rem}.docs .docs-content .docs-content-inner h1{padding-top:0;margin-top:.6rem;line-height:1.2}.docs .docs-content .docs-content-inner h1::after{content:"";width:30%;display:block;border:2px solid#782b90;-webkit-border-radius:2px;-moz-border-radius:2px;border-radius:2px;margin-top:1.1rem}.docs .docs-content .docs-content-inner .ulist>ul{padding-left:1.1rem}.docs .docs-content .docs-content-inner h2{border-top:1px solid#dee2e6;margin-top:5rem;padding-top:2rem}.docs .docs-content .docs-content-inner h3,.docs .docs-content .docs-content-inner h4{margin-top:3rem}@media(max-width:1250px){.docs .docs-content .docs-content-inner{max-width:-webkit-calc(100% - 17.5rem);max-width:-moz-calc(100% - 17.5rem);max-width:calc(100% - 17.5rem)}}@media(max-width:1e3px){.docs .docs-content .docs-content-inner{max-width:100%}}.docs .docs-content .admonitionblock{-webkit-border-top-right-radius:.8rem;-moz-border-radius-topright:.8rem;border-top-right-radius:.8rem;-webkit-border-bottom-right-radius:.8rem;-moz-border-radius-bottomright:.8rem;border-bottom-right-radius:.8rem;background-color:#f8f9fa;padding:1rem;margin:1.5rem 0;border-left:9px solid rgba(0,0,0,0)}.docs .docs-content .admonitionblock.note,.docs .docs-content .admonitionblock.tip{border-color:#6cb9f0}.docs .docs-content .admonitionblock.important,.docs .docs-content .admonitionblock.warning,.docs .docs-content .admonitionblock.caution{border-color:#f0a46c}.docs .docs-content .admonitionblock tr{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.docs .docs-content .admonitionblock .title{font-weight:400}.docs .docs-content .admonitionblock .title::after{content:":"}.docs .docs-content dt{font-weight:400}.docs .docs-content .anchor{opacity:0;-webkit-align-self:flex-start;-ms-flex-item-align:start;align-self:flex-start;outline:none}.docs .docs-content .anchor::after{content:"#";position:absolute;margin-left:-1.5rem;color:#ced4da;padding-right:.45rem}.docs .docs-content .anchor:hover{opacity:1}.docs .docs-content h2:hover .anchor,.docs .docs-content h3:hover .anchor,.docs .docs-content h4:hover .anchor,.docs .docs-content h5:hover .anchor,.docs .docs-content h6:hover .anchor{opacity:1}.docs .docs-content h1 .anchor{display:none}.docs .docs-content h4 .anchor::after,.docs .docs-content h5 .anchor::after,.docs .docs-content h6 .anchor::after{padding-right:.6rem}</style><style id="__jsx-7824b3ad3820c879">html{line-height:1.15;-webkit-text-size-adjust:100%}body{margin:0}main{display:block}h1{font-size:2em;margin:.67em 0}hr{-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;height:0;overflow:visible}pre{font-family:monospace,monospace;font-size:1em}a{background-color:transparent}abbr[title]{border-bottom:none;text-decoration:underline;-webkit-text-decoration:underline dotted;-moz-text-decoration:underline dotted;text-decoration:underline dotted}b,strong{font-weight:bolder}code,kbd,samp{font-family:monospace,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}button,input,optgroup,select,textarea{font-family:inherit;font-size:100%;line-height:1.15;margin:0}button,input{overflow:visible}button,select{text-transform:none}button,[type=button],[type=reset],[type=submit]{-webkit-appearance:button}button::-moz-focus-inner,[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner{border-style:none;padding:0}button:-moz-focusring,[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring{outline:1px dotted ButtonText}fieldset{padding:.35em .75em .625em}legend{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}progress{vertical-align:baseline}textarea{overflow:auto}[type=checkbox],[type=radio]{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}details{display:block}summary{display:list-item}template{display:none}[hidden]{display:none}.hljs,pre{display:block;overflow-x:auto;padding:.5em;background:#3a2840;color:#fff}.hljs.language-shell :not(.bash)+.bash,.hljs.language-better-shell :not(.bash)+.bash,pre.language-shell :not(.bash)+.bash,pre.language-better-shell :not(.bash)+.bash{color:#d2a8e0}pre{-webkit-border-radius:.8rem;-moz-border-radius:.8rem;border-radius:.8rem;padding:1rem;font-size:.875rem;margin:1.5rem 0}.hljs-keyword,.hljs-selector-tag,.hljs-tag{color:#d2a8e0}.hljs-template-tag{color:red}.hljs-number{color:#6cb9f0}.hljs-variable,.hljs-template-variable,.hljs-attribute,.hljs-literal{color:#c9e5f9}.hljs-subst{color:red}.hljs-title,.hljs-name,.hljs-selector-id,.hljs-selector-class,.hljs-section,.hljs-type{color:#f0a46c}.hljs-symbol,.hljs-bullet,.hljs-link{color:#d2a8e0}.hljs-deletion,.hljs-string,.hljs-built_in,.hljs-builtin-name{color:#6cb9f0}.hljs-addition,.hljs-comment,.hljs-quote,.hljs-meta{color:#adb5bd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:bold}#nprogress{pointer-events:none}#nprogress .bar{background:#29d;position:fixed;z-index:1031;top:0;left:0;width:100%;height:2px}#nprogress .peg{display:block;position:absolute;right:0px;width:100px;height:100%;-webkit-box-shadow:0 0 10px#29d,0 0 5px#29d;-moz-box-shadow:0 0 10px#29d,0 0 5px#29d;box-shadow:0 0 10px#29d,0 0 5px#29d;opacity:1;-webkit-transform:rotate(3deg)translate(0px,-4px);-ms-transform:rotate(3deg)translate(0px,-4px);-moz-transform:rotate(3deg)translate(0px,-4px);-o-transform:rotate(3deg)translate(0px,-4px);transform:rotate(3deg)translate(0px,-4px)}#nprogress .spinner{display:block;position:fixed;z-index:1031;top:15px;right:15px}#nprogress .spinner-icon{width:18px;height:18px;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;border:solid 2px transparent;border-top-color:#29d;border-left-color:#29d;-webkit-border-radius:50%;-moz-border-radius:50%;border-radius:50%;-webkit-animation:nprogress-spinner 400ms linear infinite;-moz-animation:nprogress-spinner 400ms linear infinite;-o-animation:nprogress-spinner 400ms linear infinite;animation:nprogress-spinner 400ms linear infinite}.nprogress-custom-parent{overflow:hidden;position:relative}.nprogress-custom-parent #nprogress .spinner,.nprogress-custom-parent #nprogress .bar{position:absolute}@-webkit-keyframes nprogress-spinner{0%{-webkit-transform:rotate(0deg)}100%{-webkit-transform:rotate(360deg)}}@-webkit-keyframes nprogress-spinner{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-moz-keyframes nprogress-spinner{0%{-moz-transform:rotate(0deg);transform:rotate(0deg)}100%{-moz-transform:rotate(360deg);transform:rotate(360deg)}}@-o-keyframes nprogress-spinner{0%{-o-transform:rotate(0deg);transform:rotate(0deg)}100%{-o-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes nprogress-spinner{0%{-webkit-transform:rotate(0deg);-moz-transform:rotate(0deg);-o-transform:rotate(0deg);transform:rotate(0deg)}100%{-webkit-transform:rotate(360deg);-moz-transform:rotate(360deg);-o-transform:rotate(360deg);transform:rotate(360deg)}}#nprogress .bar{background:#782b90}#nprogress .peg{-webkit-box-shadow:0 0 10px#782b90,0 0 5px#782b90;-moz-box-shadow:0 0 10px#782b90,0 0 5px#782b90;box-shadow:0 0 10px#782b90,0 0 5px#782b90}#nprogress .spinner-icon{border-top-color:#782b90;border-left-color:#782b90}html{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}*,*::before,*::after{-webkit-box-sizing:inherit;-moz-box-sizing:inherit;box-sizing:inherit}:root{font-size:18px}@media(max-width:1e3px){:root{font-size:17.1px}}@media(max-width:768px){:root{font-size:16.2px}}@media(max-width:640px){:root{font-size:15.3px}}body,input{font-family:Roboto,sans-serif;font-weight:300;line-height:1.7;color:#3c3c3b}input{outline:none}h1,h2,h3,h4,h5,h6{font-weight:400}h1{font-size:2.5rem}h2{font-size:2rem}h3{font-size:1.75rem}h4{font-size:1.5rem}h5{font-size:1.25rem}h6{font-size:1.1rem}.container{width:100%;padding-right:.8rem;padding-left:.8rem;margin-right:auto;margin-left:auto}@media(min-width:640px){.container{max-width:620px}}@media(min-width:768px){.container{max-width:738px}}@media(min-width:1e3px){.container{max-width:950px}}@media(min-width:1250px){.container{max-width:1180px}}@media(min-width:1250px){.container-narrow{max-width:950px}}.img-fluid{max-width:100%}a{text-decoration:none;color:#782b90}a:hover{text-decoration:underline;color:#571f69}img{vertical-align:middle}svg{overflow:hidden;vertical-align:middle}code,pre{font-family:"Roboto Mono",SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace}p code{display:-webkit-inline-box;display:-webkit-inline-flex;display:-moz-inline-box;display:-ms-inline-flexbox;display:inline-flex;max-width:100%;overflow:auto}.heading-anchor{opacity:0;-webkit-align-self:flex-start;-ms-flex-item-align:start;align-self:flex-start;outline:none}.heading-anchor::after{content:"#";position:absolute;margin-left:-1.5rem;color:#ced4da;padding-right:.45rem}.heading-anchor:hover{opacity:1}h2:hover .heading-anchor,h3:hover .heading-anchor,h4:hover .heading-anchor,h5:hover .heading-anchor,h6:hover .heading-anchor{opacity:1}h1 .heading-anchor{display:none}h4 .heading-anchor::after,h5 .heading-anchor::after,h6 .heading-anchor::after{padding-right:.6rem}</style><style data-href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500&display=swap">@font-face{font-family:'Roboto';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOlCnqEu92Fr1MmSU5vAA.woff) format('woff')}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOmCnqEu92Fr1Me5g.woff) format('woff')}@font-face{font-family:'Roboto';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOlCnqEu92Fr1MmEU9vAA.woff) format('woff')}@font-face{font-family:'Roboto';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOlCnqEu92Fr1MmSU5fCRc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Roboto';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOlCnqEu92Fr1MmSU5fABc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Roboto';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOlCnqEu92Fr1MmSU5fCBc4AMP6lbBP.woff2) format('woff2');unicode-range:U+1F00-1FFF}@font-face{font-family:'Roboto';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOlCnqEu92Fr1MmSU5fBxc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0370-03FF}@font-face{font-family:'Roboto';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOlCnqEu92Fr1MmSU5fCxc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Roboto';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOlCnqEu92Fr1MmSU5fChc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Roboto';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOlCnqEu92Fr1MmSU5fBBc4AMP6lQ.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOmCnqEu92Fr1Mu72xKKTU1Kvnz.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOmCnqEu92Fr1Mu5mxKKTU1Kvnz.woff2) format('woff2');unicode-range:U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOmCnqEu92Fr1Mu7mxKKTU1Kvnz.woff2) format('woff2');unicode-range:U+1F00-1FFF}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOmCnqEu92Fr1Mu4WxKKTU1Kvnz.woff2) format('woff2');unicode-range:U+0370-03FF}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOmCnqEu92Fr1Mu7WxKKTU1Kvnz.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOmCnqEu92Fr1Mu7GxKKTU1Kvnz.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOmCnqEu92Fr1Mu4mxKKTU1Kg.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Roboto';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOlCnqEu92Fr1MmEU9fCRc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Roboto';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOlCnqEu92Fr1MmEU9fABc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Roboto';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOlCnqEu92Fr1MmEU9fCBc4AMP6lbBP.woff2) format('woff2');unicode-range:U+1F00-1FFF}@font-face{font-family:'Roboto';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOlCnqEu92Fr1MmEU9fBxc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0370-03FF}@font-face{font-family:'Roboto';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOlCnqEu92Fr1MmEU9fCxc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Roboto';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOlCnqEu92Fr1MmEU9fChc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Roboto';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOlCnqEu92Fr1MmEU9fBBc4AMP6lQ.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}</style><style data-href="https://fonts.googleapis.com/css2?family=Roboto+Condensed:wght@300;400&display=swap">@font-face{font-family:'Roboto Condensed';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/robotocondensed/v25/ieVi2ZhZI2eCN5jzbjEETS9weq8-33mZKCA.woff) format('woff')}@font-face{font-family:'Roboto Condensed';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/robotocondensed/v25/ieVl2ZhZI2eCN5jzbjEETS9weq8-59Y.woff) format('woff')}@font-face{font-family:'Roboto Condensed';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/robotocondensed/v25/ieVi2ZhZI2eCN5jzbjEETS9weq8-33mZGCkYb9lecyVC4A.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Roboto Condensed';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/robotocondensed/v25/ieVi2ZhZI2eCN5jzbjEETS9weq8-33mZGCAYb9lecyVC4A.woff2) format('woff2');unicode-range:U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Roboto Condensed';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/robotocondensed/v25/ieVi2ZhZI2eCN5jzbjEETS9weq8-33mZGCgYb9lecyVC4A.woff2) format('woff2');unicode-range:U+1F00-1FFF}@font-face{font-family:'Roboto Condensed';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/robotocondensed/v25/ieVi2ZhZI2eCN5jzbjEETS9weq8-33mZGCcYb9lecyVC4A.woff2) format('woff2');unicode-range:U+0370-03FF}@font-face{font-family:'Roboto Condensed';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/robotocondensed/v25/ieVi2ZhZI2eCN5jzbjEETS9weq8-33mZGCsYb9lecyVC4A.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Roboto Condensed';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/robotocondensed/v25/ieVi2ZhZI2eCN5jzbjEETS9weq8-33mZGCoYb9lecyVC4A.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Roboto Condensed';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/robotocondensed/v25/ieVi2ZhZI2eCN5jzbjEETS9weq8-33mZGCQYb9lecyU.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Roboto Condensed';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/robotocondensed/v25/ieVl2ZhZI2eCN5jzbjEETS9weq8-19-7DQk6YvNkeg.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Roboto Condensed';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/robotocondensed/v25/ieVl2ZhZI2eCN5jzbjEETS9weq8-19a7DQk6YvNkeg.woff2) format('woff2');unicode-range:U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Roboto Condensed';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/robotocondensed/v25/ieVl2ZhZI2eCN5jzbjEETS9weq8-1967DQk6YvNkeg.woff2) format('woff2');unicode-range:U+1F00-1FFF}@font-face{font-family:'Roboto Condensed';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/robotocondensed/v25/ieVl2ZhZI2eCN5jzbjEETS9weq8-19G7DQk6YvNkeg.woff2) format('woff2');unicode-range:U+0370-03FF}@font-face{font-family:'Roboto Condensed';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/robotocondensed/v25/ieVl2ZhZI2eCN5jzbjEETS9weq8-1927DQk6YvNkeg.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Roboto Condensed';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/robotocondensed/v25/ieVl2ZhZI2eCN5jzbjEETS9weq8-19y7DQk6YvNkeg.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Roboto Condensed';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/robotocondensed/v25/ieVl2ZhZI2eCN5jzbjEETS9weq8-19K7DQk6YvM.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}</style><style data-href="https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@400&display=swap">@font-face{font-family:'Roboto Mono';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/robotomono/v21/L0xuDF4xlVMF-BfR8bXMIhJHg45mwgGEFl0_3vqPQA.woff) format('woff')}@font-face{font-family:'Roboto Mono';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/robotomono/v21/L0xuDF4xlVMF-BfR8bXMIhJHg45mwgGEFl0_3vq_SeW-AJi8SJQtQ4Y.woff) format('woff');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Roboto Mono';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/robotomono/v21/L0xuDF4xlVMF-BfR8bXMIhJHg45mwgGEFl0_3vq_QOW-AJi8SJQtQ4Y.woff) format('woff');unicode-range:U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Roboto Mono';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/robotomono/v21/L0xuDF4xlVMF-BfR8bXMIhJHg45mwgGEFl0_3vq_R-W-AJi8SJQtQ4Y.woff) format('woff');unicode-range:U+0370-03FF}@font-face{font-family:'Roboto Mono';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/robotomono/v21/L0xuDF4xlVMF-BfR8bXMIhJHg45mwgGEFl0_3vq_S-W-AJi8SJQtQ4Y.woff) format('woff');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Roboto Mono';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/robotomono/v21/L0xuDF4xlVMF-BfR8bXMIhJHg45mwgGEFl0_3vq_SuW-AJi8SJQtQ4Y.woff) format('woff');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Roboto Mono';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/robotomono/v21/L0xuDF4xlVMF-BfR8bXMIhJHg45mwgGEFl0_3vq_ROW-AJi8SJQt.woff) format('woff');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}</style></head><body data-build-time="2022-05-07T20:36:26.486Z" data-build-commit-id="415c7d3948a6fe269a2ea6644a754ea0c6a5d2e6" data-build-run-id="2287490170"><div id="__next"><main class="jsx-8eedb594ed1b4625 page docs"><header><div class="jsx-f705e145f931f504 navbar"><div class="jsx-f705e145f931f504 navbar-content container"><div class="jsx-f705e145f931f504 navbar-logo"><a class="jsx-f705e145f931f504" href="/"><img src="data:image/svg+xml,%3csvg version=&#x27;1.1&#x27; id=&#x27;Layer_1&#x27; xmlns=&#x27;http://www.w3.org/2000/svg&#x27; x=&#x27;0&#x27; y=&#x27;0&#x27; viewBox=&#x27;0 0 1232.6 315.2&#x27; style=&#x27;enable-background:new 0 0 1232.6 315.2&#x27; xml:space=&#x27;preserve&#x27;%3e%3cstyle%3e.st0%7bfill:%23782a91%7d%3c/style%3e%3cpath d=&#x27;M120.9 214.2 190.5 0h52.3l-98.5 273.8H98.2L0 0h52.1l68.8 214.2zm291.2-62.6H299.6v84.2H431v38H252V0h177.7v38.4H299.6V114h112.5v37.6zm83.7-113.2H546c16.5.3 29 4.4 37.3 12.4 8.3 8 12.5 19.4 12.5 34 0 14-4.5 25.1-13.5 33.2-9 8.1-21.6 12.1-37.6 12.1h-27.1v24.2l86.1 119.5h51v-2.4l-77.2-106.7c24.9-5.5 43.3-21.7 52.6-35.9 8.2-12.6 13.3-27.7 13.3-46 0-26.8-8.6-47.4-25.8-61.5C600.5 7.1 576.1 0 544.5 0h-96.3v273.8h47.6&#x27;/%3e%3cpath class=&#x27;st0&#x27; d=&#x27;m1052.3 157.7-41.5 62.7 29.7 53.4h85.1z&#x27;/%3e%3ccircle class=&#x27;st0&#x27; cx=&#x27;827.9&#x27; cy=&#x27;274.7&#x27; r=&#x27;40.5&#x27;/%3e%3cpath class=&#x27;st0&#x27; d=&#x27;m1037 0-47.6 74.2L949 0h-84l85.3 135.8-67.1 105.7c5.7 9.5 9.1 20.5 9.2 32.4h50.1L1121.3 0H1037z&#x27;/%3e%3cpath d=&#x27;M763.5 273.8c.1-9.9 2.5-19.2 6.6-27.5V38.4h85.4V0H638.2v38.4h84.6v235.4h40.7zm414-266.9h-15.3v42.2h-8.5V6.9h-15.2V0h39v6.9zM1193 0l14.2 37.7L1221.3 0h11v49.1h-8.5V32.9l.8-21.7-14.5 37.9h-6.1l-14.5-37.8.8 21.6v16.2h-8.5V0h11.2z&#x27;/%3e%3c/svg%3e" alt="Vert.x Logo" class="jsx-f705e145f931f504"/></a></div><div class="jsx-f705e145f931f504 navbar-collapse-button"><span class="jsx-f705e145f931f504"></span><span class="jsx-f705e145f931f504"></span><span class="jsx-f705e145f931f504"></span></div><div class="jsx-f705e145f931f504 navbar-right"><div class="jsx-f705e145f931f504 navbar-menu"><span class="jsx-f705e145f931f504 navbar-menu-item with-drop-down"><div class="jsx-6650573c8f14945d dropdown"><a class="jsx-6650573c8f14945d dropdown-title">Start<!-- --><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="6 9 12 15 18 9"></polyline></svg></a><ul class="jsx-6650573c8f14945d dropdown-menu"><a class="jsx-f705e145f931f504" href="/introduction-to-vertx-and-reactive/"><li class="jsx-400ec7965926e858 dropdown-item">Intro to reactive<!-- --></li></a><a class="jsx-f705e145f931f504" href="/get-started/"><li class="jsx-400ec7965926e858 dropdown-item">Get started<!-- --></li></a><a href="https://start.vertx.io/" target="_blank" rel="noreferrer" class="jsx-f705e145f931f504"><li class="jsx-400ec7965926e858 dropdown-item">App generator <!-- --><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="external-link-icon"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></svg></li></a></ul></div></span><a class="jsx-f705e145f931f504 navbar-menu-item" href="/docs/">Docs</a><span class="jsx-f705e145f931f504 navbar-menu-item with-drop-down"><div class="jsx-6650573c8f14945d dropdown"><a class="jsx-6650573c8f14945d dropdown-title">Resources<!-- --><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="6 9 12 15 18 9"></polyline></svg></a><ul class="jsx-6650573c8f14945d dropdown-menu"><a class="jsx-f705e145f931f504" href="/faq/"><li class="jsx-400ec7965926e858 dropdown-item">FAQ<!-- --></li></a><a class="jsx-f705e145f931f504" href="/channels/"><li class="jsx-400ec7965926e858 dropdown-item">Channels<!-- --></li></a><a href="https://how-to.vertx.io/" target="_blank" rel="noreferrer" class="jsx-f705e145f931f504"><li class="jsx-400ec7965926e858 dropdown-item">How-Tos <!-- --><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="external-link-icon"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></svg></li></a><a href="https://github.com/vert-x3/vertx-eventbus-bridge-clients" target="_blank" rel="noreferrer" class="jsx-f705e145f931f504"><li class="jsx-400ec7965926e858 dropdown-item">EventBus Bridge Clients <!-- --><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="external-link-icon"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></svg></li></a><a href="https://github.com/vert-x3/advanced-vertx-guide" target="_blank" rel="noreferrer" class="jsx-f705e145f931f504"><li class="jsx-400ec7965926e858 dropdown-item">Advanced Vert.x Guide <!-- --><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="external-link-icon"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></svg></li></a></ul></div></span><a class="jsx-f705e145f931f504 navbar-menu-item" href="/blog/">Blog</a><a class="jsx-f705e145f931f504 navbar-menu-item" href="/community/">Community</a></div><div class="jsx-f705e145f931f504 navbar-social"><span class="jsx-75cbc16d79a176fb "><a href="https://github.com/vert-x3/vertx-awesome" target="_blank" rel="noopener noreferrer" class="jsx-f705e145f931f504 navbar-social-link"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24" aria-label="List of awesome Vert.x projects"><title></title><path d="M24 11.438l-6.154-5.645-.865.944 5.128 4.7H1.895l5.128-4.705-.865-.943-6.154 5.649H0v3.72c0 1.683 1.62 3.053 3.61 3.053h3.795c1.99 0 3.61-1.37 3.61-3.051v-2.446h1.97v2.446c0 1.68 1.62 3.051 3.61 3.051h3.794c1.99 0 3.61-1.37 3.61-3.051v-3.721z"></path></svg></a></span><div class="jsx-75cbc16d79a176fb tooltip">Awesome Vert.x<!-- --><div data-popper-arrow="true" class="jsx-75cbc16d79a176fb tooltip-arrow"></div></div><span class="jsx-75cbc16d79a176fb "><a href="https://stackoverflow.com/questions/tagged/vert.x" target="_blank" rel="noopener noreferrer" class="jsx-f705e145f931f504 navbar-social-link"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24" aria-label="Stack Overflow questions related to Vert.x"><title></title><path d="M15.725 0l-1.72 1.277 6.39 8.588 1.716-1.277L15.725 0zm-3.94 3.418l-1.369 1.644 8.225 6.85 1.369-1.644-8.225-6.85zm-3.15 4.465l-.905 1.94 9.702 4.517.904-1.94-9.701-4.517zm-1.85 4.86l-.44 2.093 10.473 2.201.44-2.092-10.473-2.203zM1.89 15.47V24h19.19v-8.53h-2.133v6.397H4.021v-6.396H1.89zm4.265 2.133v2.13h10.66v-2.13H6.154Z"></path></svg></a></span><div class="jsx-75cbc16d79a176fb tooltip">Stack Overflow<!-- --><div data-popper-arrow="true" class="jsx-75cbc16d79a176fb tooltip-arrow"></div></div><span class="jsx-75cbc16d79a176fb "><a href="https://www.youtube.com/channel/UCGN6L3tRhs92Uer3c6VxOSA" target="_blank" rel="noopener noreferrer" class="jsx-f705e145f931f504 navbar-social-link"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24" aria-label="YouTube channel of Vert.x"><title></title><path d="M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"></path></svg></a></span><div class="jsx-75cbc16d79a176fb tooltip">YouTube<!-- --><div data-popper-arrow="true" class="jsx-75cbc16d79a176fb tooltip-arrow"></div></div><span class="jsx-75cbc16d79a176fb "><a href="https://discord.gg/KzEMwP2" target="_blank" rel="noopener noreferrer" class="jsx-f705e145f931f504 navbar-social-link"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24" aria-label="Eclipse Vert.x channel on Discord"><title></title><path d="M20.317 4.3698a19.7913 19.7913 0 00-4.8851-1.5152.0741.0741 0 00-.0785.0371c-.211.3753-.4447.8648-.6083 1.2495-1.8447-.2762-3.68-.2762-5.4868 0-.1636-.3933-.4058-.8742-.6177-1.2495a.077.077 0 00-.0785-.037 19.7363 19.7363 0 00-4.8852 1.515.0699.0699 0 00-.0321.0277C.5334 9.0458-.319 13.5799.0992 18.0578a.0824.0824 0 00.0312.0561c2.0528 1.5076 4.0413 2.4228 5.9929 3.0294a.0777.0777 0 00.0842-.0276c.4616-.6304.8731-1.2952 1.226-1.9942a.076.076 0 00-.0416-.1057c-.6528-.2476-1.2743-.5495-1.8722-.8923a.077.077 0 01-.0076-.1277c.1258-.0943.2517-.1923.3718-.2914a.0743.0743 0 01.0776-.0105c3.9278 1.7933 8.18 1.7933 12.0614 0a.0739.0739 0 01.0785.0095c.1202.099.246.1981.3728.2924a.077.077 0 01-.0066.1276 12.2986 12.2986 0 01-1.873.8914.0766.0766 0 00-.0407.1067c.3604.698.7719 1.3628 1.225 1.9932a.076.076 0 00.0842.0286c1.961-.6067 3.9495-1.5219 6.0023-3.0294a.077.077 0 00.0313-.0552c.5004-5.177-.8382-9.6739-3.5485-13.6604a.061.061 0 00-.0312-.0286zM8.02 15.3312c-1.1825 0-2.1569-1.0857-2.1569-2.419 0-1.3332.9555-2.4189 2.157-2.4189 1.2108 0 2.1757 1.0952 2.1568 2.419 0 1.3332-.9555 2.4189-2.1569 2.4189zm7.9748 0c-1.1825 0-2.1569-1.0857-2.1569-2.419 0-1.3332.9554-2.4189 2.1569-2.4189 1.2108 0 2.1757 1.0952 2.1568 2.419 0 1.3332-.946 2.4189-2.1568 2.4189Z"></path></svg></a></span><div class="jsx-75cbc16d79a176fb tooltip">Discord<!-- --><div data-popper-arrow="true" class="jsx-75cbc16d79a176fb tooltip-arrow"></div></div><span class="jsx-75cbc16d79a176fb "><a href="https://groups.google.com/forum/?fromgroups#!forum/vertx" target="_blank" rel="noopener noreferrer" class="jsx-f705e145f931f504 navbar-social-link"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24" aria-label="A Google group for Vert.x users"><title></title><path d="M.92 3.332c-.776 0-1.216.67-.692 1.383l2.537 4.403v7.86c0 2.013 1.467 3.69 3.459 3.69H20.31a3.75 3.75 0 003.69-3.69V7.043a3.723 3.723 0 00-3.668-3.71zm5.786 3.71H20.1c.587 0 1.153.357 1.153.923 0 .566-.566.922-1.153.922H6.706c-.587 0-1.153-.356-1.153-.922 0-.566.566-.923 1.153-.923zm0 3.69H20.1c.587 0 1.153.356 1.153.922 0 .566-.566.922-1.153.922H6.706c-.587 0-1.153-.356-1.153-.922 0-.566.566-.922 1.153-.922zm-.021 3.71h9.705c.587 0 1.153.356 1.153.922 0 .566-.566.923-1.153.923H6.685c-.587 0-1.153-.357-1.153-.923 0-.566.566-.922 1.153-.922Z"></path></svg></a></span><div class="jsx-75cbc16d79a176fb tooltip">Vert.x User Group<!-- --><div data-popper-arrow="true" class="jsx-75cbc16d79a176fb tooltip-arrow"></div></div></div></div></div></div></header><div class="jsx-8eedb594ed1b4625 page-content docs-content"><div class="jsx-8eedb594ed1b4625 container"><div class="jsx-8eedb594ed1b4625 docs-content-wrapper"><aside class="jsx-8eedb594ed1b4625 "><div class="jsx-8eedb594ed1b4625 docs-content-wrapper-sidebar"><div class="jsx-d1843944f2d67b search-panel"><div class="jsx-b8b24b20b287542e search"><input type="text" disabled="" class="jsx-b8b24b20b287542e autosuggest"/><input type="text" placeholder="Search..." class="jsx-b8b24b20b287542e" value=""/><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="search-icon"><circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line></svg><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="search-icon-delete"><circle cx="12" cy="12" r="10"></circle><line x1="15" y1="9" x2="9" y2="15"></line><line x1="9" y1="9" x2="15" y2="15"></line></svg></div><ul class="jsx-4a39f0db74e84d2d search-results"></ul><div class="jsx-4a39f0db74e84d2d search-results-none">No results.</div></div><div class="jsx-8eedb594ed1b4625 docs-content-toc"><div id="toc" class="toc">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_using_vert_x_service_proxies">Using Vert.x service proxies</a></li>
<li><a href="#_introduction_to_service_proxies">Introduction to service proxies</a></li>
<li><a href="#_async_interface">Async interface</a></li>
<li><a href="#_async_interface_with_callbacks">Async interface with callbacks</a></li>
<li><a href="#_security">Security</a></li>
<li><a href="#_code_generation">Code generation</a></li>
<li><a href="#_exposing_your_service">Exposing your service</a></li>
<li><a href="#_proxy_creation">Proxy creation</a></li>
<li><a href="#_error_handling">Error Handling</a></li>
<li><a href="#_restrictions_for_service_interface">Restrictions for service interface</a>
<ul class="sectlevel2">
<li><a href="#_data_types">Data types</a></li>
<li><a href="#_overloaded_methods">Overloaded methods</a></li>
</ul>
</li>
<li><a href="#_convention_for_invoking_services_over_the_event_bus_without_proxies">Convention for invoking services over the event bus (without proxies)</a></li>
</ul>
</div></div></div></aside><div class="jsx-8eedb594ed1b4625 docs-content-sidebar-toggle"><div style="position:relative" class="jsx-8eedb594ed1b4625"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-list"><line x1="8" y1="6" x2="21" y2="6"></line><line x1="8" y1="12" x2="21" y2="12"></line><line x1="8" y1="18" x2="21" y2="18"></line><line x1="3" y1="6" x2="3.01" y2="6"></line><line x1="3" y1="12" x2="3.01" y2="12"></line><line x1="3" y1="18" x2="3.01" y2="18"></line></svg><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-x"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg></div></div><div class="jsx-8eedb594ed1b4625 docs-content-inner"><div class="jsx-8eedb594ed1b4625 docs-content-metadata"><div class="jsx-8eedb594ed1b4625 docs-content-metadata-left"><div class="jsx-8eedb594ed1b4625 docs-content-metadata-repo"><div class="jsx-d38685edc31911e0 github-stars"><a href="https://github.com/vert-x3/vertx-service-proxy" class="jsx-d38685edc31911e0"><div class="jsx-d38685edc31911e0 icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path></svg></div> <!-- -->62 stars<!-- --></a></div></div><div class="jsx-8eedb594ed1b4625"><a href="/docs/apidocs" class="jsx-8eedb594ed1b4625"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather"><path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path><path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path></svg> API<!-- --></a></div><div class="jsx-8eedb594ed1b4625 docs-content-metadata-examples"><a href="https://github.com/vert-x3/vertx-examples/tree/4.x/service-proxy-examples"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather"><path d="M21.44 11.05l-9.19 9.19a6 6 0 0 1-8.49-8.49l9.19-9.19a4 4 0 0 1 5.66 5.66l-9.2 9.19a2 2 0 0 1-2.83-2.83l8.49-8.48"></path></svg> Examples<!-- --></a></div><div class="jsx-8eedb594ed1b4625 docs-content-metadata-edit"><a href="https://github.com/vert-x3/vertx-service-proxy/tree/master/src/main/asciidoc"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather"><path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path><path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path></svg> Edit<!-- --></a></div><span class="jsx-8eedb594ed1b4625 docs-content-metadata-version"><div class="jsx-6650573c8f14945d dropdown"><a class="jsx-6650573c8f14945d dropdown-title">v4.2.7<!-- --><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="6 9 12 15 18 9"></polyline></svg></a><ul class="jsx-6650573c8f14945d dropdown-menu align-right"><a href="/docs/vertx-service-proxy/java/"><li class="jsx-400ec7965926e858 dropdown-item active has-active-siblings"><span class="jsx-400ec7965926e858 dropdown-check-icon"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="20 6 9 17 4 12"></polyline></svg></span>Latest (v<!-- -->4.2.7<!-- -->)<!-- --></li></a><a href="/docs/4.1.8/vertx-service-proxy/java/"><li class="jsx-400ec7965926e858 dropdown-item has-active-siblings">v<!-- -->4.1.8<!-- --></li></a><a href="/docs/4.0.3/vertx-service-proxy/java/"><li class="jsx-400ec7965926e858 dropdown-item has-active-siblings">v<!-- -->4.0.3<!-- --></li></a><a href="/docs/3.9.13/vertx-service-proxy/java/"><li class="jsx-400ec7965926e858 dropdown-item has-active-siblings">v<!-- -->3.9.13<!-- --></li></a></ul></div></span></div></div><div class="jsx-8eedb594ed1b4625"><h1>Vert.x Service Proxy</h1>

<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>When you compose a Vert.x application, you may want to isolate a functionality somewhere and make it available to
the rest of your application. That&#8217;s the main purpose of service proxies. It lets you expose a <em>service</em> on the
event bus, so, any other Vert.x component can consume it, as soon as they know the <em>address</em> on which the service
is published.</p>
</div>
<div class="paragraph">
<p>A <em>service</em> is described with a Java interface containing methods following the <em>async pattern</em>. Under the hood,
messages are sent on the event bus to invoke the service and get the response back. But for ease of use,
it generates a <em>proxy</em> that you can invoke directly (using the API from the service interface).</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_using_vert_x_service_proxies"><a class="anchor" href="#_using_vert_x_service_proxies"></a>Using Vert.x service proxies</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To <strong>use</strong> Vert.x Service Proxies, add the following dependency to the <em>dependencies</em> section of
your build descriptor:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Maven (in your <code>pom.xml</code>):</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
 <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>io.vertx<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
 <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>vertx-service-proxy<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
 <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>4.2.5<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Gradle (in your <code>build.gradle</code> file):</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-groovy" data-lang="groovy">compile <span class="hljs-string">&#x27;io.vertx:vertx-service-proxy:4.2.5&#x27;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>To <strong>implement</strong> service proxies, also add:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Maven (in your <code>pom.xml</code>):</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
 <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>io.vertx<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
 <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>vertx-codegen<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
 <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>4.2.5<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
 <span class="hljs-tag">&lt;<span class="hljs-name">scope</span>&gt;</span>provided<span class="hljs-tag">&lt;/<span class="hljs-name">scope</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Gradle &lt; 5 (in your <code>build.gradle</code> file):</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-groovy" data-lang="groovy">compileOnly <span class="hljs-string">&#x27;io.vertx:vertx-codegen:4.2.5&#x27;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Gradle &gt;= 5 (in your <code>build.gradle</code> file):</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-groovy" data-lang="groovy">annotationProcessor <span class="hljs-string">&#x27;io.vertx:vertx-codegen:4.2.5:processor&#x27;</span>
annotationProcessor <span class="hljs-string">&#x27;io.vertx:vertx-service-proxy:4.2.5&#x27;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Be aware that as the service proxy mechanism relies on code generation, so modifications to the <em>service interface</em>
require to re-compile the sources to regenerate the code.</p>
</div>
<div class="paragraph">
<p>To generate the proxies in different languages, you will need to add the <em>language</em> dependency such as
<code>vertx-lang-groovy</code> for Groovy.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_introduction_to_service_proxies"><a class="anchor" href="#_introduction_to_service_proxies"></a>Introduction to service proxies</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Let&#8217;s have a look at service proxies and why they can be useful. Let&#8217;s imagine you have a <em>database service</em>
exposed on the event bus, you should do something like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java"><span class="hljs-type">JsonObject</span> <span class="hljs-variable">message</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">JsonObject</span>();

message
  .put(<span class="hljs-string">&quot;collection&quot;</span>, <span class="hljs-string">&quot;mycollection&quot;</span>)
  .put(<span class="hljs-string">&quot;document&quot;</span>, <span class="hljs-keyword">new</span> <span class="hljs-title class_">JsonObject</span>().put(<span class="hljs-string">&quot;name&quot;</span>, <span class="hljs-string">&quot;tim&quot;</span>));

<span class="hljs-type">DeliveryOptions</span> <span class="hljs-variable">options</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">DeliveryOptions</span>().addHeader(<span class="hljs-string">&quot;action&quot;</span>, <span class="hljs-string">&quot;save&quot;</span>);

vertx.eventBus()
  .request(<span class="hljs-string">&quot;database-service-address&quot;</span>, message, options)
  .onSuccess(msg -&gt; {
    <span class="hljs-comment">// done</span>
  }).onFailure(err -&gt; {
  <span class="hljs-comment">// failure</span>
});</code></pre>
</div>
</div>
<div class="paragraph">
<p>When creating a service there&#8217;s a certain amount of boilerplate code to listen on the event bus for incoming
messages, route them to the appropriate method and return results on the event bus.</p>
</div>
<div class="paragraph">
<p>With Vert.x service proxies, you can avoid writing all that boilerplate code and concentrate on writing your service.</p>
</div>
<div class="paragraph">
<p>You write your service as a Java interface and annotate it with the <code>@ProxyGen</code> annotation, for example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java"><span class="hljs-meta">@ProxyGen</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">SomeDatabaseService</span> {

 <span class="hljs-comment">// A couple of factory methods to create an instance and a proxy</span>
 <span class="hljs-keyword">static</span> SomeDatabaseService <span class="hljs-title function_">create</span><span class="hljs-params">(Vertx vertx)</span> {
   <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">SomeDatabaseServiceImpl</span>(vertx);
 }

 <span class="hljs-keyword">static</span> SomeDatabaseService <span class="hljs-title function_">createProxy</span><span class="hljs-params">(Vertx vertx,
   String address)</span> {
   <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">SomeDatabaseServiceVertxEBProxy</span>(vertx, address);
 }

<span class="hljs-comment">// Actual service operations here...</span>
<span class="hljs-keyword">void</span> <span class="hljs-title function_">save</span><span class="hljs-params">(String collection, JsonObject document,
  Handler&lt;AsyncResult&lt;Void&gt;&gt; resultHandler)</span>;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>You will also need a <code>package-info.java</code> file somewhere in (or above) the package your interface is defined in.
That package needs to be annotated with <code>@ModuleGen</code> so that Vert.x CodeGen can recognize your interfaces and generate
the appropriate EventBus proxy code.</p>
</div>
<div class="listingblock">
<div class="title">package-info.java</div>
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java"><span class="hljs-meta">@io</span>.vertx.codegen.annotations.ModuleGen(groupPackage = <span class="hljs-string">&quot;io.vertx.example&quot;</span>, name = <span class="hljs-string">&quot;services&quot;</span>, useFutures = <span class="hljs-literal">true</span>)
<span class="hljs-keyword">package</span> io.vertx.example;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Given the interface, Vert.x will generate all the boilerplate code required to access your service over the event
bus, and it will also generate a <strong>client side proxy</strong> for your service, so your clients can use a rich idiomatic
API for your service instead of having to manually craft event bus messages to send. The client side proxy will
work irrespective of where your service actually lives on the event bus (potentially on a different machine).</p>
</div>
<div class="paragraph">
<p>That means you can interact with your service like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java"><span class="hljs-type">SomeDatabaseService</span> <span class="hljs-variable">service</span> <span class="hljs-operator">=</span> SomeDatabaseService
  .createProxy(vertx, <span class="hljs-string">&quot;database-service-address&quot;</span>);

<span class="hljs-comment">// Save some data in the database - this time using the proxy</span>
service.save(
  <span class="hljs-string">&quot;mycollection&quot;</span>,
  <span class="hljs-keyword">new</span> <span class="hljs-title class_">JsonObject</span>().put(<span class="hljs-string">&quot;name&quot;</span>, <span class="hljs-string">&quot;tim&quot;</span>),
  res2 -&gt; {
    <span class="hljs-keyword">if</span> (res2.succeeded()) {
      <span class="hljs-comment">// done</span>
    }
  });</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can also combine <code>@ProxyGen</code> with language API code generation (<code>@VertxGen</code>) in order to create service stubs
in any of the languages supported by Vert.x - this means you can write your service once in Java and interact with it
through an idiomatic other language API irrespective of whether the service lives locally or is somewhere else on
the event bus entirely. For this don&#8217;t forget to add the dependency on your language in your build descriptor:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java"><span class="hljs-meta">@ProxyGen</span> <span class="hljs-comment">// Generate service proxies</span>
<span class="hljs-meta">@VertxGen</span> <span class="hljs-comment">// Generate the clients</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">SomeDatabaseService</span> {
 <span class="hljs-comment">// ...</span>
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_async_interface"><a class="anchor" href="#_async_interface"></a>Async interface</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To be used by the service-proxy generation, the <em>service interface</em> must comply to a couple of rules. First it
should follow the async pattern. To return a result, the method should declare a <code>Future&lt;ResultType&gt;</code> return type.
<code>ResultType</code> can be another proxy (and so a proxies can be factories for other proxies).</p>
</div>
<div class="paragraph">
<p>Let&#8217;s see an example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java"><span class="hljs-meta">@ProxyGen</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">SomeDatabaseService</span> {

<span class="hljs-comment">// A couple of factory methods to create an instance and a proxy</span>

<span class="hljs-keyword">static</span> SomeDatabaseService <span class="hljs-title function_">create</span><span class="hljs-params">(Vertx vertx)</span> {
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">SomeDatabaseServiceImpl</span>(vertx);
}

<span class="hljs-keyword">static</span> SomeDatabaseService <span class="hljs-title function_">createProxy</span><span class="hljs-params">(Vertx vertx, String address)</span> {
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">SomeDatabaseServiceVertxEBProxy</span>(vertx, address);
}

<span class="hljs-comment">// A method notifying the completion without a result (void)</span>
Future&lt;Void&gt; <span class="hljs-title function_">save</span><span class="hljs-params">(String collection, JsonObject document)</span>;

<span class="hljs-comment">// A method providing a result (a json object)</span>
Future&lt;JsonObject&gt; <span class="hljs-title function_">findOne</span><span class="hljs-params">(String collection, JsonObject query)</span>;

<span class="hljs-comment">// Create a connection</span>
Future&lt;MyDatabaseConnection&gt; <span class="hljs-title function_">createConnection</span><span class="hljs-params">(String shoeSize)</span>;

}</code></pre>
</div>
</div>
<div class="paragraph">
<p>with:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java"><span class="hljs-meta">@ProxyGen</span>
<span class="hljs-meta">@VertxGen</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">MyDatabaseConnection</span> {

<span class="hljs-keyword">void</span> <span class="hljs-title function_">insert</span><span class="hljs-params">(JsonObject someData)</span>;

Future&lt;Void&gt; <span class="hljs-title function_">commit</span><span class="hljs-params">()</span>;

<span class="hljs-meta">@ProxyClose</span>
<span class="hljs-keyword">void</span> <span class="hljs-title function_">close</span><span class="hljs-params">()</span>;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can also declare that a particular method unregisters the proxy by annotating it with the <code>@ProxyClose</code>
annotation. The proxy instance is disposed when this method is called.</p>
</div>
<div class="paragraph">
<p>More constraints on the <em>service interfaces</em> are described below.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_async_interface_with_callbacks"><a class="anchor" href="#_async_interface_with_callbacks"></a>Async interface with callbacks</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Until Vert.x 4.1, service async interfaces were defined by callbacks.</p>
</div>
<div class="paragraph">
<p>You can still create service async interface using callbacks, with this module declaration:</p>
</div>
<div class="listingblock">
<div class="title">package-info.java</div>
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java"><span class="hljs-meta">@io</span>.vertx.codegen.annotations.ModuleGen(groupPackage = <span class="hljs-string">&quot;io.vertx.example&quot;</span>, name = <span class="hljs-string">&quot;services&quot;</span>, useFutures = <span class="hljs-literal">false</span>)
<span class="hljs-keyword">package</span> io.vertx.example;</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
for backward compatibility, the default value of <code>useFutures</code> is <code>false</code> so you can also omit the declaration
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The service async interface with callbacks looks like:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java"><span class="hljs-meta">@ProxyGen</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">SomeDatabaseService</span> {

 <span class="hljs-comment">// A method notifying the completion without a result (void)</span>
 <span class="hljs-keyword">void</span> <span class="hljs-title function_">save</span><span class="hljs-params">(String collection, JsonObject document,
  Handler&lt;AsyncResult&lt;Void&gt;&gt; result)</span>;

 <span class="hljs-comment">// A method providing a result (a json object)</span>
 <span class="hljs-keyword">void</span> <span class="hljs-title function_">findOne</span><span class="hljs-params">(String collection, JsonObject query,
  Handler&lt;AsyncResult&lt;JsonObject&gt;&gt; result)</span>;

 <span class="hljs-comment">// Create a connection</span>
 <span class="hljs-keyword">void</span> <span class="hljs-title function_">createConnection</span><span class="hljs-params">(String shoeSize,
  Handler&lt;AsyncResult&lt;MyDatabaseConnection&gt;&gt; resultHandler)</span>;

}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Return types must be one of:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>void</code></p>
</li>
<li>
<p><code>@Fluent</code> and return reference to the service (<code>this</code>):</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java"><span class="hljs-meta">@Fluent</span>
SomeDatabaseService <span class="hljs-title function_">doSomething</span><span class="hljs-params">()</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>This is because methods must not block and it&#8217;s not possible to return a result immediately without blocking if
the service is remote.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_security"><a class="anchor" href="#_security"></a>Security</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Service proxies can perform basic security using a simple interceptor. A authentication provider must be provided,
optionally <code>Authorization`s can be added and in this case an `AuthorizationProvider</code> must also be present. Note that
the authentication works based on tokens, that are extracted from the <code>auth-token</code> header.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java"><span class="hljs-type">SomeDatabaseService</span> <span class="hljs-variable">service</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">SomeDatabaseServiceImpl</span>();
<span class="hljs-comment">// Register the handler</span>
<span class="hljs-keyword">new</span> <span class="hljs-title class_">ServiceBinder</span>(vertx)
  .setAddress(<span class="hljs-string">&quot;database-service-address&quot;</span>)
  <span class="hljs-comment">// Secure the messages in transit</span>
  .addInterceptor(
    <span class="hljs-keyword">new</span> <span class="hljs-title class_">ServiceAuthInterceptor</span>()
      <span class="hljs-comment">// Tokens will be validated using JWT authentication</span>
      .setAuthenticationProvider(JWTAuth.create(vertx, <span class="hljs-keyword">new</span> <span class="hljs-title class_">JWTAuthOptions</span>()))
      <span class="hljs-comment">// optionally we can secure permissions too:</span>

      <span class="hljs-comment">// an admin</span>
      .addAuthorization(RoleBasedAuthorization.create(<span class="hljs-string">&quot;admin&quot;</span>))
      <span class="hljs-comment">// that can print</span>
      .addAuthorization(PermissionBasedAuthorization.create(<span class="hljs-string">&quot;print&quot;</span>))

      <span class="hljs-comment">// where the authorizations are loaded, let&#x27;s assume from the token</span>
      <span class="hljs-comment">// but they could be loaded from a database or a file if needed</span>
      .setAuthorizationProvider(
        JWTAuthorization.create(<span class="hljs-string">&quot;permissions&quot;</span>)))

  .register(SomeDatabaseService.class, service);</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_code_generation"><a class="anchor" href="#_code_generation"></a>Code generation</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Service annotated with <code>@ProxyGen</code> annotation trigger the generation of the service helper classes:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The service proxy: a compile time generated proxy that uses the <code>EventBus</code> to interact with the service via messages</p>
</li>
<li>
<p>The service handler: a compile time generated <code>EventBus</code> handler that reacts to events sent by the proxy</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Generated proxies and handlers are named after the service class, for example if the service is named <code>MyService</code>
the handler is called <code>MyServiceProxyHandler</code> and the proxy is called <code>MyServiceEBProxy</code>.</p>
</div>
<div class="paragraph">
<p>In addition Vert.x Core provides a generator creating data object converters to ease data object usage in
service proxies. Such converter provides a basis for the <code>JsonObject</code> constructor and the <code>toJson()</code> method
that are necessary for using data objects in service proxies.</p>
</div>
<div class="paragraph">
<p>The <em>codegen</em> annotation processor generates these classes at compilation time. It is a feature of the Java
compiler so <em>no extra step</em> is required, it is just a matter of configuring correctly your build:</p>
</div>
<div class="paragraph">
<p>Just add the <code>io.vertx:vertx-codegen:processor</code> and <code>io.vertx:vertx-service-proxy</code>
dependencies to your build.</p>
</div>
<div class="paragraph">
<p>Here a configuration example for Maven:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
 <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>io.vertx<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
 <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>vertx-codegen<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
 <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>4.2.5<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
 <span class="hljs-tag">&lt;<span class="hljs-name">classifier</span>&gt;</span>processor<span class="hljs-tag">&lt;/<span class="hljs-name">classifier</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
 <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>io.vertx<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
 <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>vertx-service-proxy<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
 <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>4.2.5<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>This feature can also be used in Gradle:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>compile "io.vertx:vertx-codegen:4.2.5:processor"
compile "io.vertx:vertx-service-proxy:4.2.5"</code></pre>
</div>
</div>
<div class="paragraph">
<p>IDE provides usually support for annotation processors.</p>
</div>
<div class="paragraph">
<p>The codegen <code>processor</code> classifier adds to the jar the automatic configuration of the service proxy annotation processor
via the <code>META-INF/services</code> plugin mechanism.</p>
</div>
<div class="paragraph">
<p>If you want you can use it too with the regular jar but you need then to declare the annotation processor
explicitly, for instance in Maven:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">plugin</span>&gt;</span>
 <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>maven-compiler-plugin<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
 <span class="hljs-tag">&lt;<span class="hljs-name">configuration</span>&gt;</span>
   <span class="hljs-tag">&lt;<span class="hljs-name">annotationProcessors</span>&gt;</span>
     <span class="hljs-tag">&lt;<span class="hljs-name">annotationProcessor</span>&gt;</span>io.vertx.codegen.CodeGenProcessor<span class="hljs-tag">&lt;/<span class="hljs-name">annotationProcessor</span>&gt;</span>
   <span class="hljs-tag">&lt;/<span class="hljs-name">annotationProcessors</span>&gt;</span>
 <span class="hljs-tag">&lt;/<span class="hljs-name">configuration</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">plugin</span>&gt;</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_exposing_your_service"><a class="anchor" href="#_exposing_your_service"></a>Exposing your service</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Once you have your <em>service interface</em>, compile the source to generate the stub and proxies. Then, you need some
code to "register" your service on the event bus:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java"><span class="hljs-type">SomeDatabaseService</span> <span class="hljs-variable">service</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">SomeDatabaseServiceImpl</span>();
<span class="hljs-comment">// Register the handler</span>
<span class="hljs-keyword">new</span> <span class="hljs-title class_">ServiceBinder</span>(vertx)
  .setAddress(<span class="hljs-string">&quot;database-service-address&quot;</span>)
  .register(SomeDatabaseService.class, service);</code></pre>
</div>
</div>
<div class="paragraph">
<p>This can be done in a verticle, or anywhere in your code.</p>
</div>
<div class="paragraph">
<p>Once registered, the service becomes accessible. If you are running your application on a cluster, the service is
available from any host.</p>
</div>
<div class="paragraph">
<p>To withdraw your service, use the <code><a href="../../apidocs/io/vertx/serviceproxy/ServiceBinder.html#unregister-io.vertx.core.eventbus.MessageConsumer-">unregister</a></code>
method:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java"><span class="hljs-type">ServiceBinder</span> <span class="hljs-variable">binder</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ServiceBinder</span>(vertx);

<span class="hljs-comment">// Create an instance of your service implementation</span>
<span class="hljs-type">SomeDatabaseService</span> <span class="hljs-variable">service</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">SomeDatabaseServiceImpl</span>();
<span class="hljs-comment">// Register the handler</span>
MessageConsumer&lt;JsonObject&gt; consumer = binder
  .setAddress(<span class="hljs-string">&quot;database-service-address&quot;</span>)
  .register(SomeDatabaseService.class, service);

<span class="hljs-comment">// ....</span>

<span class="hljs-comment">// Unregister your service.</span>
binder.unregister(consumer);</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_proxy_creation"><a class="anchor" href="#_proxy_creation"></a>Proxy creation</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Now that the service is exposed, you probably want to consume it. For this, you need to create a proxy. The proxy
can be created using the <code><a href="../../apidocs/io/vertx/serviceproxy/ServiceProxyBuilder.html">ServiceProxyBuilder</a></code> class:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java"><span class="hljs-type">ServiceProxyBuilder</span> <span class="hljs-variable">builder</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ServiceProxyBuilder</span>(vertx)
  .setAddress(<span class="hljs-string">&quot;database-service-address&quot;</span>);

<span class="hljs-type">SomeDatabaseService</span> <span class="hljs-variable">service</span> <span class="hljs-operator">=</span> builder.build(SomeDatabaseService.class);
<span class="hljs-comment">// or with delivery options:</span>
<span class="hljs-type">SomeDatabaseService</span> <span class="hljs-variable">service2</span> <span class="hljs-operator">=</span> builder.setOptions(options)
  .build(SomeDatabaseService.class);</code></pre>
</div>
</div>
<div class="paragraph">
<p>The second method takes an instance of <code><a href="../../apidocs/io/vertx/core/eventbus/DeliveryOptions.html">DeliveryOptions</a></code> where you can configure the
message delivery (such as the timeout).</p>
</div>
<div class="paragraph">
<p>Alternatively, you can use the generated proxy class. The proxy class name is the <em>service interface</em> class name
followed by <code>VertxEBProxy</code>. For instance, if your <em>service interface</em> is named <code>SomeDatabaseService</code>, the proxy
class is named <code>SomeDatabaseServiceVertxEBProxy</code>.</p>
</div>
<div class="paragraph">
<p>Generally, <em>service interface</em> contains a <code>createProxy</code> static method to create the proxy. But this is not required:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java"><span class="hljs-meta">@ProxyGen</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">SomeDatabaseService</span> {

<span class="hljs-comment">// Method to create the proxy.</span>
<span class="hljs-keyword">static</span> SomeDatabaseService <span class="hljs-title function_">createProxy</span><span class="hljs-params">(Vertx vertx, String address)</span> {
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">SomeDatabaseServiceVertxEBProxy</span>(vertx, address);
}

<span class="hljs-comment">// ...</span>
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_error_handling"><a class="anchor" href="#_error_handling"></a>Error Handling</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Service methods may return errors to the client by passing a failed <code>Future</code> containing a <code><a href="../../apidocs/io/vertx/serviceproxy/ServiceException.html">ServiceException</a></code>
instance to the method&#8217;s <code>Handler</code>. A <code>ServiceException</code> contains an <code>int</code> failure code, a message, and an optional
<code>JsonObject</code> containing any extra information deemed important to return to the caller. For convenience, the
<code><a href="../../apidocs/io/vertx/serviceproxy/ServiceException.html#fail-int-java.lang.String-">ServiceException.fail</a></code> factory method can be used to create an instance of
<code>ServiceException</code> already wrapped in a failed <code>Future</code>. For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">SomeDatabaseServiceImpl</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">SomeDatabaseService</span> {

 <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-type">final</span> <span class="hljs-variable">BAD_SHOE_SIZE</span> <span class="hljs-operator">=</span> <span class="hljs-number">42</span>;
 <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-type">final</span> <span class="hljs-variable">CONNECTION_FAILED</span> <span class="hljs-operator">=</span> <span class="hljs-number">43</span>;

 <span class="hljs-comment">// Create a connection</span>
 <span class="hljs-keyword">public</span> Future&lt;MyDatabaseConnection&gt; <span class="hljs-title function_">createConnection</span><span class="hljs-params">(String shoeSize)</span> {
   <span class="hljs-keyword">if</span> (!shoeSize.equals(<span class="hljs-string">&quot;9&quot;</span>)) {
     <span class="hljs-keyword">return</span> Future.failedFuture(ServiceException.fail(BAD_SHOE_SIZE, <span class="hljs-string">&quot;The shoe size must be 9!&quot;</span>,
       <span class="hljs-keyword">new</span> <span class="hljs-title class_">JsonObject</span>().put(<span class="hljs-string">&quot;shoeSize&quot;</span>, shoeSize)));
    } <span class="hljs-keyword">else</span> {
       <span class="hljs-keyword">return</span> doDbConnection().recover(err -&gt; Future.failedFuture(ServiceException.fail(CONNECTION_FAILED, result.cause().getMessage())));
    }
 }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The client side can then check if the <code>Throwable</code> it receives from a failed <code>Future</code> is a <code>ServiceException</code>,
and if so, check the specific error code inside. It can use this information to differentiate business logic
errors from system errors (like the service not being registered with the Event Bus), and to determine exactly
which business logic error occurred.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java"><span class="hljs-keyword">public</span> Future&lt;JsonObject&gt; <span class="hljs-title function_">foo</span><span class="hljs-params">(String shoeSize)</span> {
 <span class="hljs-type">SomeDatabaseService</span> <span class="hljs-variable">service</span> <span class="hljs-operator">=</span> SomeDatabaseService.createProxy(vertx, SERVICE_ADDRESS);
 server.createConnection(<span class="hljs-string">&quot;8&quot;</span>)
   .compose(connection -&gt; {
     <span class="hljs-comment">// Do success stuff.</span>
     <span class="hljs-keyword">return</span> doSuccessStuff(connection);
   })
   .recover(err -&gt; {
     <span class="hljs-keyword">if</span> (err <span class="hljs-keyword">instanceof</span> ServiceException) {
       <span class="hljs-type">ServiceException</span> <span class="hljs-variable">exc</span> <span class="hljs-operator">=</span> (ServiceException) err;
       <span class="hljs-keyword">if</span> (exc.failureCode() == SomeDatabaseServiceImpl.BAD_SHOE_SIZE) {
         <span class="hljs-keyword">return</span> Future.failedFuture(
           <span class="hljs-keyword">new</span> <span class="hljs-title class_">InvalidInputError</span>(<span class="hljs-string">&quot;You provided a bad shoe size: &quot;</span> +
             exc.getDebugInfo().getString(<span class="hljs-string">&quot;shoeSize&quot;</span>)));
       } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (exc.failureCode() == SomeDatabaseServiceImpl.CONNECTION) {
         <span class="hljs-keyword">return</span> Future.failedFuture(<span class="hljs-keyword">new</span> <span class="hljs-title class_">ConnectionError</span>(<span class="hljs-string">&quot;Failed to connect to the DB&quot;</span>));
       }
     } <span class="hljs-keyword">else</span> {
       <span class="hljs-comment">// Must be a system error (e.g. No service registered for the proxy)</span>
       <span class="hljs-keyword">return</span> Future.failedFuture(<span class="hljs-keyword">new</span> <span class="hljs-title class_">SystemError</span>(<span class="hljs-string">&quot;An unexpected error occurred: + &quot;</span> result.cause().getMessage()));
     }
   });
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>If desired, service implementations may also return a sub-class of <code>ServiceException</code>, as long as a
default <code>MessageCodec</code> is registered for it . For example, given the following <code>ServiceException</code> sub-class:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java"><span class="hljs-keyword">class</span> <span class="hljs-title class_">ShoeSizeException</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">ServiceException</span> {
 <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-type">final</span> <span class="hljs-variable">BAD_SHOE_SIZE_ERROR</span> <span class="hljs-operator">=</span> <span class="hljs-number">42</span>;

 <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> String shoeSize;

 <span class="hljs-keyword">public</span> <span class="hljs-title function_">ShoeSizeException</span><span class="hljs-params">(String shoeSize)</span> {
   <span class="hljs-built_in">super</span>(BAD_SHOE_SIZE_ERROR, <span class="hljs-string">&quot;In invalid shoe size was received: &quot;</span> + shoeSize);
   <span class="hljs-built_in">this</span>.shoeSize = shoeSize;
 }

 <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getShoeSize</span><span class="hljs-params">()</span> {
   <span class="hljs-keyword">return</span> extra;
 }

 <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> &lt;T&gt; Future&lt;T&gt; <span class="hljs-title function_">fail</span><span class="hljs-params">(<span class="hljs-type">int</span> failureCode, String message, String shoeSize)</span> {
   <span class="hljs-keyword">return</span> Future.failedFuture(<span class="hljs-keyword">new</span> <span class="hljs-title class_">MyServiceException</span>(failureCode, message, shoeSize));
 }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>As long as a default <code>MessageCodec</code> is registered, the Service implementation can return the custom
exception directly to the caller:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">SomeDatabaseServiceImpl</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">SomeDatabaseService</span> {
 <span class="hljs-keyword">public</span> <span class="hljs-title function_">SomeDataBaseServiceImpl</span><span class="hljs-params">(Vertx vertx)</span> {
   <span class="hljs-comment">// Register on the service side. If using a local event bus, this is all</span>
   <span class="hljs-comment">// that&#x27;s required, since the proxy side will share the same Vertx instance.</span>
 <span class="hljs-type">SomeDatabaseService</span> <span class="hljs-variable">service</span> <span class="hljs-operator">=</span> SomeDatabaseService.createProxy(vertx, SERVICE_ADDRESS);
   vertx.eventBus().registerDefaultCodec(ShoeSizeException.class,
     <span class="hljs-keyword">new</span> <span class="hljs-title class_">ShoeSizeExceptionMessageCodec</span>());
 }

 <span class="hljs-comment">// Create a connection</span>
 Future&lt;MyDatabaseConnection&gt; <span class="hljs-title function_">createConnection</span><span class="hljs-params">(String shoeSize)</span> {
   <span class="hljs-keyword">if</span> (!shoeSize.equals(<span class="hljs-string">&quot;9&quot;</span>)) {
     <span class="hljs-keyword">return</span> ShoeSizeException.fail(shoeSize);
   } <span class="hljs-keyword">else</span> {
     <span class="hljs-comment">// Create the connection here</span>
     <span class="hljs-keyword">return</span> Future.succeededFuture(myDbConnection);
   }
 }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Finally, the client can now check for the custom exception:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java"><span class="hljs-keyword">public</span> Future&lt;JsonObject&gt; <span class="hljs-title function_">foo</span><span class="hljs-params">(String shoeSize)</span> {
 <span class="hljs-comment">// If this code is running on a different node in the cluster, the</span>
 <span class="hljs-comment">// ShoeSizeExceptionMessageCodec will need to be registered with the</span>
 <span class="hljs-comment">// Vertx instance on this node, too.</span>
 <span class="hljs-type">SomeDatabaseService</span> <span class="hljs-variable">service</span> <span class="hljs-operator">=</span> SomeDatabaseService.createProxy(vertx, SERVICE_ADDRESS);
 service.createConnection(<span class="hljs-string">&quot;8&quot;</span>)
   .compose(connection -&gt; {
     <span class="hljs-comment">// Do success stuff.</span>
     <span class="hljs-keyword">return</span> doSuccessStuff(connection);
   })
   .recover(err -&gt; {
     <span class="hljs-keyword">if</span> (result.cause() <span class="hljs-keyword">instanceof</span> ShoeSizeException) {
       <span class="hljs-type">ShoeSizeException</span> <span class="hljs-variable">exc</span> <span class="hljs-operator">=</span> (ShoeSizeException) result.cause();
       <span class="hljs-keyword">return</span> Future.failedFuture(
         <span class="hljs-keyword">new</span> <span class="hljs-title class_">InvalidInputError</span>(<span class="hljs-string">&quot;You provided a bad shoe size: &quot;</span> + exc.getShoeSize()));
     } <span class="hljs-keyword">else</span> {
       <span class="hljs-comment">// Must be a system error (e.g. No service registered for the proxy)</span>
       <span class="hljs-keyword">return</span> Future.failedFuture(
         <span class="hljs-keyword">new</span> <span class="hljs-title class_">SystemError</span>(<span class="hljs-string">&quot;An unexpected error occurred: + &quot;</span> result.cause().getMessage())
       );
     }
   });
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Note that if you&#8217;re clustering <code>Vertx</code> instances, you&#8217;ll need to register the custom Exception&#8217;s <code>MessageCodec</code>
with each <code>Vertx</code> instance in the cluster.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_restrictions_for_service_interface"><a class="anchor" href="#_restrictions_for_service_interface"></a>Restrictions for service interface</h2>
<div class="sectionbody">
<div class="paragraph">
<p>There are restrictions on the types and return values that can be used in a service method so that these are easy to
marshall over event bus messages and so they can be used asynchronously. They are:</p>
</div>
<div class="sect2">
<h3 id="_data_types"><a class="anchor" href="#_data_types"></a>Data types</h3>
<div class="paragraph">
<p>Let <code>JSON</code> = <code>JsonObject | JsonArray</code>
Let <code>PRIMITIVE</code> = Any primitive type or boxed primitive type</p>
</div>
<div class="paragraph">
<p>Parameters can be any of:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>JSON</code></p>
</li>
<li>
<p><code>PRIMITIVE</code></p>
</li>
<li>
<p><code>List&lt;JSON&gt;</code></p>
</li>
<li>
<p><code>List&lt;PRIMITIVE&gt;</code></p>
</li>
<li>
<p><code>Set&lt;JSON&gt;</code></p>
</li>
<li>
<p><code>Set&lt;PRIMITIVE&gt;</code></p>
</li>
<li>
<p><code>Map&lt;String, JSON&gt;</code></p>
</li>
<li>
<p><code>Map&lt;String, PRIMITIVE&gt;</code></p>
</li>
<li>
<p>Any <em>Enum</em> type</p>
</li>
<li>
<p>Any class annotated with <code>@DataObject</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Asynchronous results are modelled as</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>Future&lt;R&gt;</code></p>
</li>
<li>
<p><code>Handler&lt;AsyncResult&lt;R&gt;&gt;</code> for callback style</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><code>R</code> can be any of:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>JSON</code></p>
</li>
<li>
<p><code>PRIMITIVE</code></p>
</li>
<li>
<p><code>List&lt;JSON&gt;</code></p>
</li>
<li>
<p><code>List&lt;PRIMITIVE&gt;</code></p>
</li>
<li>
<p><code>Set&lt;JSON&gt;</code></p>
</li>
<li>
<p><code>Set&lt;PRIMITIVE&gt;</code></p>
</li>
<li>
<p>Any <em>Enum</em> type</p>
</li>
<li>
<p>Any class annotated with <code>@DataObject</code></p>
</li>
<li>
<p>Another proxy</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_overloaded_methods"><a class="anchor" href="#_overloaded_methods"></a>Overloaded methods</h3>
<div class="paragraph">
<p>There must be no overloaded service methods. (<em>i.e.</em> more than one with the same name, regardless the signature).</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_convention_for_invoking_services_over_the_event_bus_without_proxies"><a class="anchor" href="#_convention_for_invoking_services_over_the_event_bus_without_proxies"></a>Convention for invoking services over the event bus (without proxies)</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Service Proxies assume that event bus messages follow a certain format so they can be used to invoke services.</p>
</div>
<div class="paragraph">
<p>Of course, you don&#8217;t <strong>have to</strong> use client proxies to access remote service if you don&#8217;t want to. It&#8217;s perfectly acceptable
to interact with them by just sending messages over the event bus.</p>
</div>
<div class="paragraph">
<p>In order for services to be interacted with a consistent way the following message formats <strong>must be used</strong> for any
Vert.x services.</p>
</div>
<div class="paragraph">
<p>The format is very simple:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>There should be a header called <code>action</code> which gives the name of the action to perform.</p>
</li>
<li>
<p>The body of the message should be a <code>JsonObject</code>, there should be one field in the object for each argument needed by the action.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For example to invoke an action called <code>save</code> which expects a String collection and a JsonObject document:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>Headers:
   "action": "save"
Body:
   {
       "collection", "mycollection",
       "document", {
           "name": "tim"
       }
   }</pre>
</div>
</div>
<div class="paragraph">
<p>The above convention should be used whether or not service proxies are used to create services, as it allows services
to be interacted with consistently.</p>
</div>
<div class="paragraph">
<p>In the case where service proxies are used the "action" value should map to the name of an action method in the
service interface and each <code>[key, value]</code> in the body should map to a <code>[arg_name, arg_value]</code> in the action method.</p>
</div>
<div class="paragraph">
<p>For return values the service should use the <code>message.reply(&#8230;&#8203;)</code> method to send back a return value - this can be of
any type supported by the event bus. To signal a failure the method <code>message.fail(&#8230;&#8203;)</code> should be used.</p>
</div>
<div class="paragraph">
<p>If you are using service proxies the generated code will handle this for you automatically.</p>
</div>
</div>
</div></div></div></div></div></div><footer class="jsx-3acb63b44722e9f1"><div class="jsx-3acb63b44722e9f1 container"><div class="jsx-3acb63b44722e9f1 footer-nav-section"><div class="jsx-3acb63b44722e9f1 footer-nav-list footer-logo"><a class="jsx-3acb63b44722e9f1" href="/"><img src="data:image/svg+xml,%3csvg version=&#x27;1.1&#x27; id=&#x27;Layer_1&#x27; xmlns=&#x27;http://www.w3.org/2000/svg&#x27; x=&#x27;0&#x27; y=&#x27;0&#x27; viewBox=&#x27;0 0 1232.6 315.2&#x27; style=&#x27;enable-background:new 0 0 1232.6 315.2&#x27; xml:space=&#x27;preserve&#x27;%3e%3cstyle%3e.st0%7bfill:%23782a91%7d%3c/style%3e%3cpath d=&#x27;M120.9 214.2 190.5 0h52.3l-98.5 273.8H98.2L0 0h52.1l68.8 214.2zm291.2-62.6H299.6v84.2H431v38H252V0h177.7v38.4H299.6V114h112.5v37.6zm83.7-113.2H546c16.5.3 29 4.4 37.3 12.4 8.3 8 12.5 19.4 12.5 34 0 14-4.5 25.1-13.5 33.2-9 8.1-21.6 12.1-37.6 12.1h-27.1v24.2l86.1 119.5h51v-2.4l-77.2-106.7c24.9-5.5 43.3-21.7 52.6-35.9 8.2-12.6 13.3-27.7 13.3-46 0-26.8-8.6-47.4-25.8-61.5C600.5 7.1 576.1 0 544.5 0h-96.3v273.8h47.6&#x27;/%3e%3cpath class=&#x27;st0&#x27; d=&#x27;m1052.3 157.7-41.5 62.7 29.7 53.4h85.1z&#x27;/%3e%3ccircle class=&#x27;st0&#x27; cx=&#x27;827.9&#x27; cy=&#x27;274.7&#x27; r=&#x27;40.5&#x27;/%3e%3cpath class=&#x27;st0&#x27; d=&#x27;m1037 0-47.6 74.2L949 0h-84l85.3 135.8-67.1 105.7c5.7 9.5 9.1 20.5 9.2 32.4h50.1L1121.3 0H1037z&#x27;/%3e%3cpath d=&#x27;M763.5 273.8c.1-9.9 2.5-19.2 6.6-27.5V38.4h85.4V0H638.2v38.4h84.6v235.4h40.7zm414-266.9h-15.3v42.2h-8.5V6.9h-15.2V0h39v6.9zM1193 0l14.2 37.7L1221.3 0h11v49.1h-8.5V32.9l.8-21.7-14.5 37.9h-6.1l-14.5-37.8.8 21.6v16.2h-8.5V0h11.2z&#x27;/%3e%3c/svg%3e" alt="Vert.x Logo" class="jsx-3acb63b44722e9f1"/></a></div><div class="jsx-3acb63b44722e9f1 footer-nav-list"><h5 class="jsx-3acb63b44722e9f1">Eclipse Vert.x</h5><ul class="jsx-3acb63b44722e9f1 "><li class="jsx-3acb63b44722e9f1"><a class="jsx-3acb63b44722e9f1 navbar-menu-item" href="/docs/">Docs</a></li><li class="jsx-3acb63b44722e9f1"><a class="jsx-3acb63b44722e9f1" href="/download/">Download</a></li><li class="jsx-3acb63b44722e9f1"><a class="jsx-3acb63b44722e9f1" href="/blog/">Blog</a></li><li class="jsx-3acb63b44722e9f1"><a class="jsx-3acb63b44722e9f1" href="/community/">Community</a></li><li class="jsx-3acb63b44722e9f1"><a href="https://github.com/eclipse-vertx/vert.x" class="jsx-3acb63b44722e9f1">GitHub</a></li></ul></div><div class="jsx-3acb63b44722e9f1 footer-nav-list"><h5 class="jsx-3acb63b44722e9f1">Resources</h5><ul class="jsx-3acb63b44722e9f1 "><li class="jsx-3acb63b44722e9f1"><a class="jsx-3acb63b44722e9f1" href="/faq/">FAQ</a></li><li class="jsx-3acb63b44722e9f1"><a class="jsx-3acb63b44722e9f1" href="/channels/">Channels</a></li><li class="jsx-3acb63b44722e9f1"><a href="https://how-to.vertx.io/" class="jsx-3acb63b44722e9f1">How-Tos</a></li><li class="jsx-3acb63b44722e9f1"><a href="https://start.vertx.io/" class="jsx-3acb63b44722e9f1">App Generator</a></li><li class="jsx-3acb63b44722e9f1"><a href="/.well-known/security.txt" class="jsx-3acb63b44722e9f1">security.txt</a></li></ul></div><div class="jsx-3acb63b44722e9f1 footer-nav-list"><h5 class="jsx-3acb63b44722e9f1">Eclipse</h5><ul class="jsx-3acb63b44722e9f1 "><li class="jsx-3acb63b44722e9f1"><a href="https://www.eclipse.org/" class="jsx-3acb63b44722e9f1">Eclipse Foundation</a></li><li class="jsx-3acb63b44722e9f1"><a href="https://www.eclipse.org/legal/privacy.php" class="jsx-3acb63b44722e9f1">Privacy Policy</a></li><li class="jsx-3acb63b44722e9f1"><a href="https://www.eclipse.org/legal/termsofuse.php" class="jsx-3acb63b44722e9f1">Terms of Use</a></li><li class="jsx-3acb63b44722e9f1"><a href="https://www.eclipse.org/legal/copyright.php" class="jsx-3acb63b44722e9f1">Copyright Agent</a></li><li class="jsx-3acb63b44722e9f1"><a href="https://www.eclipse.org/legal/" class="jsx-3acb63b44722e9f1">Legal Resources</a></li></ul></div></div><div class="jsx-3acb63b44722e9f1 footer-copyright"><div class="jsx-3acb63b44722e9f1 footer-copyright-remarks"> <!-- -->2022<!-- --> Eclipse Vert.x<!-- --><br class="jsx-3acb63b44722e9f1"/>Eclipse Vert.x is open source and dual-licensed under the <!-- --><a href="https://creativecommons.org/licenses/by-sa/3.0/" target="_blank" rel="noopener noreferrer" class="jsx-3acb63b44722e9f1">Eclipse Public License 2.0</a> and the <!-- --><a href="https://www.apache.org/licenses/LICENSE-2.0.html" target="_blank" rel="noopener noreferrer" class="jsx-3acb63b44722e9f1">Apache License 2.0</a>. <!-- --><br class="jsx-3acb63b44722e9f1 footer-copyright-break"/>Website design by <!-- --><a href="https://michelkraemer.com" target="_blank" rel="noopener noreferrer" class="jsx-3acb63b44722e9f1">Michel Krmer</a>.<!-- --></div><div class="jsx-3acb63b44722e9f1 footer-copyright-eclipse-logo"><a href="https://www.eclipse.org/" target="_blank" rel="noopener noreferrer" class="jsx-3acb63b44722e9f1"><img src="data:image/svg+xml,%3csvg version=&#x27;1.1&#x27; id=&#x27;Layer_1&#x27; xmlns=&#x27;http://www.w3.org/2000/svg&#x27; x=&#x27;0&#x27; y=&#x27;0&#x27; viewBox=&#x27;0 0 281.3 91.1&#x27; style=&#x27;enable-background:new 0 0 281.3 91.1&#x27; xml:space=&#x27;preserve&#x27;%3e%3cstyle%3e.st0%7bfill:%23f79422%7d.st1%7bfill:%233d3c3b%7d%3c/style%3e%3cg id=&#x27;Layer_1_1_&#x27;%3e%3cpath class=&#x27;st0&#x27; d=&#x27;M265.7 84 257 73h-2.7v17.7h3.3v-12l9.3 12h2.1V73h-3.3v11zm-32.4-8.3c4.2 0 5.8 3.3 5.8 6.3s-1.6 6-5.8 6-5.7-3.1-5.8-6 1.7-6.3 5.8-6.3zm0-3c-6.1 0-9.1 4.7-9.1 9.3 0 4.7 2.9 9.1 9.1 9.1s9-4.6 9.1-9.2-3-9.2-9.1-9.2zm-21.2 18V73h-3.3v17.7h3.3zm-23.6 0h3.3V76h5.6v-3h-14.6v3h5.6l.1 14.7zm-18.9-6.5H163l3.3-7.6 3.3 7.6zm2.8 6.5h3.6L168.2 73h-3.6l-8 17.7h3.6l1.5-3.3h9.3l1.4 3.3zm-38-14.6h3.6c3.9 0 5.5 2.8 5.5 5.5.1 2.8-1.5 5.8-5.5 5.8h-3.6V76.1zm3.7-3.1h-6.9v17.7h6.9c6.2 0 8.9-4.5 8.9-9s-2.8-8.7-8.9-8.7zm-22.4 11L107 73h-2.7v17.7h3.3v-12l9.3 12h2.1V73h-3.3v11zM88.2 73v10.2c0 3-1.6 4.9-4.3 4.9s-4.6-1.7-4.6-4.9V73H76v10.1c0 5.3 3.6 7.9 7.9 7.9 4.4 0 7.7-2.7 7.7-7.9V73h-3.4zm-33 2.7c4.2 0 5.8 3.3 5.8 6.3s-1.6 6-5.8 6-5.7-3.1-5.8-6 1.7-6.3 5.8-6.3zm0-3c-6.1 0-9.1 4.7-9.1 9.3s2.9 9.1 9.1 9.1 9-4.6 9.1-9.2-3-9.2-9.1-9.2zm-29.7 18v-6.5h8.9v-3.1h-8.9v-4.8h9.4V73H22.2v17.6h3.3z&#x27;/%3e%3cpath class=&#x27;st1&#x27; d=&#x27;M269.4 54.4h-22.2v-8.9h21.4v-6.9h-21.4v-9.1h22.2v-7.2h-29.6v39.5h29.6v-7.4zm-40-25.6c-3-6.1-9.4-7.8-15.5-7.8-7.3 0-15.3 3.4-15.3 11.5 0 8.9 7.4 11 15.5 12 5.2.6 9.1 2.1 9.1 5.8 0 4.3-4.4 5.9-9.1 5.9s-9.4-1.9-11.1-6.3l-6.2 3.2c2.9 7.2 9.1 9.7 17.2 9.7 8.8 0 16.6-3.8 16.6-12.6 0-9.4-7.7-11.6-15.9-12.6-4.7-.6-8.8-1.5-8.8-5 0-2.9 2.6-5.2 8.2-5.2 4.3 0 8 2.2 9.4 4.4l5.9-3zM176 22.2c-6.2-.1-12.4 0-18.6 0v39.5h7.4V50.1H176c19.4 0 19.4-27.9 0-27.9zm-11.1 7.1H176c9.5 0 9.5 14 0 14h-11.2l.1-14zm-18 32.5V22.2h-7.4v39.5l7.4.1zm-44-39.6v39.5h27.7v-6.9h-20.3V22.2h-7.4zM90.7 51.7c-2.7 2.5-6.2 4-9.9 4-9.8 0-13.5-6.8-13.6-13.4s4.1-13.7 13.6-13.7c3.5-.1 7 1.3 9.5 3.7l5-4.8c-3.8-3.9-9.1-6-14.5-6-14.3 0-21 10.5-20.9 20.8s6.3 20.3 20.9 20.3c5.6.1 11-2 15-5.9l-5.1-5zm-39 2.7H29.5v-8.9h21.4v-6.9H29.5v-9.1h22.2v-7.2H22.2v39.5h29.6l-.1-7.4z&#x27;/%3e%3cpath class=&#x27;st0&#x27; d=&#x27;M9.8 18.2C18.8 4.1 36.9-.8 52.1 6l-1-.7C35.7-4.6 15.2-.1 5.3 15.3s-5.4 35.9 10 45.8l1.1.6C3.8 50.8.8 32.3 9.8 18.2z&#x27;/%3e%3cpath class=&#x27;st1&#x27; d=&#x27;M272.2 26.1c0-2.5 2.1-4.6 4.6-4.6 2.5 0 4.6 2.1 4.6 4.6 0 2.5-2.1 4.6-4.6 4.6-2.6 0-4.6-2.1-4.6-4.6zm8.6 0c0-2.2-1.8-4.1-4-4.1s-4.1 1.8-4.1 4.1c0 2.2 1.7 4 3.9 4.1h.1c2.3 0 4.1-1.8 4.1-4.1zm-6-2.5h2.3c1.1 0 1.9.5 1.9 1.6 0 .7-.4 1.3-1.1 1.5l1.2 1.7h-1.4l-1-1.5h-.7v1.5h-1.1l-.1-4.8zm2.2 2.3c.5 0 .8-.3.8-.7s-.3-.7-.8-.7h-1v1.3l1 .1z&#x27;/%3e%3c/g%3e%3c/svg%3e" alt="Eclipse foundation Logo" class="jsx-3acb63b44722e9f1"/></a></div></div></div></footer></main></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"slug":"4.2.5/vertx-service-proxy/java","title":"Vert.x Service Proxy","fallbackGitHubStars":62,"toc":"\u003cdiv id=\"toc\" class=\"toc\"\u003e\n\u003cdiv id=\"toctitle\"\u003eTable of Contents\u003c/div\u003e\n\u003cul class=\"sectlevel1\"\u003e\n\u003cli\u003e\u003ca href=\"#_using_vert_x_service_proxies\"\u003eUsing Vert.x service proxies\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#_introduction_to_service_proxies\"\u003eIntroduction to service proxies\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#_async_interface\"\u003eAsync interface\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#_async_interface_with_callbacks\"\u003eAsync interface with callbacks\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#_security\"\u003eSecurity\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#_code_generation\"\u003eCode generation\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#_exposing_your_service\"\u003eExposing your service\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#_proxy_creation\"\u003eProxy creation\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#_error_handling\"\u003eError Handling\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#_restrictions_for_service_interface\"\u003eRestrictions for service interface\u003c/a\u003e\n\u003cul class=\"sectlevel2\"\u003e\n\u003cli\u003e\u003ca href=\"#_data_types\"\u003eData types\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#_overloaded_methods\"\u003eOverloaded methods\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#_convention_for_invoking_services_over_the_event_bus_without_proxies\"\u003eConvention for invoking services over the event bus (without proxies)\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/div\u003e","contents":"\u003ch1\u003eVert.x Service Proxy\u003c/h1\u003e\n\n\u003cdiv id=\"preamble\"\u003e\n\u003cdiv class=\"sectionbody\"\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eWhen you compose a Vert.x application, you may want to isolate a functionality somewhere and make it available to\nthe rest of your application. That\u0026#8217;s the main purpose of service proxies. It lets you expose a \u003cem\u003eservice\u003c/em\u003e on the\nevent bus, so, any other Vert.x component can consume it, as soon as they know the \u003cem\u003eaddress\u003c/em\u003e on which the service\nis published.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eA \u003cem\u003eservice\u003c/em\u003e is described with a Java interface containing methods following the \u003cem\u003easync pattern\u003c/em\u003e. Under the hood,\nmessages are sent on the event bus to invoke the service and get the response back. But for ease of use,\nit generates a \u003cem\u003eproxy\u003c/em\u003e that you can invoke directly (using the API from the service interface).\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect1\"\u003e\n\u003ch2 id=\"_using_vert_x_service_proxies\"\u003e\u003ca class=\"anchor\" href=\"#_using_vert_x_service_proxies\"\u003e\u003c/a\u003eUsing Vert.x service proxies\u003c/h2\u003e\n\u003cdiv class=\"sectionbody\"\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eTo \u003cstrong\u003euse\u003c/strong\u003e Vert.x Service Proxies, add the following dependency to the \u003cem\u003edependencies\u003c/em\u003e section of\nyour build descriptor:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"ulist\"\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003eMaven (in your \u003ccode\u003epom.xml\u003c/code\u003e):\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-xml\" data-lang=\"xml\"\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003edependency\u003c/span\u003e\u0026gt;\u003c/span\u003e\n \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003egroupId\u003c/span\u003e\u0026gt;\u003c/span\u003eio.vertx\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003egroupId\u003c/span\u003e\u0026gt;\u003c/span\u003e\n \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eartifactId\u003c/span\u003e\u0026gt;\u003c/span\u003evertx-service-proxy\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003eartifactId\u003c/span\u003e\u0026gt;\u003c/span\u003e\n \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eversion\u003c/span\u003e\u0026gt;\u003c/span\u003e4.2.5\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003eversion\u003c/span\u003e\u0026gt;\u003c/span\u003e\n\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003edependency\u003c/span\u003e\u0026gt;\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"ulist\"\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003eGradle (in your \u003ccode\u003ebuild.gradle\u003c/code\u003e file):\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-groovy\" data-lang=\"groovy\"\u003ecompile \u003cspan class=\"hljs-string\"\u003e\u0026#x27;io.vertx:vertx-service-proxy:4.2.5\u0026#x27;\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eTo \u003cstrong\u003eimplement\u003c/strong\u003e service proxies, also add:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"ulist\"\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003eMaven (in your \u003ccode\u003epom.xml\u003c/code\u003e):\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-xml\" data-lang=\"xml\"\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003edependency\u003c/span\u003e\u0026gt;\u003c/span\u003e\n \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003egroupId\u003c/span\u003e\u0026gt;\u003c/span\u003eio.vertx\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003egroupId\u003c/span\u003e\u0026gt;\u003c/span\u003e\n \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eartifactId\u003c/span\u003e\u0026gt;\u003c/span\u003evertx-codegen\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003eartifactId\u003c/span\u003e\u0026gt;\u003c/span\u003e\n \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eversion\u003c/span\u003e\u0026gt;\u003c/span\u003e4.2.5\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003eversion\u003c/span\u003e\u0026gt;\u003c/span\u003e\n \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003escope\u003c/span\u003e\u0026gt;\u003c/span\u003eprovided\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003escope\u003c/span\u003e\u0026gt;\u003c/span\u003e\n\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003edependency\u003c/span\u003e\u0026gt;\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"ulist\"\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003eGradle \u0026lt; 5 (in your \u003ccode\u003ebuild.gradle\u003c/code\u003e file):\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-groovy\" data-lang=\"groovy\"\u003ecompileOnly \u003cspan class=\"hljs-string\"\u003e\u0026#x27;io.vertx:vertx-codegen:4.2.5\u0026#x27;\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"ulist\"\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003eGradle \u0026gt;= 5 (in your \u003ccode\u003ebuild.gradle\u003c/code\u003e file):\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-groovy\" data-lang=\"groovy\"\u003eannotationProcessor \u003cspan class=\"hljs-string\"\u003e\u0026#x27;io.vertx:vertx-codegen:4.2.5:processor\u0026#x27;\u003c/span\u003e\nannotationProcessor \u003cspan class=\"hljs-string\"\u003e\u0026#x27;io.vertx:vertx-service-proxy:4.2.5\u0026#x27;\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eBe aware that as the service proxy mechanism relies on code generation, so modifications to the \u003cem\u003eservice interface\u003c/em\u003e\nrequire to re-compile the sources to regenerate the code.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eTo generate the proxies in different languages, you will need to add the \u003cem\u003elanguage\u003c/em\u003e dependency such as\n\u003ccode\u003evertx-lang-groovy\u003c/code\u003e for Groovy.\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect1\"\u003e\n\u003ch2 id=\"_introduction_to_service_proxies\"\u003e\u003ca class=\"anchor\" href=\"#_introduction_to_service_proxies\"\u003e\u003c/a\u003eIntroduction to service proxies\u003c/h2\u003e\n\u003cdiv class=\"sectionbody\"\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eLet\u0026#8217;s have a look at service proxies and why they can be useful. Let\u0026#8217;s imagine you have a \u003cem\u003edatabase service\u003c/em\u003e\nexposed on the event bus, you should do something like this:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003e\u003cspan class=\"hljs-type\"\u003eJsonObject\u003c/span\u003e \u003cspan class=\"hljs-variable\"\u003emessage\u003c/span\u003e \u003cspan class=\"hljs-operator\"\u003e=\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eJsonObject\u003c/span\u003e();\n\nmessage\n  .put(\u003cspan class=\"hljs-string\"\u003e\u0026quot;collection\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;mycollection\u0026quot;\u003c/span\u003e)\n  .put(\u003cspan class=\"hljs-string\"\u003e\u0026quot;document\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eJsonObject\u003c/span\u003e().put(\u003cspan class=\"hljs-string\"\u003e\u0026quot;name\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;tim\u0026quot;\u003c/span\u003e));\n\n\u003cspan class=\"hljs-type\"\u003eDeliveryOptions\u003c/span\u003e \u003cspan class=\"hljs-variable\"\u003eoptions\u003c/span\u003e \u003cspan class=\"hljs-operator\"\u003e=\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eDeliveryOptions\u003c/span\u003e().addHeader(\u003cspan class=\"hljs-string\"\u003e\u0026quot;action\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;save\u0026quot;\u003c/span\u003e);\n\nvertx.eventBus()\n  .request(\u003cspan class=\"hljs-string\"\u003e\u0026quot;database-service-address\u0026quot;\u003c/span\u003e, message, options)\n  .onSuccess(msg -\u0026gt; {\n    \u003cspan class=\"hljs-comment\"\u003e// done\u003c/span\u003e\n  }).onFailure(err -\u0026gt; {\n  \u003cspan class=\"hljs-comment\"\u003e// failure\u003c/span\u003e\n});\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eWhen creating a service there\u0026#8217;s a certain amount of boilerplate code to listen on the event bus for incoming\nmessages, route them to the appropriate method and return results on the event bus.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eWith Vert.x service proxies, you can avoid writing all that boilerplate code and concentrate on writing your service.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eYou write your service as a Java interface and annotate it with the \u003ccode\u003e@ProxyGen\u003c/code\u003e annotation, for example:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003e\u003cspan class=\"hljs-meta\"\u003e@ProxyGen\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003epublic\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003einterface\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eSomeDatabaseService\u003c/span\u003e {\n\n \u003cspan class=\"hljs-comment\"\u003e// A couple of factory methods to create an instance and a proxy\u003c/span\u003e\n \u003cspan class=\"hljs-keyword\"\u003estatic\u003c/span\u003e SomeDatabaseService \u003cspan class=\"hljs-title function_\"\u003ecreate\u003c/span\u003e\u003cspan class=\"hljs-params\"\u003e(Vertx vertx)\u003c/span\u003e {\n   \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eSomeDatabaseServiceImpl\u003c/span\u003e(vertx);\n }\n\n \u003cspan class=\"hljs-keyword\"\u003estatic\u003c/span\u003e SomeDatabaseService \u003cspan class=\"hljs-title function_\"\u003ecreateProxy\u003c/span\u003e\u003cspan class=\"hljs-params\"\u003e(Vertx vertx,\n   String address)\u003c/span\u003e {\n   \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eSomeDatabaseServiceVertxEBProxy\u003c/span\u003e(vertx, address);\n }\n\n\u003cspan class=\"hljs-comment\"\u003e// Actual service operations here...\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003evoid\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003esave\u003c/span\u003e\u003cspan class=\"hljs-params\"\u003e(String collection, JsonObject document,\n  Handler\u0026lt;AsyncResult\u0026lt;Void\u0026gt;\u0026gt; resultHandler)\u003c/span\u003e;\n}\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eYou will also need a \u003ccode\u003epackage-info.java\u003c/code\u003e file somewhere in (or above) the package your interface is defined in.\nThat package needs to be annotated with \u003ccode\u003e@ModuleGen\u003c/code\u003e so that Vert.x CodeGen can recognize your interfaces and generate\nthe appropriate EventBus proxy code.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"title\"\u003epackage-info.java\u003c/div\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003e\u003cspan class=\"hljs-meta\"\u003e@io\u003c/span\u003e.vertx.codegen.annotations.ModuleGen(groupPackage = \u003cspan class=\"hljs-string\"\u003e\u0026quot;io.vertx.example\u0026quot;\u003c/span\u003e, name = \u003cspan class=\"hljs-string\"\u003e\u0026quot;services\u0026quot;\u003c/span\u003e, useFutures = \u003cspan class=\"hljs-literal\"\u003etrue\u003c/span\u003e)\n\u003cspan class=\"hljs-keyword\"\u003epackage\u003c/span\u003e io.vertx.example;\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eGiven the interface, Vert.x will generate all the boilerplate code required to access your service over the event\nbus, and it will also generate a \u003cstrong\u003eclient side proxy\u003c/strong\u003e for your service, so your clients can use a rich idiomatic\nAPI for your service instead of having to manually craft event bus messages to send. The client side proxy will\nwork irrespective of where your service actually lives on the event bus (potentially on a different machine).\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eThat means you can interact with your service like this:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003e\u003cspan class=\"hljs-type\"\u003eSomeDatabaseService\u003c/span\u003e \u003cspan class=\"hljs-variable\"\u003eservice\u003c/span\u003e \u003cspan class=\"hljs-operator\"\u003e=\u003c/span\u003e SomeDatabaseService\n  .createProxy(vertx, \u003cspan class=\"hljs-string\"\u003e\u0026quot;database-service-address\u0026quot;\u003c/span\u003e);\n\n\u003cspan class=\"hljs-comment\"\u003e// Save some data in the database - this time using the proxy\u003c/span\u003e\nservice.save(\n  \u003cspan class=\"hljs-string\"\u003e\u0026quot;mycollection\u0026quot;\u003c/span\u003e,\n  \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eJsonObject\u003c/span\u003e().put(\u003cspan class=\"hljs-string\"\u003e\u0026quot;name\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;tim\u0026quot;\u003c/span\u003e),\n  res2 -\u0026gt; {\n    \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (res2.succeeded()) {\n      \u003cspan class=\"hljs-comment\"\u003e// done\u003c/span\u003e\n    }\n  });\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eYou can also combine \u003ccode\u003e@ProxyGen\u003c/code\u003e with language API code generation (\u003ccode\u003e@VertxGen\u003c/code\u003e) in order to create service stubs\nin any of the languages supported by Vert.x - this means you can write your service once in Java and interact with it\nthrough an idiomatic other language API irrespective of whether the service lives locally or is somewhere else on\nthe event bus entirely. For this don\u0026#8217;t forget to add the dependency on your language in your build descriptor:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003e\u003cspan class=\"hljs-meta\"\u003e@ProxyGen\u003c/span\u003e \u003cspan class=\"hljs-comment\"\u003e// Generate service proxies\u003c/span\u003e\n\u003cspan class=\"hljs-meta\"\u003e@VertxGen\u003c/span\u003e \u003cspan class=\"hljs-comment\"\u003e// Generate the clients\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003epublic\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003einterface\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eSomeDatabaseService\u003c/span\u003e {\n \u003cspan class=\"hljs-comment\"\u003e// ...\u003c/span\u003e\n}\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect1\"\u003e\n\u003ch2 id=\"_async_interface\"\u003e\u003ca class=\"anchor\" href=\"#_async_interface\"\u003e\u003c/a\u003eAsync interface\u003c/h2\u003e\n\u003cdiv class=\"sectionbody\"\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eTo be used by the service-proxy generation, the \u003cem\u003eservice interface\u003c/em\u003e must comply to a couple of rules. First it\nshould follow the async pattern. To return a result, the method should declare a \u003ccode\u003eFuture\u0026lt;ResultType\u0026gt;\u003c/code\u003e return type.\n\u003ccode\u003eResultType\u003c/code\u003e can be another proxy (and so a proxies can be factories for other proxies).\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eLet\u0026#8217;s see an example:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003e\u003cspan class=\"hljs-meta\"\u003e@ProxyGen\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003epublic\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003einterface\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eSomeDatabaseService\u003c/span\u003e {\n\n\u003cspan class=\"hljs-comment\"\u003e// A couple of factory methods to create an instance and a proxy\u003c/span\u003e\n\n\u003cspan class=\"hljs-keyword\"\u003estatic\u003c/span\u003e SomeDatabaseService \u003cspan class=\"hljs-title function_\"\u003ecreate\u003c/span\u003e\u003cspan class=\"hljs-params\"\u003e(Vertx vertx)\u003c/span\u003e {\n  \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eSomeDatabaseServiceImpl\u003c/span\u003e(vertx);\n}\n\n\u003cspan class=\"hljs-keyword\"\u003estatic\u003c/span\u003e SomeDatabaseService \u003cspan class=\"hljs-title function_\"\u003ecreateProxy\u003c/span\u003e\u003cspan class=\"hljs-params\"\u003e(Vertx vertx, String address)\u003c/span\u003e {\n  \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eSomeDatabaseServiceVertxEBProxy\u003c/span\u003e(vertx, address);\n}\n\n\u003cspan class=\"hljs-comment\"\u003e// A method notifying the completion without a result (void)\u003c/span\u003e\nFuture\u0026lt;Void\u0026gt; \u003cspan class=\"hljs-title function_\"\u003esave\u003c/span\u003e\u003cspan class=\"hljs-params\"\u003e(String collection, JsonObject document)\u003c/span\u003e;\n\n\u003cspan class=\"hljs-comment\"\u003e// A method providing a result (a json object)\u003c/span\u003e\nFuture\u0026lt;JsonObject\u0026gt; \u003cspan class=\"hljs-title function_\"\u003efindOne\u003c/span\u003e\u003cspan class=\"hljs-params\"\u003e(String collection, JsonObject query)\u003c/span\u003e;\n\n\u003cspan class=\"hljs-comment\"\u003e// Create a connection\u003c/span\u003e\nFuture\u0026lt;MyDatabaseConnection\u0026gt; \u003cspan class=\"hljs-title function_\"\u003ecreateConnection\u003c/span\u003e\u003cspan class=\"hljs-params\"\u003e(String shoeSize)\u003c/span\u003e;\n\n}\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003ewith:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003e\u003cspan class=\"hljs-meta\"\u003e@ProxyGen\u003c/span\u003e\n\u003cspan class=\"hljs-meta\"\u003e@VertxGen\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003epublic\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003einterface\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eMyDatabaseConnection\u003c/span\u003e {\n\n\u003cspan class=\"hljs-keyword\"\u003evoid\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003einsert\u003c/span\u003e\u003cspan class=\"hljs-params\"\u003e(JsonObject someData)\u003c/span\u003e;\n\nFuture\u0026lt;Void\u0026gt; \u003cspan class=\"hljs-title function_\"\u003ecommit\u003c/span\u003e\u003cspan class=\"hljs-params\"\u003e()\u003c/span\u003e;\n\n\u003cspan class=\"hljs-meta\"\u003e@ProxyClose\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003evoid\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003eclose\u003c/span\u003e\u003cspan class=\"hljs-params\"\u003e()\u003c/span\u003e;\n}\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eYou can also declare that a particular method unregisters the proxy by annotating it with the \u003ccode\u003e@ProxyClose\u003c/code\u003e\nannotation. The proxy instance is disposed when this method is called.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eMore constraints on the \u003cem\u003eservice interfaces\u003c/em\u003e are described below.\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect1\"\u003e\n\u003ch2 id=\"_async_interface_with_callbacks\"\u003e\u003ca class=\"anchor\" href=\"#_async_interface_with_callbacks\"\u003e\u003c/a\u003eAsync interface with callbacks\u003c/h2\u003e\n\u003cdiv class=\"sectionbody\"\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eUntil Vert.x 4.1, service async interfaces were defined by callbacks.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eYou can still create service async interface using callbacks, with this module declaration:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"title\"\u003epackage-info.java\u003c/div\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003e\u003cspan class=\"hljs-meta\"\u003e@io\u003c/span\u003e.vertx.codegen.annotations.ModuleGen(groupPackage = \u003cspan class=\"hljs-string\"\u003e\u0026quot;io.vertx.example\u0026quot;\u003c/span\u003e, name = \u003cspan class=\"hljs-string\"\u003e\u0026quot;services\u0026quot;\u003c/span\u003e, useFutures = \u003cspan class=\"hljs-literal\"\u003efalse\u003c/span\u003e)\n\u003cspan class=\"hljs-keyword\"\u003epackage\u003c/span\u003e io.vertx.example;\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"admonitionblock note\"\u003e\n\u003ctable\u003e\n\u003ctr\u003e\n\u003ctd class=\"icon\"\u003e\n\u003cdiv class=\"title\"\u003eNote\u003c/div\u003e\n\u003c/td\u003e\n\u003ctd class=\"content\"\u003e\nfor backward compatibility, the default value of \u003ccode\u003euseFutures\u003c/code\u003e is \u003ccode\u003efalse\u003c/code\u003e so you can also omit the declaration\n\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/table\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eThe service async interface with callbacks looks like:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003e\u003cspan class=\"hljs-meta\"\u003e@ProxyGen\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003epublic\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003einterface\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eSomeDatabaseService\u003c/span\u003e {\n\n \u003cspan class=\"hljs-comment\"\u003e// A method notifying the completion without a result (void)\u003c/span\u003e\n \u003cspan class=\"hljs-keyword\"\u003evoid\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003esave\u003c/span\u003e\u003cspan class=\"hljs-params\"\u003e(String collection, JsonObject document,\n  Handler\u0026lt;AsyncResult\u0026lt;Void\u0026gt;\u0026gt; result)\u003c/span\u003e;\n\n \u003cspan class=\"hljs-comment\"\u003e// A method providing a result (a json object)\u003c/span\u003e\n \u003cspan class=\"hljs-keyword\"\u003evoid\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003efindOne\u003c/span\u003e\u003cspan class=\"hljs-params\"\u003e(String collection, JsonObject query,\n  Handler\u0026lt;AsyncResult\u0026lt;JsonObject\u0026gt;\u0026gt; result)\u003c/span\u003e;\n\n \u003cspan class=\"hljs-comment\"\u003e// Create a connection\u003c/span\u003e\n \u003cspan class=\"hljs-keyword\"\u003evoid\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003ecreateConnection\u003c/span\u003e\u003cspan class=\"hljs-params\"\u003e(String shoeSize,\n  Handler\u0026lt;AsyncResult\u0026lt;MyDatabaseConnection\u0026gt;\u0026gt; resultHandler)\u003c/span\u003e;\n\n}\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eReturn types must be one of:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"ulist\"\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003evoid\u003c/code\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003e@Fluent\u003c/code\u003e and return reference to the service (\u003ccode\u003ethis\u003c/code\u003e):\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003e\u003cspan class=\"hljs-meta\"\u003e@Fluent\u003c/span\u003e\nSomeDatabaseService \u003cspan class=\"hljs-title function_\"\u003edoSomething\u003c/span\u003e\u003cspan class=\"hljs-params\"\u003e()\u003c/span\u003e;\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eThis is because methods must not block and it\u0026#8217;s not possible to return a result immediately without blocking if\nthe service is remote.\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect1\"\u003e\n\u003ch2 id=\"_security\"\u003e\u003ca class=\"anchor\" href=\"#_security\"\u003e\u003c/a\u003eSecurity\u003c/h2\u003e\n\u003cdiv class=\"sectionbody\"\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eService proxies can perform basic security using a simple interceptor. A authentication provider must be provided,\noptionally \u003ccode\u003eAuthorization`s can be added and in this case an `AuthorizationProvider\u003c/code\u003e must also be present. Note that\nthe authentication works based on tokens, that are extracted from the \u003ccode\u003eauth-token\u003c/code\u003e header.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003e\u003cspan class=\"hljs-type\"\u003eSomeDatabaseService\u003c/span\u003e \u003cspan class=\"hljs-variable\"\u003eservice\u003c/span\u003e \u003cspan class=\"hljs-operator\"\u003e=\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eSomeDatabaseServiceImpl\u003c/span\u003e();\n\u003cspan class=\"hljs-comment\"\u003e// Register the handler\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eServiceBinder\u003c/span\u003e(vertx)\n  .setAddress(\u003cspan class=\"hljs-string\"\u003e\u0026quot;database-service-address\u0026quot;\u003c/span\u003e)\n  \u003cspan class=\"hljs-comment\"\u003e// Secure the messages in transit\u003c/span\u003e\n  .addInterceptor(\n    \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eServiceAuthInterceptor\u003c/span\u003e()\n      \u003cspan class=\"hljs-comment\"\u003e// Tokens will be validated using JWT authentication\u003c/span\u003e\n      .setAuthenticationProvider(JWTAuth.create(vertx, \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eJWTAuthOptions\u003c/span\u003e()))\n      \u003cspan class=\"hljs-comment\"\u003e// optionally we can secure permissions too:\u003c/span\u003e\n\n      \u003cspan class=\"hljs-comment\"\u003e// an admin\u003c/span\u003e\n      .addAuthorization(RoleBasedAuthorization.create(\u003cspan class=\"hljs-string\"\u003e\u0026quot;admin\u0026quot;\u003c/span\u003e))\n      \u003cspan class=\"hljs-comment\"\u003e// that can print\u003c/span\u003e\n      .addAuthorization(PermissionBasedAuthorization.create(\u003cspan class=\"hljs-string\"\u003e\u0026quot;print\u0026quot;\u003c/span\u003e))\n\n      \u003cspan class=\"hljs-comment\"\u003e// where the authorizations are loaded, let\u0026#x27;s assume from the token\u003c/span\u003e\n      \u003cspan class=\"hljs-comment\"\u003e// but they could be loaded from a database or a file if needed\u003c/span\u003e\n      .setAuthorizationProvider(\n        JWTAuthorization.create(\u003cspan class=\"hljs-string\"\u003e\u0026quot;permissions\u0026quot;\u003c/span\u003e)))\n\n  .register(SomeDatabaseService.class, service);\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect1\"\u003e\n\u003ch2 id=\"_code_generation\"\u003e\u003ca class=\"anchor\" href=\"#_code_generation\"\u003e\u003c/a\u003eCode generation\u003c/h2\u003e\n\u003cdiv class=\"sectionbody\"\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eService annotated with \u003ccode\u003e@ProxyGen\u003c/code\u003e annotation trigger the generation of the service helper classes:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"ulist\"\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003eThe service proxy: a compile time generated proxy that uses the \u003ccode\u003eEventBus\u003c/code\u003e to interact with the service via messages\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eThe service handler: a compile time generated \u003ccode\u003eEventBus\u003c/code\u003e handler that reacts to events sent by the proxy\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eGenerated proxies and handlers are named after the service class, for example if the service is named \u003ccode\u003eMyService\u003c/code\u003e\nthe handler is called \u003ccode\u003eMyServiceProxyHandler\u003c/code\u003e and the proxy is called \u003ccode\u003eMyServiceEBProxy\u003c/code\u003e.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eIn addition Vert.x Core provides a generator creating data object converters to ease data object usage in\nservice proxies. Such converter provides a basis for the \u003ccode\u003eJsonObject\u003c/code\u003e constructor and the \u003ccode\u003etoJson()\u003c/code\u003e method\nthat are necessary for using data objects in service proxies.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eThe \u003cem\u003ecodegen\u003c/em\u003e annotation processor generates these classes at compilation time. It is a feature of the Java\ncompiler so \u003cem\u003eno extra step\u003c/em\u003e is required, it is just a matter of configuring correctly your build:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eJust add the \u003ccode\u003eio.vertx:vertx-codegen:processor\u003c/code\u003e and \u003ccode\u003eio.vertx:vertx-service-proxy\u003c/code\u003e\ndependencies to your build.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eHere a configuration example for Maven:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-xml\" data-lang=\"xml\"\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003edependency\u003c/span\u003e\u0026gt;\u003c/span\u003e\n \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003egroupId\u003c/span\u003e\u0026gt;\u003c/span\u003eio.vertx\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003egroupId\u003c/span\u003e\u0026gt;\u003c/span\u003e\n \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eartifactId\u003c/span\u003e\u0026gt;\u003c/span\u003evertx-codegen\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003eartifactId\u003c/span\u003e\u0026gt;\u003c/span\u003e\n \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eversion\u003c/span\u003e\u0026gt;\u003c/span\u003e4.2.5\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003eversion\u003c/span\u003e\u0026gt;\u003c/span\u003e\n \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eclassifier\u003c/span\u003e\u0026gt;\u003c/span\u003eprocessor\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003eclassifier\u003c/span\u003e\u0026gt;\u003c/span\u003e\n\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003edependency\u003c/span\u003e\u0026gt;\u003c/span\u003e\n\u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003edependency\u003c/span\u003e\u0026gt;\u003c/span\u003e\n \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003egroupId\u003c/span\u003e\u0026gt;\u003c/span\u003eio.vertx\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003egroupId\u003c/span\u003e\u0026gt;\u003c/span\u003e\n \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eartifactId\u003c/span\u003e\u0026gt;\u003c/span\u003evertx-service-proxy\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003eartifactId\u003c/span\u003e\u0026gt;\u003c/span\u003e\n \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eversion\u003c/span\u003e\u0026gt;\u003c/span\u003e4.2.5\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003eversion\u003c/span\u003e\u0026gt;\u003c/span\u003e\n\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003edependency\u003c/span\u003e\u0026gt;\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eThis feature can also be used in Gradle:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode\u003ecompile \"io.vertx:vertx-codegen:4.2.5:processor\"\ncompile \"io.vertx:vertx-service-proxy:4.2.5\"\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eIDE provides usually support for annotation processors.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eThe codegen \u003ccode\u003eprocessor\u003c/code\u003e classifier adds to the jar the automatic configuration of the service proxy annotation processor\nvia the \u003ccode\u003eMETA-INF/services\u003c/code\u003e plugin mechanism.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eIf you want you can use it too with the regular jar but you need then to declare the annotation processor\nexplicitly, for instance in Maven:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-xml\" data-lang=\"xml\"\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eplugin\u003c/span\u003e\u0026gt;\u003c/span\u003e\n \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eartifactId\u003c/span\u003e\u0026gt;\u003c/span\u003emaven-compiler-plugin\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003eartifactId\u003c/span\u003e\u0026gt;\u003c/span\u003e\n \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003econfiguration\u003c/span\u003e\u0026gt;\u003c/span\u003e\n   \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eannotationProcessors\u003c/span\u003e\u0026gt;\u003c/span\u003e\n     \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eannotationProcessor\u003c/span\u003e\u0026gt;\u003c/span\u003eio.vertx.codegen.CodeGenProcessor\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003eannotationProcessor\u003c/span\u003e\u0026gt;\u003c/span\u003e\n   \u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003eannotationProcessors\u003c/span\u003e\u0026gt;\u003c/span\u003e\n \u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003econfiguration\u003c/span\u003e\u0026gt;\u003c/span\u003e\n\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003eplugin\u003c/span\u003e\u0026gt;\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect1\"\u003e\n\u003ch2 id=\"_exposing_your_service\"\u003e\u003ca class=\"anchor\" href=\"#_exposing_your_service\"\u003e\u003c/a\u003eExposing your service\u003c/h2\u003e\n\u003cdiv class=\"sectionbody\"\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eOnce you have your \u003cem\u003eservice interface\u003c/em\u003e, compile the source to generate the stub and proxies. Then, you need some\ncode to \"register\" your service on the event bus:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003e\u003cspan class=\"hljs-type\"\u003eSomeDatabaseService\u003c/span\u003e \u003cspan class=\"hljs-variable\"\u003eservice\u003c/span\u003e \u003cspan class=\"hljs-operator\"\u003e=\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eSomeDatabaseServiceImpl\u003c/span\u003e();\n\u003cspan class=\"hljs-comment\"\u003e// Register the handler\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eServiceBinder\u003c/span\u003e(vertx)\n  .setAddress(\u003cspan class=\"hljs-string\"\u003e\u0026quot;database-service-address\u0026quot;\u003c/span\u003e)\n  .register(SomeDatabaseService.class, service);\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eThis can be done in a verticle, or anywhere in your code.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eOnce registered, the service becomes accessible. If you are running your application on a cluster, the service is\navailable from any host.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eTo withdraw your service, use the \u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/serviceproxy/ServiceBinder.html#unregister-io.vertx.core.eventbus.MessageConsumer-\"\u003eunregister\u003c/a\u003e\u003c/code\u003e\nmethod:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003e\u003cspan class=\"hljs-type\"\u003eServiceBinder\u003c/span\u003e \u003cspan class=\"hljs-variable\"\u003ebinder\u003c/span\u003e \u003cspan class=\"hljs-operator\"\u003e=\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eServiceBinder\u003c/span\u003e(vertx);\n\n\u003cspan class=\"hljs-comment\"\u003e// Create an instance of your service implementation\u003c/span\u003e\n\u003cspan class=\"hljs-type\"\u003eSomeDatabaseService\u003c/span\u003e \u003cspan class=\"hljs-variable\"\u003eservice\u003c/span\u003e \u003cspan class=\"hljs-operator\"\u003e=\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eSomeDatabaseServiceImpl\u003c/span\u003e();\n\u003cspan class=\"hljs-comment\"\u003e// Register the handler\u003c/span\u003e\nMessageConsumer\u0026lt;JsonObject\u0026gt; consumer = binder\n  .setAddress(\u003cspan class=\"hljs-string\"\u003e\u0026quot;database-service-address\u0026quot;\u003c/span\u003e)\n  .register(SomeDatabaseService.class, service);\n\n\u003cspan class=\"hljs-comment\"\u003e// ....\u003c/span\u003e\n\n\u003cspan class=\"hljs-comment\"\u003e// Unregister your service.\u003c/span\u003e\nbinder.unregister(consumer);\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect1\"\u003e\n\u003ch2 id=\"_proxy_creation\"\u003e\u003ca class=\"anchor\" href=\"#_proxy_creation\"\u003e\u003c/a\u003eProxy creation\u003c/h2\u003e\n\u003cdiv class=\"sectionbody\"\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eNow that the service is exposed, you probably want to consume it. For this, you need to create a proxy. The proxy\ncan be created using the \u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/serviceproxy/ServiceProxyBuilder.html\"\u003eServiceProxyBuilder\u003c/a\u003e\u003c/code\u003e class:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003e\u003cspan class=\"hljs-type\"\u003eServiceProxyBuilder\u003c/span\u003e \u003cspan class=\"hljs-variable\"\u003ebuilder\u003c/span\u003e \u003cspan class=\"hljs-operator\"\u003e=\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eServiceProxyBuilder\u003c/span\u003e(vertx)\n  .setAddress(\u003cspan class=\"hljs-string\"\u003e\u0026quot;database-service-address\u0026quot;\u003c/span\u003e);\n\n\u003cspan class=\"hljs-type\"\u003eSomeDatabaseService\u003c/span\u003e \u003cspan class=\"hljs-variable\"\u003eservice\u003c/span\u003e \u003cspan class=\"hljs-operator\"\u003e=\u003c/span\u003e builder.build(SomeDatabaseService.class);\n\u003cspan class=\"hljs-comment\"\u003e// or with delivery options:\u003c/span\u003e\n\u003cspan class=\"hljs-type\"\u003eSomeDatabaseService\u003c/span\u003e \u003cspan class=\"hljs-variable\"\u003eservice2\u003c/span\u003e \u003cspan class=\"hljs-operator\"\u003e=\u003c/span\u003e builder.setOptions(options)\n  .build(SomeDatabaseService.class);\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eThe second method takes an instance of \u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/core/eventbus/DeliveryOptions.html\"\u003eDeliveryOptions\u003c/a\u003e\u003c/code\u003e where you can configure the\nmessage delivery (such as the timeout).\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eAlternatively, you can use the generated proxy class. The proxy class name is the \u003cem\u003eservice interface\u003c/em\u003e class name\nfollowed by \u003ccode\u003eVertxEBProxy\u003c/code\u003e. For instance, if your \u003cem\u003eservice interface\u003c/em\u003e is named \u003ccode\u003eSomeDatabaseService\u003c/code\u003e, the proxy\nclass is named \u003ccode\u003eSomeDatabaseServiceVertxEBProxy\u003c/code\u003e.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eGenerally, \u003cem\u003eservice interface\u003c/em\u003e contains a \u003ccode\u003ecreateProxy\u003c/code\u003e static method to create the proxy. But this is not required:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003e\u003cspan class=\"hljs-meta\"\u003e@ProxyGen\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003epublic\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003einterface\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eSomeDatabaseService\u003c/span\u003e {\n\n\u003cspan class=\"hljs-comment\"\u003e// Method to create the proxy.\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003estatic\u003c/span\u003e SomeDatabaseService \u003cspan class=\"hljs-title function_\"\u003ecreateProxy\u003c/span\u003e\u003cspan class=\"hljs-params\"\u003e(Vertx vertx, String address)\u003c/span\u003e {\n  \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eSomeDatabaseServiceVertxEBProxy\u003c/span\u003e(vertx, address);\n}\n\n\u003cspan class=\"hljs-comment\"\u003e// ...\u003c/span\u003e\n}\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect1\"\u003e\n\u003ch2 id=\"_error_handling\"\u003e\u003ca class=\"anchor\" href=\"#_error_handling\"\u003e\u003c/a\u003eError Handling\u003c/h2\u003e\n\u003cdiv class=\"sectionbody\"\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eService methods may return errors to the client by passing a failed \u003ccode\u003eFuture\u003c/code\u003e containing a \u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/serviceproxy/ServiceException.html\"\u003eServiceException\u003c/a\u003e\u003c/code\u003e\ninstance to the method\u0026#8217;s \u003ccode\u003eHandler\u003c/code\u003e. A \u003ccode\u003eServiceException\u003c/code\u003e contains an \u003ccode\u003eint\u003c/code\u003e failure code, a message, and an optional\n\u003ccode\u003eJsonObject\u003c/code\u003e containing any extra information deemed important to return to the caller. For convenience, the\n\u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/serviceproxy/ServiceException.html#fail-int-java.lang.String-\"\u003eServiceException.fail\u003c/a\u003e\u003c/code\u003e factory method can be used to create an instance of\n\u003ccode\u003eServiceException\u003c/code\u003e already wrapped in a failed \u003ccode\u003eFuture\u003c/code\u003e. For example:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003e\u003cspan class=\"hljs-keyword\"\u003epublic\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eSomeDatabaseServiceImpl\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eimplements\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eSomeDatabaseService\u003c/span\u003e {\n\n \u003cspan class=\"hljs-keyword\"\u003eprivate\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003estatic\u003c/span\u003e \u003cspan class=\"hljs-type\"\u003efinal\u003c/span\u003e \u003cspan class=\"hljs-variable\"\u003eBAD_SHOE_SIZE\u003c/span\u003e \u003cspan class=\"hljs-operator\"\u003e=\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e42\u003c/span\u003e;\n \u003cspan class=\"hljs-keyword\"\u003eprivate\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003estatic\u003c/span\u003e \u003cspan class=\"hljs-type\"\u003efinal\u003c/span\u003e \u003cspan class=\"hljs-variable\"\u003eCONNECTION_FAILED\u003c/span\u003e \u003cspan class=\"hljs-operator\"\u003e=\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e43\u003c/span\u003e;\n\n \u003cspan class=\"hljs-comment\"\u003e// Create a connection\u003c/span\u003e\n \u003cspan class=\"hljs-keyword\"\u003epublic\u003c/span\u003e Future\u0026lt;MyDatabaseConnection\u0026gt; \u003cspan class=\"hljs-title function_\"\u003ecreateConnection\u003c/span\u003e\u003cspan class=\"hljs-params\"\u003e(String shoeSize)\u003c/span\u003e {\n   \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (!shoeSize.equals(\u003cspan class=\"hljs-string\"\u003e\u0026quot;9\u0026quot;\u003c/span\u003e)) {\n     \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e Future.failedFuture(ServiceException.fail(BAD_SHOE_SIZE, \u003cspan class=\"hljs-string\"\u003e\u0026quot;The shoe size must be 9!\u0026quot;\u003c/span\u003e,\n       \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eJsonObject\u003c/span\u003e().put(\u003cspan class=\"hljs-string\"\u003e\u0026quot;shoeSize\u0026quot;\u003c/span\u003e, shoeSize)));\n    } \u003cspan class=\"hljs-keyword\"\u003eelse\u003c/span\u003e {\n       \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e doDbConnection().recover(err -\u0026gt; Future.failedFuture(ServiceException.fail(CONNECTION_FAILED, result.cause().getMessage())));\n    }\n }\n}\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eThe client side can then check if the \u003ccode\u003eThrowable\u003c/code\u003e it receives from a failed \u003ccode\u003eFuture\u003c/code\u003e is a \u003ccode\u003eServiceException\u003c/code\u003e,\nand if so, check the specific error code inside. It can use this information to differentiate business logic\nerrors from system errors (like the service not being registered with the Event Bus), and to determine exactly\nwhich business logic error occurred.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003e\u003cspan class=\"hljs-keyword\"\u003epublic\u003c/span\u003e Future\u0026lt;JsonObject\u0026gt; \u003cspan class=\"hljs-title function_\"\u003efoo\u003c/span\u003e\u003cspan class=\"hljs-params\"\u003e(String shoeSize)\u003c/span\u003e {\n \u003cspan class=\"hljs-type\"\u003eSomeDatabaseService\u003c/span\u003e \u003cspan class=\"hljs-variable\"\u003eservice\u003c/span\u003e \u003cspan class=\"hljs-operator\"\u003e=\u003c/span\u003e SomeDatabaseService.createProxy(vertx, SERVICE_ADDRESS);\n server.createConnection(\u003cspan class=\"hljs-string\"\u003e\u0026quot;8\u0026quot;\u003c/span\u003e)\n   .compose(connection -\u0026gt; {\n     \u003cspan class=\"hljs-comment\"\u003e// Do success stuff.\u003c/span\u003e\n     \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e doSuccessStuff(connection);\n   })\n   .recover(err -\u0026gt; {\n     \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (err \u003cspan class=\"hljs-keyword\"\u003einstanceof\u003c/span\u003e ServiceException) {\n       \u003cspan class=\"hljs-type\"\u003eServiceException\u003c/span\u003e \u003cspan class=\"hljs-variable\"\u003eexc\u003c/span\u003e \u003cspan class=\"hljs-operator\"\u003e=\u003c/span\u003e (ServiceException) err;\n       \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (exc.failureCode() == SomeDatabaseServiceImpl.BAD_SHOE_SIZE) {\n         \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e Future.failedFuture(\n           \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eInvalidInputError\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026quot;You provided a bad shoe size: \u0026quot;\u003c/span\u003e +\n             exc.getDebugInfo().getString(\u003cspan class=\"hljs-string\"\u003e\u0026quot;shoeSize\u0026quot;\u003c/span\u003e)));\n       } \u003cspan class=\"hljs-keyword\"\u003eelse\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (exc.failureCode() == SomeDatabaseServiceImpl.CONNECTION) {\n         \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e Future.failedFuture(\u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eConnectionError\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026quot;Failed to connect to the DB\u0026quot;\u003c/span\u003e));\n       }\n     } \u003cspan class=\"hljs-keyword\"\u003eelse\u003c/span\u003e {\n       \u003cspan class=\"hljs-comment\"\u003e// Must be a system error (e.g. No service registered for the proxy)\u003c/span\u003e\n       \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e Future.failedFuture(\u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eSystemError\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026quot;An unexpected error occurred: + \u0026quot;\u003c/span\u003e result.cause().getMessage()));\n     }\n   });\n}\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eIf desired, service implementations may also return a sub-class of \u003ccode\u003eServiceException\u003c/code\u003e, as long as a\ndefault \u003ccode\u003eMessageCodec\u003c/code\u003e is registered for it . For example, given the following \u003ccode\u003eServiceException\u003c/code\u003e sub-class:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003e\u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eShoeSizeException\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eextends\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eServiceException\u003c/span\u003e {\n \u003cspan class=\"hljs-keyword\"\u003epublic\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003estatic\u003c/span\u003e \u003cspan class=\"hljs-type\"\u003efinal\u003c/span\u003e \u003cspan class=\"hljs-variable\"\u003eBAD_SHOE_SIZE_ERROR\u003c/span\u003e \u003cspan class=\"hljs-operator\"\u003e=\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e42\u003c/span\u003e;\n\n \u003cspan class=\"hljs-keyword\"\u003eprivate\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003efinal\u003c/span\u003e String shoeSize;\n\n \u003cspan class=\"hljs-keyword\"\u003epublic\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003eShoeSizeException\u003c/span\u003e\u003cspan class=\"hljs-params\"\u003e(String shoeSize)\u003c/span\u003e {\n   \u003cspan class=\"hljs-built_in\"\u003esuper\u003c/span\u003e(BAD_SHOE_SIZE_ERROR, \u003cspan class=\"hljs-string\"\u003e\u0026quot;In invalid shoe size was received: \u0026quot;\u003c/span\u003e + shoeSize);\n   \u003cspan class=\"hljs-built_in\"\u003ethis\u003c/span\u003e.shoeSize = shoeSize;\n }\n\n \u003cspan class=\"hljs-keyword\"\u003epublic\u003c/span\u003e String \u003cspan class=\"hljs-title function_\"\u003egetShoeSize\u003c/span\u003e\u003cspan class=\"hljs-params\"\u003e()\u003c/span\u003e {\n   \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e extra;\n }\n\n \u003cspan class=\"hljs-keyword\"\u003epublic\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003estatic\u003c/span\u003e \u0026lt;T\u0026gt; Future\u0026lt;T\u0026gt; \u003cspan class=\"hljs-title function_\"\u003efail\u003c/span\u003e\u003cspan class=\"hljs-params\"\u003e(\u003cspan class=\"hljs-type\"\u003eint\u003c/span\u003e failureCode, String message, String shoeSize)\u003c/span\u003e {\n   \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e Future.failedFuture(\u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eMyServiceException\u003c/span\u003e(failureCode, message, shoeSize));\n }\n}\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eAs long as a default \u003ccode\u003eMessageCodec\u003c/code\u003e is registered, the Service implementation can return the custom\nexception directly to the caller:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003e\u003cspan class=\"hljs-keyword\"\u003epublic\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eSomeDatabaseServiceImpl\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eimplements\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eSomeDatabaseService\u003c/span\u003e {\n \u003cspan class=\"hljs-keyword\"\u003epublic\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003eSomeDataBaseServiceImpl\u003c/span\u003e\u003cspan class=\"hljs-params\"\u003e(Vertx vertx)\u003c/span\u003e {\n   \u003cspan class=\"hljs-comment\"\u003e// Register on the service side. If using a local event bus, this is all\u003c/span\u003e\n   \u003cspan class=\"hljs-comment\"\u003e// that\u0026#x27;s required, since the proxy side will share the same Vertx instance.\u003c/span\u003e\n \u003cspan class=\"hljs-type\"\u003eSomeDatabaseService\u003c/span\u003e \u003cspan class=\"hljs-variable\"\u003eservice\u003c/span\u003e \u003cspan class=\"hljs-operator\"\u003e=\u003c/span\u003e SomeDatabaseService.createProxy(vertx, SERVICE_ADDRESS);\n   vertx.eventBus().registerDefaultCodec(ShoeSizeException.class,\n     \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eShoeSizeExceptionMessageCodec\u003c/span\u003e());\n }\n\n \u003cspan class=\"hljs-comment\"\u003e// Create a connection\u003c/span\u003e\n Future\u0026lt;MyDatabaseConnection\u0026gt; \u003cspan class=\"hljs-title function_\"\u003ecreateConnection\u003c/span\u003e\u003cspan class=\"hljs-params\"\u003e(String shoeSize)\u003c/span\u003e {\n   \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (!shoeSize.equals(\u003cspan class=\"hljs-string\"\u003e\u0026quot;9\u0026quot;\u003c/span\u003e)) {\n     \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e ShoeSizeException.fail(shoeSize);\n   } \u003cspan class=\"hljs-keyword\"\u003eelse\u003c/span\u003e {\n     \u003cspan class=\"hljs-comment\"\u003e// Create the connection here\u003c/span\u003e\n     \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e Future.succeededFuture(myDbConnection);\n   }\n }\n}\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eFinally, the client can now check for the custom exception:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003e\u003cspan class=\"hljs-keyword\"\u003epublic\u003c/span\u003e Future\u0026lt;JsonObject\u0026gt; \u003cspan class=\"hljs-title function_\"\u003efoo\u003c/span\u003e\u003cspan class=\"hljs-params\"\u003e(String shoeSize)\u003c/span\u003e {\n \u003cspan class=\"hljs-comment\"\u003e// If this code is running on a different node in the cluster, the\u003c/span\u003e\n \u003cspan class=\"hljs-comment\"\u003e// ShoeSizeExceptionMessageCodec will need to be registered with the\u003c/span\u003e\n \u003cspan class=\"hljs-comment\"\u003e// Vertx instance on this node, too.\u003c/span\u003e\n \u003cspan class=\"hljs-type\"\u003eSomeDatabaseService\u003c/span\u003e \u003cspan class=\"hljs-variable\"\u003eservice\u003c/span\u003e \u003cspan class=\"hljs-operator\"\u003e=\u003c/span\u003e SomeDatabaseService.createProxy(vertx, SERVICE_ADDRESS);\n service.createConnection(\u003cspan class=\"hljs-string\"\u003e\u0026quot;8\u0026quot;\u003c/span\u003e)\n   .compose(connection -\u0026gt; {\n     \u003cspan class=\"hljs-comment\"\u003e// Do success stuff.\u003c/span\u003e\n     \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e doSuccessStuff(connection);\n   })\n   .recover(err -\u0026gt; {\n     \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (result.cause() \u003cspan class=\"hljs-keyword\"\u003einstanceof\u003c/span\u003e ShoeSizeException) {\n       \u003cspan class=\"hljs-type\"\u003eShoeSizeException\u003c/span\u003e \u003cspan class=\"hljs-variable\"\u003eexc\u003c/span\u003e \u003cspan class=\"hljs-operator\"\u003e=\u003c/span\u003e (ShoeSizeException) result.cause();\n       \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e Future.failedFuture(\n         \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eInvalidInputError\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026quot;You provided a bad shoe size: \u0026quot;\u003c/span\u003e + exc.getShoeSize()));\n     } \u003cspan class=\"hljs-keyword\"\u003eelse\u003c/span\u003e {\n       \u003cspan class=\"hljs-comment\"\u003e// Must be a system error (e.g. No service registered for the proxy)\u003c/span\u003e\n       \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e Future.failedFuture(\n         \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eSystemError\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026quot;An unexpected error occurred: + \u0026quot;\u003c/span\u003e result.cause().getMessage())\n       );\n     }\n   });\n}\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eNote that if you\u0026#8217;re clustering \u003ccode\u003eVertx\u003c/code\u003e instances, you\u0026#8217;ll need to register the custom Exception\u0026#8217;s \u003ccode\u003eMessageCodec\u003c/code\u003e\nwith each \u003ccode\u003eVertx\u003c/code\u003e instance in the cluster.\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect1\"\u003e\n\u003ch2 id=\"_restrictions_for_service_interface\"\u003e\u003ca class=\"anchor\" href=\"#_restrictions_for_service_interface\"\u003e\u003c/a\u003eRestrictions for service interface\u003c/h2\u003e\n\u003cdiv class=\"sectionbody\"\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eThere are restrictions on the types and return values that can be used in a service method so that these are easy to\nmarshall over event bus messages and so they can be used asynchronously. They are:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect2\"\u003e\n\u003ch3 id=\"_data_types\"\u003e\u003ca class=\"anchor\" href=\"#_data_types\"\u003e\u003c/a\u003eData types\u003c/h3\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eLet \u003ccode\u003eJSON\u003c/code\u003e = \u003ccode\u003eJsonObject | JsonArray\u003c/code\u003e\nLet \u003ccode\u003ePRIMITIVE\u003c/code\u003e = Any primitive type or boxed primitive type\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eParameters can be any of:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"ulist\"\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003eJSON\u003c/code\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003ePRIMITIVE\u003c/code\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003eList\u0026lt;JSON\u0026gt;\u003c/code\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003eList\u0026lt;PRIMITIVE\u0026gt;\u003c/code\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003eSet\u0026lt;JSON\u0026gt;\u003c/code\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003eSet\u0026lt;PRIMITIVE\u0026gt;\u003c/code\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003eMap\u0026lt;String, JSON\u0026gt;\u003c/code\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003eMap\u0026lt;String, PRIMITIVE\u0026gt;\u003c/code\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eAny \u003cem\u003eEnum\u003c/em\u003e type\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eAny class annotated with \u003ccode\u003e@DataObject\u003c/code\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eAsynchronous results are modelled as\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"ulist\"\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003eFuture\u0026lt;R\u0026gt;\u003c/code\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003eHandler\u0026lt;AsyncResult\u0026lt;R\u0026gt;\u0026gt;\u003c/code\u003e for callback style\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003e\u003ccode\u003eR\u003c/code\u003e can be any of:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"ulist\"\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003eJSON\u003c/code\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003ePRIMITIVE\u003c/code\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003eList\u0026lt;JSON\u0026gt;\u003c/code\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003eList\u0026lt;PRIMITIVE\u0026gt;\u003c/code\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003eSet\u0026lt;JSON\u0026gt;\u003c/code\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003eSet\u0026lt;PRIMITIVE\u0026gt;\u003c/code\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eAny \u003cem\u003eEnum\u003c/em\u003e type\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eAny class annotated with \u003ccode\u003e@DataObject\u003c/code\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eAnother proxy\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect2\"\u003e\n\u003ch3 id=\"_overloaded_methods\"\u003e\u003ca class=\"anchor\" href=\"#_overloaded_methods\"\u003e\u003c/a\u003eOverloaded methods\u003c/h3\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eThere must be no overloaded service methods. (\u003cem\u003ei.e.\u003c/em\u003e more than one with the same name, regardless the signature).\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect1\"\u003e\n\u003ch2 id=\"_convention_for_invoking_services_over_the_event_bus_without_proxies\"\u003e\u003ca class=\"anchor\" href=\"#_convention_for_invoking_services_over_the_event_bus_without_proxies\"\u003e\u003c/a\u003eConvention for invoking services over the event bus (without proxies)\u003c/h2\u003e\n\u003cdiv class=\"sectionbody\"\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eService Proxies assume that event bus messages follow a certain format so they can be used to invoke services.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eOf course, you don\u0026#8217;t \u003cstrong\u003ehave to\u003c/strong\u003e use client proxies to access remote service if you don\u0026#8217;t want to. It\u0026#8217;s perfectly acceptable\nto interact with them by just sending messages over the event bus.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eIn order for services to be interacted with a consistent way the following message formats \u003cstrong\u003emust be used\u003c/strong\u003e for any\nVert.x services.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eThe format is very simple:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"ulist\"\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003eThere should be a header called \u003ccode\u003eaction\u003c/code\u003e which gives the name of the action to perform.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eThe body of the message should be a \u003ccode\u003eJsonObject\u003c/code\u003e, there should be one field in the object for each argument needed by the action.\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eFor example to invoke an action called \u003ccode\u003esave\u003c/code\u003e which expects a String collection and a JsonObject document:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre\u003eHeaders:\n   \"action\": \"save\"\nBody:\n   {\n       \"collection\", \"mycollection\",\n       \"document\", {\n           \"name\": \"tim\"\n       }\n   }\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eThe above convention should be used whether or not service proxies are used to create services, as it allows services\nto be interacted with consistently.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eIn the case where service proxies are used the \"action\" value should map to the name of an action method in the\nservice interface and each \u003ccode\u003e[key, value]\u003c/code\u003e in the body should map to a \u003ccode\u003e[arg_name, arg_value]\u003c/code\u003e in the action method.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eFor return values the service should use the \u003ccode\u003emessage.reply(\u0026#8230;\u0026#8203;)\u003c/code\u003e method to send back a return value - this can be of\nany type supported by the event bus. To signal a failure the method \u003ccode\u003emessage.fail(\u0026#8230;\u0026#8203;)\u003c/code\u003e should be used.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eIf you are using service proxies the generated code will handle this for you automatically.\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e","version":"4.2.5"},"__N_SSG":true},"page":"/docs/[[...slug]]","query":{"slug":["4.2.5","vertx-service-proxy","java"]},"buildId":"DoywUqPdg2_fEh5cLsqFi","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>